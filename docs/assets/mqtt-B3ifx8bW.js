var no=Object.defineProperty,bl=Object.getOwnPropertyDescriptor,ml=Object.getOwnPropertyNames,vl=Object.prototype.hasOwnProperty,ze=(c,p)=>()=>(c&&(p=c(c=0)),p),ge=(c,p)=>()=>(p||c((p={exports:{}}).exports,p),p.exports),Ft=(c,p)=>{for(var s in p)no(c,s,{get:p[s],enumerable:!0})},wl=(c,p,s,o)=>{if(p&&typeof p=="object"||typeof p=="function")for(let l of ml(p))!vl.call(c,l)&&l!==s&&no(c,l,{get:()=>p[l],enumerable:!(o=bl(p,l))||o.enumerable});return c},Pe=c=>wl(no({},"__esModule",{value:!0}),c),ue=ze(()=>{}),Re={};Ft(Re,{_debugEnd:()=>Bn,_debugProcess:()=>Nn,_events:()=>Jn,_eventsCount:()=>Xn,_exiting:()=>_n,_fatalExceptions:()=>Cn,_getActiveHandles:()=>qs,_getActiveRequests:()=>Ws,_kill:()=>An,_linkedBinding:()=>Ds,_maxListeners:()=>Yn,_preload_modules:()=>Gn,_rawDebug:()=>mn,_startProfilerIdleNotifier:()=>Un,_stopProfilerIdleNotifier:()=>Ln,_tickCallback:()=>jn,abort:()=>qn,addListener:()=>Zn,allowedNodeEnvironmentFlags:()=>Pn,arch:()=>nn,argv:()=>an,argv0:()=>Vn,assert:()=>$s,binding:()=>hn,browser:()=>bn,chdir:()=>gn,config:()=>Sn,cpuUsage:()=>Gt,cwd:()=>dn,debugPort:()=>Kn,default:()=>oo,dlopen:()=>Fs,domain:()=>wn,emit:()=>ii,emitWarning:()=>fn,env:()=>sn,execArgv:()=>ln,execPath:()=>Hn,exit:()=>Tn,features:()=>Rn,hasUncaughtExceptionCaptureCallback:()=>zs,hrtime:()=>dr,kill:()=>kn,listeners:()=>Ks,memoryUsage:()=>xn,moduleLoadList:()=>vn,nextTick:()=>Us,off:()=>ti,on:()=>rt,once:()=>ei,openStdin:()=>On,pid:()=>$n,platform:()=>on,ppid:()=>zn,prependListener:()=>oi,prependOnceListener:()=>si,reallyExit:()=>En,release:()=>yn,removeAllListeners:()=>ni,removeListener:()=>ri,resourceUsage:()=>In,setSourceMapsEnabled:()=>Qn,setUncaughtExceptionCaptureCallback:()=>Mn,stderr:()=>Fn,stdin:()=>Wn,stdout:()=>Dn,title:()=>rn,umask:()=>pn,uptime:()=>Hs,version:()=>un,versions:()=>cn});function io(c){throw new Error("Node.js process "+c+" is not supported by JSPM core outside of Node.js")}function _l(){!xt||!At||(xt=!1,At.length?Ze=At.concat(Ze):er=-1,Ze.length&&Bs())}function Bs(){if(!xt){var c=setTimeout(_l,0);xt=!0;for(var p=Ze.length;p;){for(At=Ze,Ze=[];++er<p;)At&&At[er].run();er=-1,p=Ze.length}At=null,xt=!1,clearTimeout(c)}}function Us(c){var p=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)p[s-1]=arguments[s];Ze.push(new Ls(c,p)),Ze.length===1&&!xt&&setTimeout(Bs,0)}function Ls(c,p){this.fun=c,this.array=p}function Le(){}function Ds(c){io("_linkedBinding")}function Fs(c){io("dlopen")}function Ws(){return[]}function qs(){return[]}function $s(c,p){if(!c)throw new Error(p||"assertion error")}function zs(){return!1}function Hs(){return it.now()/1e3}function dr(c){var p=Math.floor((Date.now()-it.now())*.001),s=it.now()*.001,o=Math.floor(s)+p,l=Math.floor(s%1*1e9);return c&&(o=o-c[0],l=l-c[1],l<0&&(o--,l+=gr)),[o,l]}function rt(){return oo}function Ks(c){return[]}var Ze,xt,At,er,rn,nn,on,sn,an,ln,un,cn,fn,hn,pn,dn,gn,yn,bn,mn,vn,wn,_n,Sn,En,An,Gt,In,xn,kn,Tn,On,Pn,Rn,Cn,Mn,jn,Nn,Bn,Un,Ln,Dn,Fn,Wn,qn,$n,zn,Hn,Kn,Vn,Gn,Qn,it,Xr,gr,Yn,Jn,Xn,Zn,ei,ti,ri,ni,ii,oi,si,oo,Sl=ze(()=>{ue(),fe(),ce(),Ze=[],xt=!1,er=-1,Ls.prototype.run=function(){this.fun.apply(null,this.array)},rn="browser",nn="x64",on="browser",sn={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},an=["/usr/bin/node"],ln=[],un="v16.8.0",cn={},fn=function(c,p){console.warn((p?p+": ":"")+c)},hn=function(c){io("binding")},pn=function(c){return 0},dn=function(){return"/"},gn=function(c){},yn={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},bn=!0,mn=Le,vn=[],wn={},_n=!1,Sn={},En=Le,An=Le,Gt=function(){return{}},In=Gt,xn=Gt,kn=Le,Tn=Le,On=Le,Pn={},Rn={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Cn=Le,Mn=Le,jn=Le,Nn=Le,Bn=Le,Un=Le,Ln=Le,Dn=void 0,Fn=void 0,Wn=void 0,qn=Le,$n=2,zn=1,Hn="/bin/usr/node",Kn=9229,Vn="node",Gn=[],Qn=Le,it={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},it.now===void 0&&(Xr=Date.now(),it.timing&&it.timing.navigationStart&&(Xr=it.timing.navigationStart),it.now=()=>Date.now()-Xr),gr=1e9,dr.bigint=function(c){var p=dr(c);return typeof BigInt>"u"?p[0]*gr+p[1]:BigInt(p[0]*gr)+BigInt(p[1])},Yn=10,Jn={},Xn=0,Zn=rt,ei=rt,ti=rt,ri=rt,ni=rt,ii=Le,oi=rt,si=rt,oo={version:un,versions:cn,arch:nn,platform:on,browser:bn,release:yn,_rawDebug:mn,moduleLoadList:vn,binding:hn,_linkedBinding:Ds,_events:Jn,_eventsCount:Xn,_maxListeners:Yn,on:rt,addListener:Zn,once:ei,off:ti,removeListener:ri,removeAllListeners:ni,emit:ii,prependListener:oi,prependOnceListener:si,listeners:Ks,domain:wn,_exiting:_n,config:Sn,dlopen:Fs,uptime:Hs,_getActiveRequests:Ws,_getActiveHandles:qs,reallyExit:En,_kill:An,cpuUsage:Gt,resourceUsage:In,memoryUsage:xn,kill:kn,exit:Tn,openStdin:On,allowedNodeEnvironmentFlags:Pn,assert:$s,features:Rn,_fatalExceptions:Cn,setUncaughtExceptionCaptureCallback:Mn,hasUncaughtExceptionCaptureCallback:zs,emitWarning:fn,nextTick:Us,_tickCallback:jn,_debugProcess:Nn,_debugEnd:Bn,_startProfilerIdleNotifier:Un,_stopProfilerIdleNotifier:Ln,stdout:Dn,stdin:Wn,stderr:Fn,abort:qn,umask:pn,chdir:gn,cwd:dn,env:sn,title:rn,argv:an,execArgv:ln,pid:$n,ppid:zn,execPath:Hn,debugPort:Kn,hrtime:dr,argv0:Vn,_preload_modules:Gn,setSourceMapsEnabled:Qn}}),ce=ze(()=>{Sl()});function El(){if(ai)return Nt;ai=!0,Nt.byteLength=n,Nt.toByteArray=i,Nt.fromByteArray=d;for(var c=[],p=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,t=o.length;l<t;++l)c[l]=o[l],p[o.charCodeAt(l)]=l;p[45]=62,p[95]=63;function r(b){var f=b.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=b.indexOf("=");y===-1&&(y=f);var m=y===f?0:4-y%4;return[y,m]}function n(b){var f=r(b),y=f[0],m=f[1];return(y+m)*3/4-m}function e(b,f,y){return(f+y)*3/4-y}function i(b){var f,y=r(b),m=y[0],S=y[1],g=new s(e(b,m,S)),_=0,I=S>0?m-4:m,v;for(v=0;v<I;v+=4)f=p[b.charCodeAt(v)]<<18|p[b.charCodeAt(v+1)]<<12|p[b.charCodeAt(v+2)]<<6|p[b.charCodeAt(v+3)],g[_++]=f>>16&255,g[_++]=f>>8&255,g[_++]=f&255;return S===2&&(f=p[b.charCodeAt(v)]<<2|p[b.charCodeAt(v+1)]>>4,g[_++]=f&255),S===1&&(f=p[b.charCodeAt(v)]<<10|p[b.charCodeAt(v+1)]<<4|p[b.charCodeAt(v+2)]>>2,g[_++]=f>>8&255,g[_++]=f&255),g}function a(b){return c[b>>18&63]+c[b>>12&63]+c[b>>6&63]+c[b&63]}function h(b,f,y){for(var m,S=[],g=f;g<y;g+=3)m=(b[g]<<16&16711680)+(b[g+1]<<8&65280)+(b[g+2]&255),S.push(a(m));return S.join("")}function d(b){for(var f,y=b.length,m=y%3,S=[],g=16383,_=0,I=y-m;_<I;_+=g)S.push(h(b,_,_+g>I?I:_+g));return m===1?(f=b[y-1],S.push(c[f>>2]+c[f<<4&63]+"==")):m===2&&(f=(b[y-2]<<8)+b[y-1],S.push(c[f>>10]+c[f>>4&63]+c[f<<2&63]+"=")),S.join("")}return Nt}function Al(){return li?Qt:(li=!0,Qt.read=function(c,p,s,o,l){var t,r,n=l*8-o-1,e=(1<<n)-1,i=e>>1,a=-7,h=s?l-1:0,d=s?-1:1,b=c[p+h];for(h+=d,t=b&(1<<-a)-1,b>>=-a,a+=n;a>0;t=t*256+c[p+h],h+=d,a-=8);for(r=t&(1<<-a)-1,t>>=-a,a+=o;a>0;r=r*256+c[p+h],h+=d,a-=8);if(t===0)t=1-i;else{if(t===e)return r?NaN:(b?-1:1)*(1/0);r=r+Math.pow(2,o),t=t-i}return(b?-1:1)*r*Math.pow(2,t-o)},Qt.write=function(c,p,s,o,l,t){var r,n,e,i=t*8-l-1,a=(1<<i)-1,h=a>>1,d=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=o?0:t-1,f=o?1:-1,y=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(n=isNaN(p)?1:0,r=a):(r=Math.floor(Math.log(p)/Math.LN2),p*(e=Math.pow(2,-r))<1&&(r--,e*=2),r+h>=1?p+=d/e:p+=d*Math.pow(2,1-h),p*e>=2&&(r++,e/=2),r+h>=a?(n=0,r=a):r+h>=1?(n=(p*e-1)*Math.pow(2,l),r=r+h):(n=p*Math.pow(2,h-1)*Math.pow(2,l),r=0));l>=8;c[s+b]=n&255,b+=f,n/=256,l-=8);for(r=r<<l|n,i+=l;i>0;c[s+b]=r&255,b+=f,r/=256,i-=8);c[s+b-f]|=y*128},Qt)}function Il(){if(ui)return gt;ui=!0;let c=El(),p=Al(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;gt.Buffer=r,gt.SlowBuffer=S,gt.INSPECT_MAX_BYTES=50;let o=2147483647;gt.kMaxLength=o,r.TYPED_ARRAY_SUPPORT=l(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{let u=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(u,w),u.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function t(u){if(u>o)throw new RangeError('The value "'+u+'" is invalid for option "size"');let w=new Uint8Array(u);return Object.setPrototypeOf(w,r.prototype),w}function r(u,w,x){if(typeof u=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(u)}return n(u,w,x)}r.poolSize=8192;function n(u,w,x){if(typeof u=="string")return h(u,w);if(ArrayBuffer.isView(u))return b(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(H(u,ArrayBuffer)||u&&H(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(u,SharedArrayBuffer)||u&&H(u.buffer,SharedArrayBuffer)))return f(u,w,x);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let $=u.valueOf&&u.valueOf();if($!=null&&$!==u)return r.from($,w,x);let Z=y(u);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return r.from(u[Symbol.toPrimitive]("string"),w,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}r.from=function(u,w,x){return n(u,w,x)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function e(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function i(u,w,x){return e(u),u<=0?t(u):w!==void 0?typeof x=="string"?t(u).fill(w,x):t(u).fill(w):t(u)}r.alloc=function(u,w,x){return i(u,w,x)};function a(u){return e(u),t(u<0?0:m(u)|0)}r.allocUnsafe=function(u){return a(u)},r.allocUnsafeSlow=function(u){return a(u)};function h(u,w){if((typeof w!="string"||w==="")&&(w="utf8"),!r.isEncoding(w))throw new TypeError("Unknown encoding: "+w);let x=g(u,w)|0,$=t(x),Z=$.write(u,w);return Z!==x&&($=$.slice(0,Z)),$}function d(u){let w=u.length<0?0:m(u.length)|0,x=t(w);for(let $=0;$<w;$+=1)x[$]=u[$]&255;return x}function b(u){if(H(u,Uint8Array)){let w=new Uint8Array(u);return f(w.buffer,w.byteOffset,w.byteLength)}return d(u)}function f(u,w,x){if(w<0||u.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<w+(x||0))throw new RangeError('"length" is outside of buffer bounds');let $;return w===void 0&&x===void 0?$=new Uint8Array(u):x===void 0?$=new Uint8Array(u,w):$=new Uint8Array(u,w,x),Object.setPrototypeOf($,r.prototype),$}function y(u){if(r.isBuffer(u)){let w=m(u.length)|0,x=t(w);return x.length===0||u.copy(x,0,0,w),x}if(u.length!==void 0)return typeof u.length!="number"||ye(u.length)?t(0):d(u);if(u.type==="Buffer"&&Array.isArray(u.data))return d(u.data)}function m(u){if(u>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return u|0}function S(u){return+u!=u&&(u=0),r.alloc(+u)}r.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==r.prototype},r.compare=function(u,w){if(H(u,Uint8Array)&&(u=r.from(u,u.offset,u.byteLength)),H(w,Uint8Array)&&(w=r.from(w,w.offset,w.byteLength)),!r.isBuffer(u)||!r.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===w)return 0;let x=u.length,$=w.length;for(let Z=0,he=Math.min(x,$);Z<he;++Z)if(u[Z]!==w[Z]){x=u[Z],$=w[Z];break}return x<$?-1:$<x?1:0},r.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(u,w){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return r.alloc(0);let x;if(w===void 0)for(w=0,x=0;x<u.length;++x)w+=u[x].length;let $=r.allocUnsafe(w),Z=0;for(x=0;x<u.length;++x){let he=u[x];if(H(he,Uint8Array))Z+he.length>$.length?(r.isBuffer(he)||(he=r.from(he)),he.copy($,Z)):Uint8Array.prototype.set.call($,he,Z);else if(r.isBuffer(he))he.copy($,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=he.length}return $};function g(u,w){if(r.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||H(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);let x=u.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&x===0)return 0;let Z=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return z(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return de(u).length;default:if(Z)return $?-1:z(u).length;w=(""+w).toLowerCase(),Z=!0}}r.byteLength=g;function _(u,w,x){let $=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,w>>>=0,x<=w))return"";for(u||(u="utf8");;)switch(u){case"hex":return D(this,w,x);case"utf8":case"utf-8":return P(this,w,x);case"ascii":return ie(this,w,x);case"latin1":case"binary":return F(this,w,x);case"base64":return k(this,w,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,w,x);default:if($)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),$=!0}}r.prototype._isBuffer=!0;function I(u,w,x){let $=u[w];u[w]=u[x],u[x]=$}r.prototype.swap16=function(){let u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<u;w+=2)I(this,w,w+1);return this},r.prototype.swap32=function(){let u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<u;w+=4)I(this,w,w+3),I(this,w+1,w+2);return this},r.prototype.swap64=function(){let u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<u;w+=8)I(this,w,w+7),I(this,w+1,w+6),I(this,w+2,w+5),I(this,w+3,w+4);return this},r.prototype.toString=function(){let u=this.length;return u===0?"":arguments.length===0?P(this,0,u):_.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(u){if(!r.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:r.compare(this,u)===0},r.prototype.inspect=function(){let u="",w=gt.INSPECT_MAX_BYTES;return u=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(u+=" ... "),"<Buffer "+u+">"},s&&(r.prototype[s]=r.prototype.inspect),r.prototype.compare=function(u,w,x,$,Z){if(H(u,Uint8Array)&&(u=r.from(u,u.offset,u.byteLength)),!r.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(w===void 0&&(w=0),x===void 0&&(x=u?u.length:0),$===void 0&&($=0),Z===void 0&&(Z=this.length),w<0||x>u.length||$<0||Z>this.length)throw new RangeError("out of range index");if($>=Z&&w>=x)return 0;if($>=Z)return-1;if(w>=x)return 1;if(w>>>=0,x>>>=0,$>>>=0,Z>>>=0,this===u)return 0;let he=Z-$,Se=x-w,Y=Math.min(he,Se),oe=this.slice($,Z),Ie=u.slice(w,x);for(let xe=0;xe<Y;++xe)if(oe[xe]!==Ie[xe]){he=oe[xe],Se=Ie[xe];break}return he<Se?-1:Se<he?1:0};function v(u,w,x,$,Z){if(u.length===0)return-1;if(typeof x=="string"?($=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,ye(x)&&(x=Z?0:u.length-1),x<0&&(x=u.length+x),x>=u.length){if(Z)return-1;x=u.length-1}else if(x<0)if(Z)x=0;else return-1;if(typeof w=="string"&&(w=r.from(w,$)),r.isBuffer(w))return w.length===0?-1:A(u,w,x,$,Z);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(u,w,x):Uint8Array.prototype.lastIndexOf.call(u,w,x):A(u,[w],x,$,Z);throw new TypeError("val must be string, number or Buffer")}function A(u,w,x,$,Z){let he=1,Se=u.length,Y=w.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(u.length<2||w.length<2)return-1;he=2,Se/=2,Y/=2,x/=2}function oe(xe,ke){return he===1?xe[ke]:xe.readUInt16BE(ke*he)}let Ie;if(Z){let xe=-1;for(Ie=x;Ie<Se;Ie++)if(oe(u,Ie)===oe(w,xe===-1?0:Ie-xe)){if(xe===-1&&(xe=Ie),Ie-xe+1===Y)return xe*he}else xe!==-1&&(Ie-=Ie-xe),xe=-1}else for(x+Y>Se&&(x=Se-Y),Ie=x;Ie>=0;Ie--){let xe=!0;for(let ke=0;ke<Y;ke++)if(oe(u,Ie+ke)!==oe(w,ke)){xe=!1;break}if(xe)return Ie}return-1}r.prototype.includes=function(u,w,x){return this.indexOf(u,w,x)!==-1},r.prototype.indexOf=function(u,w,x){return v(this,u,w,x,!0)},r.prototype.lastIndexOf=function(u,w,x){return v(this,u,w,x,!1)};function E(u,w,x,$){x=Number(x)||0;let Z=u.length-x;$?($=Number($),$>Z&&($=Z)):$=Z;let he=w.length;$>he/2&&($=he/2);let Se;for(Se=0;Se<$;++Se){let Y=parseInt(w.substr(Se*2,2),16);if(ye(Y))return Se;u[x+Se]=Y}return Se}function T(u,w,x,$){return me(z(w,u.length-x),u,x,$)}function M(u,w,x,$){return me(re(w),u,x,$)}function C(u,w,x,$){return me(de(w),u,x,$)}function q(u,w,x,$){return me(pe(w,u.length-x),u,x,$)}r.prototype.write=function(u,w,x,$){if(w===void 0)$="utf8",x=this.length,w=0;else if(x===void 0&&typeof w=="string")$=w,x=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(x)?(x=x>>>0,$===void 0&&($="utf8")):($=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Z=this.length-w;if((x===void 0||x>Z)&&(x=Z),u.length>0&&(x<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");let he=!1;for(;;)switch($){case"hex":return E(this,u,w,x);case"utf8":case"utf-8":return T(this,u,w,x);case"ascii":case"latin1":case"binary":return M(this,u,w,x);case"base64":return C(this,u,w,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,u,w,x);default:if(he)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),he=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(u,w,x){return w===0&&x===u.length?c.fromByteArray(u):c.fromByteArray(u.slice(w,x))}function P(u,w,x){x=Math.min(u.length,x);let $=[],Z=w;for(;Z<x;){let he=u[Z],Se=null,Y=he>239?4:he>223?3:he>191?2:1;if(Z+Y<=x){let oe,Ie,xe,ke;switch(Y){case 1:he<128&&(Se=he);break;case 2:oe=u[Z+1],(oe&192)===128&&(ke=(he&31)<<6|oe&63,ke>127&&(Se=ke));break;case 3:oe=u[Z+1],Ie=u[Z+2],(oe&192)===128&&(Ie&192)===128&&(ke=(he&15)<<12|(oe&63)<<6|Ie&63,ke>2047&&(ke<55296||ke>57343)&&(Se=ke));break;case 4:oe=u[Z+1],Ie=u[Z+2],xe=u[Z+3],(oe&192)===128&&(Ie&192)===128&&(xe&192)===128&&(ke=(he&15)<<18|(oe&63)<<12|(Ie&63)<<6|xe&63,ke>65535&&ke<1114112&&(Se=ke))}}Se===null?(Se=65533,Y=1):Se>65535&&(Se-=65536,$.push(Se>>>10&1023|55296),Se=56320|Se&1023),$.push(Se),Z+=Y}return B($)}let j=4096;function B(u){let w=u.length;if(w<=j)return String.fromCharCode.apply(String,u);let x="",$=0;for(;$<w;)x+=String.fromCharCode.apply(String,u.slice($,$+=j));return x}function ie(u,w,x){let $="";x=Math.min(u.length,x);for(let Z=w;Z<x;++Z)$+=String.fromCharCode(u[Z]&127);return $}function F(u,w,x){let $="";x=Math.min(u.length,x);for(let Z=w;Z<x;++Z)$+=String.fromCharCode(u[Z]);return $}function D(u,w,x){let $=u.length;(!w||w<0)&&(w=0),(!x||x<0||x>$)&&(x=$);let Z="";for(let he=w;he<x;++he)Z+=we[u[he]];return Z}function ee(u,w,x){let $=u.slice(w,x),Z="";for(let he=0;he<$.length-1;he+=2)Z+=String.fromCharCode($[he]+$[he+1]*256);return Z}r.prototype.slice=function(u,w){let x=this.length;u=~~u,w=w===void 0?x:~~w,u<0?(u+=x,u<0&&(u=0)):u>x&&(u=x),w<0?(w+=x,w<0&&(w=0)):w>x&&(w=x),w<u&&(w=u);let $=this.subarray(u,w);return Object.setPrototypeOf($,r.prototype),$};function W(u,w,x){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+w>x)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(u,w,x){u=u>>>0,w=w>>>0,x||W(u,w,this.length);let $=this[u],Z=1,he=0;for(;++he<w&&(Z*=256);)$+=this[u+he]*Z;return $},r.prototype.readUintBE=r.prototype.readUIntBE=function(u,w,x){u=u>>>0,w=w>>>0,x||W(u,w,this.length);let $=this[u+--w],Z=1;for(;w>0&&(Z*=256);)$+=this[u+--w]*Z;return $},r.prototype.readUint8=r.prototype.readUInt8=function(u,w){return u=u>>>0,w||W(u,1,this.length),this[u]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(u,w){return u=u>>>0,w||W(u,2,this.length),this[u]|this[u+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(u,w){return u=u>>>0,w||W(u,2,this.length),this[u]<<8|this[u+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(u,w){return u=u>>>0,w||W(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(u,w){return u=u>>>0,w||W(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},r.prototype.readBigUInt64LE=ae(function(u){u=u>>>0,J(u,"offset");let w=this[u],x=this[u+7];(w===void 0||x===void 0)&&be(u,this.length-8);let $=w+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,Z=this[++u]+this[++u]*2**8+this[++u]*2**16+x*2**24;return BigInt($)+(BigInt(Z)<<BigInt(32))}),r.prototype.readBigUInt64BE=ae(function(u){u=u>>>0,J(u,"offset");let w=this[u],x=this[u+7];(w===void 0||x===void 0)&&be(u,this.length-8);let $=w*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],Z=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+x;return(BigInt($)<<BigInt(32))+BigInt(Z)}),r.prototype.readIntLE=function(u,w,x){u=u>>>0,w=w>>>0,x||W(u,w,this.length);let $=this[u],Z=1,he=0;for(;++he<w&&(Z*=256);)$+=this[u+he]*Z;return Z*=128,$>=Z&&($-=Math.pow(2,8*w)),$},r.prototype.readIntBE=function(u,w,x){u=u>>>0,w=w>>>0,x||W(u,w,this.length);let $=w,Z=1,he=this[u+--$];for(;$>0&&(Z*=256);)he+=this[u+--$]*Z;return Z*=128,he>=Z&&(he-=Math.pow(2,8*w)),he},r.prototype.readInt8=function(u,w){return u=u>>>0,w||W(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},r.prototype.readInt16LE=function(u,w){u=u>>>0,w||W(u,2,this.length);let x=this[u]|this[u+1]<<8;return x&32768?x|4294901760:x},r.prototype.readInt16BE=function(u,w){u=u>>>0,w||W(u,2,this.length);let x=this[u+1]|this[u]<<8;return x&32768?x|4294901760:x},r.prototype.readInt32LE=function(u,w){return u=u>>>0,w||W(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},r.prototype.readInt32BE=function(u,w){return u=u>>>0,w||W(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},r.prototype.readBigInt64LE=ae(function(u){u=u>>>0,J(u,"offset");let w=this[u],x=this[u+7];(w===void 0||x===void 0)&&be(u,this.length-8);let $=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(x<<24);return(BigInt($)<<BigInt(32))+BigInt(w+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),r.prototype.readBigInt64BE=ae(function(u){u=u>>>0,J(u,"offset");let w=this[u],x=this[u+7];(w===void 0||x===void 0)&&be(u,this.length-8);let $=(w<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt($)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+x)}),r.prototype.readFloatLE=function(u,w){return u=u>>>0,w||W(u,4,this.length),p.read(this,u,!0,23,4)},r.prototype.readFloatBE=function(u,w){return u=u>>>0,w||W(u,4,this.length),p.read(this,u,!1,23,4)},r.prototype.readDoubleLE=function(u,w){return u=u>>>0,w||W(u,8,this.length),p.read(this,u,!0,52,8)},r.prototype.readDoubleBE=function(u,w){return u=u>>>0,w||W(u,8,this.length),p.read(this,u,!1,52,8)};function X(u,w,x,$,Z,he){if(!r.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>Z||w<he)throw new RangeError('"value" argument is out of bounds');if(x+$>u.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(u,w,x,$){if(u=+u,w=w>>>0,x=x>>>0,!$){let Se=Math.pow(2,8*x)-1;X(this,u,w,x,Se,0)}let Z=1,he=0;for(this[w]=u&255;++he<x&&(Z*=256);)this[w+he]=u/Z&255;return w+x},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(u,w,x,$){if(u=+u,w=w>>>0,x=x>>>0,!$){let Se=Math.pow(2,8*x)-1;X(this,u,w,x,Se,0)}let Z=x-1,he=1;for(this[w+Z]=u&255;--Z>=0&&(he*=256);)this[w+Z]=u/he&255;return w+x},r.prototype.writeUint8=r.prototype.writeUInt8=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,1,255,0),this[w]=u&255,w+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,2,65535,0),this[w]=u&255,this[w+1]=u>>>8,w+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,2,65535,0),this[w]=u>>>8,this[w+1]=u&255,w+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,4,4294967295,0),this[w+3]=u>>>24,this[w+2]=u>>>16,this[w+1]=u>>>8,this[w]=u&255,w+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,4,4294967295,0),this[w]=u>>>24,this[w+1]=u>>>16,this[w+2]=u>>>8,this[w+3]=u&255,w+4};function R(u,w,x,$,Z){Q(w,$,Z,u,x,7);let he=Number(w&BigInt(4294967295));u[x++]=he,he=he>>8,u[x++]=he,he=he>>8,u[x++]=he,he=he>>8,u[x++]=he;let Se=Number(w>>BigInt(32)&BigInt(4294967295));return u[x++]=Se,Se=Se>>8,u[x++]=Se,Se=Se>>8,u[x++]=Se,Se=Se>>8,u[x++]=Se,x}function K(u,w,x,$,Z){Q(w,$,Z,u,x,7);let he=Number(w&BigInt(4294967295));u[x+7]=he,he=he>>8,u[x+6]=he,he=he>>8,u[x+5]=he,he=he>>8,u[x+4]=he;let Se=Number(w>>BigInt(32)&BigInt(4294967295));return u[x+3]=Se,Se=Se>>8,u[x+2]=Se,Se=Se>>8,u[x+1]=Se,Se=Se>>8,u[x]=Se,x+8}r.prototype.writeBigUInt64LE=ae(function(u,w=0){return R(this,u,w,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=ae(function(u,w=0){return K(this,u,w,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(u,w,x,$){if(u=+u,w=w>>>0,!$){let Y=Math.pow(2,8*x-1);X(this,u,w,x,Y-1,-Y)}let Z=0,he=1,Se=0;for(this[w]=u&255;++Z<x&&(he*=256);)u<0&&Se===0&&this[w+Z-1]!==0&&(Se=1),this[w+Z]=(u/he>>0)-Se&255;return w+x},r.prototype.writeIntBE=function(u,w,x,$){if(u=+u,w=w>>>0,!$){let Y=Math.pow(2,8*x-1);X(this,u,w,x,Y-1,-Y)}let Z=x-1,he=1,Se=0;for(this[w+Z]=u&255;--Z>=0&&(he*=256);)u<0&&Se===0&&this[w+Z+1]!==0&&(Se=1),this[w+Z]=(u/he>>0)-Se&255;return w+x},r.prototype.writeInt8=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,1,127,-128),u<0&&(u=255+u+1),this[w]=u&255,w+1},r.prototype.writeInt16LE=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,2,32767,-32768),this[w]=u&255,this[w+1]=u>>>8,w+2},r.prototype.writeInt16BE=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,2,32767,-32768),this[w]=u>>>8,this[w+1]=u&255,w+2},r.prototype.writeInt32LE=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,4,2147483647,-2147483648),this[w]=u&255,this[w+1]=u>>>8,this[w+2]=u>>>16,this[w+3]=u>>>24,w+4},r.prototype.writeInt32BE=function(u,w,x){return u=+u,w=w>>>0,x||X(this,u,w,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[w]=u>>>24,this[w+1]=u>>>16,this[w+2]=u>>>8,this[w+3]=u&255,w+4},r.prototype.writeBigInt64LE=ae(function(u,w=0){return R(this,u,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=ae(function(u,w=0){return K(this,u,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function le(u,w,x,$,Z,he){if(x+$>u.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function te(u,w,x,$,Z){return w=+w,x=x>>>0,Z||le(u,w,x,4),p.write(u,w,x,$,23,4),x+4}r.prototype.writeFloatLE=function(u,w,x){return te(this,u,w,!0,x)},r.prototype.writeFloatBE=function(u,w,x){return te(this,u,w,!1,x)};function ve(u,w,x,$,Z){return w=+w,x=x>>>0,Z||le(u,w,x,8),p.write(u,w,x,$,52,8),x+8}r.prototype.writeDoubleLE=function(u,w,x){return ve(this,u,w,!0,x)},r.prototype.writeDoubleBE=function(u,w,x){return ve(this,u,w,!1,x)},r.prototype.copy=function(u,w,x,$){if(!r.isBuffer(u))throw new TypeError("argument should be a Buffer");if(x||(x=0),!$&&$!==0&&($=this.length),w>=u.length&&(w=u.length),w||(w=0),$>0&&$<x&&($=x),$===x||u.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),u.length-w<$-x&&($=u.length-w+x);let Z=$-x;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,x,$):Uint8Array.prototype.set.call(u,this.subarray(x,$),w),Z},r.prototype.fill=function(u,w,x,$){if(typeof u=="string"){if(typeof w=="string"?($=w,w=0,x=this.length):typeof x=="string"&&($=x,x=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!r.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(u.length===1){let he=u.charCodeAt(0);($==="utf8"&&he<128||$==="latin1")&&(u=he)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(w<0||this.length<w||this.length<x)throw new RangeError("Out of range index");if(x<=w)return this;w=w>>>0,x=x===void 0?this.length:x>>>0,u||(u=0);let Z;if(typeof u=="number")for(Z=w;Z<x;++Z)this[Z]=u;else{let he=r.isBuffer(u)?u:r.from(u,$),Se=he.length;if(Se===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(Z=0;Z<x-w;++Z)this[Z+w]=he[Z%Se]}return this};let V={};function N(u,w,x){V[u]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code($){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(u,w){return`The "${u}" argument must be of type number. Received type ${typeof w}`},TypeError),N("ERR_OUT_OF_RANGE",function(u,w,x){let $=`The value of "${u}" is out of range.`,Z=x;return Number.isInteger(x)&&Math.abs(x)>2**32?Z=ne(String(x)):typeof x=="bigint"&&(Z=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(Z=ne(Z)),Z+="n"),$+=` It must be ${w}. Received ${Z}`,$},RangeError);function ne(u){let w="",x=u.length,$=u[0]==="-"?1:0;for(;x>=$+4;x-=3)w=`_${u.slice(x-3,x)}${w}`;return`${u.slice(0,x)}${w}`}function G(u,w,x){J(w,"offset"),(u[w]===void 0||u[w+x]===void 0)&&be(w,u.length-(x+1))}function Q(u,w,x,$,Z,he){if(u>x||u<w){let Se=typeof w=="bigint"?"n":"",Y;throw w===0||w===BigInt(0)?Y=`>= 0${Se} and < 2${Se} ** ${(he+1)*8}${Se}`:Y=`>= -(2${Se} ** ${(he+1)*8-1}${Se}) and < 2 ** ${(he+1)*8-1}${Se}`,new V.ERR_OUT_OF_RANGE("value",Y,u)}G($,Z,he)}function J(u,w){if(typeof u!="number")throw new V.ERR_INVALID_ARG_TYPE(w,"number",u)}function be(u,w,x){throw Math.floor(u)!==u?(J(u,x),new V.ERR_OUT_OF_RANGE("offset","an integer",u)):w<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${w}`,u)}let se=/[^+/0-9A-Za-z-_]/g;function U(u){if(u=u.split("=")[0],u=u.trim().replace(se,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function z(u,w){w=w||1/0;let x,$=u.length,Z=null,he=[];for(let Se=0;Se<$;++Se){if(x=u.charCodeAt(Se),x>55295&&x<57344){if(!Z){if(x>56319){(w-=3)>-1&&he.push(239,191,189);continue}else if(Se+1===$){(w-=3)>-1&&he.push(239,191,189);continue}Z=x;continue}if(x<56320){(w-=3)>-1&&he.push(239,191,189),Z=x;continue}x=(Z-55296<<10|x-56320)+65536}else Z&&(w-=3)>-1&&he.push(239,191,189);if(Z=null,x<128){if((w-=1)<0)break;he.push(x)}else if(x<2048){if((w-=2)<0)break;he.push(x>>6|192,x&63|128)}else if(x<65536){if((w-=3)<0)break;he.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((w-=4)<0)break;he.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return he}function re(u){let w=[];for(let x=0;x<u.length;++x)w.push(u.charCodeAt(x)&255);return w}function pe(u,w){let x,$,Z,he=[];for(let Se=0;Se<u.length&&!((w-=2)<0);++Se)x=u.charCodeAt(Se),$=x>>8,Z=x%256,he.push(Z),he.push($);return he}function de(u){return c.toByteArray(U(u))}function me(u,w,x,$){let Z;for(Z=0;Z<$&&!(Z+x>=w.length||Z>=u.length);++Z)w[Z+x]=u[Z];return Z}function H(u,w){return u instanceof w||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===w.name}function ye(u){return u!==u}let we=(function(){let u="0123456789abcdef",w=new Array(256);for(let x=0;x<16;++x){let $=x*16;for(let Z=0;Z<16;++Z)w[$+Z]=u[x]+u[Z]}return w})();function ae(u){return typeof BigInt>"u"?Te:u}function Te(){throw new Error("BigInt not supported")}return gt}var Nt,ai,Qt,li,gt,ui,xl=ze(()=>{ue(),fe(),ce(),Nt={},ai=!1,Qt={},li=!1,gt={},ui=!1}),Ne={};Ft(Ne,{Buffer:()=>$r,INSPECT_MAX_BYTES:()=>Vs,default:()=>nt,kMaxLength:()=>Gs});var nt,$r,Vs,Gs,Be=ze(()=>{ue(),fe(),ce(),xl(),nt=Il(),nt.Buffer,nt.SlowBuffer,nt.INSPECT_MAX_BYTES,nt.kMaxLength,$r=nt.Buffer,Vs=nt.INSPECT_MAX_BYTES,Gs=nt.kMaxLength}),fe=ze(()=>{Be()}),Me=ge((c,p)=>{ue(),fe(),ce();var s=class extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let l="";for(let t=0;t<o.length;t++)l+=`    ${o[t].stack}
`;super(l),this.name="AggregateError",this.errors=o}};p.exports={AggregateError:s,ArrayIsArray(o){return Array.isArray(o)},ArrayPrototypeIncludes(o,l){return o.includes(l)},ArrayPrototypeIndexOf(o,l){return o.indexOf(l)},ArrayPrototypeJoin(o,l){return o.join(l)},ArrayPrototypeMap(o,l){return o.map(l)},ArrayPrototypePop(o,l){return o.pop(l)},ArrayPrototypePush(o,l){return o.push(l)},ArrayPrototypeSlice(o,l,t){return o.slice(l,t)},Error,FunctionPrototypeCall(o,l,...t){return o.call(l,...t)},FunctionPrototypeSymbolHasInstance(o,l){return Function.prototype[Symbol.hasInstance].call(o,l)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(o,l){return Object.defineProperties(o,l)},ObjectDefineProperty(o,l,t){return Object.defineProperty(o,l,t)},ObjectGetOwnPropertyDescriptor(o,l){return Object.getOwnPropertyDescriptor(o,l)},ObjectKeys(o){return Object.keys(o)},ObjectSetPrototypeOf(o,l){return Object.setPrototypeOf(o,l)},Promise,PromisePrototypeCatch(o,l){return o.catch(l)},PromisePrototypeThen(o,l,t){return o.then(l,t)},PromiseReject(o){return Promise.reject(o)},PromiseResolve(o){return Promise.resolve(o)},ReflectApply:Reflect.apply,RegExpPrototypeTest(o,l){return o.test(l)},SafeSet:Set,String,StringPrototypeSlice(o,l,t){return o.slice(l,t)},StringPrototypeToLowerCase(o){return o.toLowerCase()},StringPrototypeToUpperCase(o){return o.toUpperCase()},StringPrototypeTrim(o){return o.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(o,l,t){return o.set(l,t)},Boolean,Uint8Array}}),Qs=ge((c,p)=>{ue(),fe(),ce(),p.exports={format(s,...o){return s.replace(/%([sdifj])/g,function(...[l,t]){let r=o.shift();return t==="f"?r.toFixed(6):t==="j"?JSON.stringify(r):t==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},inspect(s){switch(typeof s){case"string":if(s.includes("'"))if(s.includes('"')){if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}else return`"${s}"`;return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}}}}),qe=ge((c,p)=>{ue(),fe(),ce();var{format:s,inspect:o}=Qs(),{AggregateError:l}=Me(),t=globalThis.AggregateError||l,r=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],e=/^([A-Z][a-z0-9]*)+$/,i="__node_internal_",a={};function h(g,_){if(!g)throw new a.ERR_INTERNAL_ASSERTION(_)}function d(g){let _="",I=g.length,v=g[0]==="-"?1:0;for(;I>=v+4;I-=3)_=`_${g.slice(I-3,I)}${_}`;return`${g.slice(0,I)}${_}`}function b(g,_,I){if(typeof _=="function")return h(_.length<=I.length,`Code: ${g}; The provided arguments length (${I.length}) does not match the required ones (${_.length}).`),_(...I);let v=(_.match(/%[dfijoOs]/g)||[]).length;return h(v===I.length,`Code: ${g}; The provided arguments length (${I.length}) does not match the required ones (${v}).`),I.length===0?_:s(_,...I)}function f(g,_,I){I||(I=Error);class v extends I{constructor(...E){super(b(g,_,E))}toString(){return`${this.name} [${g}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${g}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=g,v.prototype[r]=!0,a[g]=v}function y(g){let _=i+g.name;return Object.defineProperty(g,"name",{value:_}),g}function m(g,_){if(g&&_&&g!==_){if(Array.isArray(_.errors))return _.errors.push(g),_;let I=new t([_,g],_.message);return I.code=_.code,I}return g||_}var S=class extends Error{constructor(g="The operation was aborted",_=void 0){if(_!==void 0&&typeof _!="object")throw new a.ERR_INVALID_ARG_TYPE("options","Object",_);super(g,_),this.code="ABORT_ERR",this.name="AbortError"}};f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(g,_,I)=>{h(typeof g=="string","'name' must be a string"),Array.isArray(_)||(_=[_]);let v="The ";g.endsWith(" argument")?v+=`${g} `:v+=`"${g}" ${g.includes(".")?"property":"argument"} `,v+="must be ";let A=[],E=[],T=[];for(let C of _)h(typeof C=="string","All expected entries have to be of type string"),n.includes(C)?A.push(C.toLowerCase()):e.test(C)?E.push(C):(h(C!=="object",'The value "object" should be written as "Object"'),T.push(C));if(E.length>0){let C=A.indexOf("object");C!==-1&&(A.splice(A,C,1),E.push("Object"))}if(A.length>0){switch(A.length){case 1:v+=`of type ${A[0]}`;break;case 2:v+=`one of type ${A[0]} or ${A[1]}`;break;default:{let C=A.pop();v+=`one of type ${A.join(", ")}, or ${C}`}}(E.length>0||T.length>0)&&(v+=" or ")}if(E.length>0){switch(E.length){case 1:v+=`an instance of ${E[0]}`;break;case 2:v+=`an instance of ${E[0]} or ${E[1]}`;break;default:{let C=E.pop();v+=`an instance of ${E.join(", ")}, or ${C}`}}T.length>0&&(v+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(v+="an "),v+=`${T[0]}`;break;case 2:v+=`one of ${T[0]} or ${T[1]}`;break;default:{let C=T.pop();v+=`one of ${T.join(", ")}, or ${C}`}}if(I==null)v+=`. Received ${I}`;else if(typeof I=="function"&&I.name)v+=`. Received function ${I.name}`;else if(typeof I=="object"){var M;if((M=I.constructor)!==null&&M!==void 0&&M.name)v+=`. Received an instance of ${I.constructor.name}`;else{let C=o(I,{depth:-1});v+=`. Received ${C}`}}else{let C=o(I,{colors:!1});C.length>25&&(C=`${C.slice(0,25)}...`),v+=`. Received type ${typeof I} (${C})`}return v},TypeError),f("ERR_INVALID_ARG_VALUE",(g,_,I="is invalid")=>{let v=o(_);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${g.includes(".")?"property":"argument"} '${g}' ${I}. Received ${v}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(g,_,I)=>{var v;let A=I!=null&&(v=I.constructor)!==null&&v!==void 0&&v.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${g} to be returned from the "${_}" function but got ${A}.`},TypeError),f("ERR_MISSING_ARGS",(...g)=>{h(g.length>0,"At least one arg needs to be specified");let _,I=g.length;switch(g=(Array.isArray(g)?g:[g]).map(v=>`"${v}"`).join(" or "),I){case 1:_+=`The ${g[0]} argument`;break;case 2:_+=`The ${g[0]} and ${g[1]} arguments`;break;default:{let v=g.pop();_+=`The ${g.join(", ")}, and ${v} arguments`}break}return`${_} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(g,_,I)=>{h(_,'Missing "range" argument');let v;if(Number.isInteger(I)&&Math.abs(I)>2**32)v=d(String(I));else if(typeof I=="bigint"){v=String(I);let A=BigInt(2)**BigInt(32);(I>A||I<-A)&&(v=d(v)),v+="n"}else v=o(I);return`The value of "${g}" is out of range. It must be ${_}. Received ${v}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),p.exports={AbortError:S,aggregateTwoErrors:y(m),hideStackFrames:y,codes:a}}),rr=ge((c,p)=>{ue(),fe(),ce();var{AbortController:s,AbortSignal:o}=typeof self<"u"?self:typeof window<"u"?window:void 0;p.exports=s,p.exports.AbortSignal=o,p.exports.default=s}),mt={};Ft(mt,{EventEmitter:()=>Ys,default:()=>Bt,defaultMaxListeners:()=>Js,init:()=>Xs,listenerCount:()=>Zs,on:()=>ea,once:()=>ta});function kl(){if(ci)return Yt;ci=!0;var c=typeof Reflect=="object"?Reflect:null,p=c&&typeof c.apply=="function"?c.apply:function(I,v,A){return Function.prototype.apply.call(I,v,A)},s;c&&typeof c.ownKeys=="function"?s=c.ownKeys:Object.getOwnPropertySymbols?s=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:s=function(I){return Object.getOwnPropertyNames(I)};function o(I){console&&console.warn&&console.warn(I)}var l=Number.isNaN||function(I){return I!==I};function t(){t.init.call(this)}Yt=t,Yt.once=S,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var r=10;function n(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(I){if(typeof I!="number"||I<0||l(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");r=I}}),t.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||l(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function e(I){return I._maxListeners===void 0?t.defaultMaxListeners:I._maxListeners}t.prototype.getMaxListeners=function(){return e(this)},t.prototype.emit=function(I){for(var v=[],A=1;A<arguments.length;A++)v.push(arguments[A]);var E=I==="error",T=this._events;if(T!==void 0)E=E&&T.error===void 0;else if(!E)return!1;if(E){var M;if(v.length>0&&(M=v[0]),M instanceof Error)throw M;var C=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw C.context=M,C}var q=T[I];if(q===void 0)return!1;if(typeof q=="function")p(q,this,v);else for(var k=q.length,P=f(q,k),A=0;A<k;++A)p(P[A],this,v);return!0};function i(I,v,A,E){var T,M,C;if(n(A),M=I._events,M===void 0?(M=I._events=Object.create(null),I._eventsCount=0):(M.newListener!==void 0&&(I.emit("newListener",v,A.listener?A.listener:A),M=I._events),C=M[v]),C===void 0)C=M[v]=A,++I._eventsCount;else if(typeof C=="function"?C=M[v]=E?[A,C]:[C,A]:E?C.unshift(A):C.push(A),T=e(I),T>0&&C.length>T&&!C.warned){C.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=I,q.type=v,q.count=C.length,o(q)}return I}t.prototype.addListener=function(I,v){return i(this,I,v,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(I,v){return i(this,I,v,!0)};function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(I,v,A){var E={fired:!1,wrapFn:void 0,target:I,type:v,listener:A},T=a.bind(E);return T.listener=A,E.wrapFn=T,T}t.prototype.once=function(I,v){return n(v),this.on(I,h(this,I,v)),this},t.prototype.prependOnceListener=function(I,v){return n(v),this.prependListener(I,h(this,I,v)),this},t.prototype.removeListener=function(I,v){var A,E,T,M,C;if(n(v),E=this._events,E===void 0)return this;if(A=E[I],A===void 0)return this;if(A===v||A.listener===v)--this._eventsCount===0?this._events=Object.create(null):(delete E[I],E.removeListener&&this.emit("removeListener",I,A.listener||v));else if(typeof A!="function"){for(T=-1,M=A.length-1;M>=0;M--)if(A[M]===v||A[M].listener===v){C=A[M].listener,T=M;break}if(T<0)return this;T===0?A.shift():y(A,T),A.length===1&&(E[I]=A[0]),E.removeListener!==void 0&&this.emit("removeListener",I,C||v)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(I){var v,A,E;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[I]),this;if(arguments.length===0){var T=Object.keys(A),M;for(E=0;E<T.length;++E)M=T[E],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(v=A[I],typeof v=="function")this.removeListener(I,v);else if(v!==void 0)for(E=v.length-1;E>=0;E--)this.removeListener(I,v[E]);return this};function d(I,v,A){var E=I._events;if(E===void 0)return[];var T=E[v];return T===void 0?[]:typeof T=="function"?A?[T.listener||T]:[T]:A?m(T):f(T,T.length)}t.prototype.listeners=function(I){return d(this,I,!0)},t.prototype.rawListeners=function(I){return d(this,I,!1)},t.listenerCount=function(I,v){return typeof I.listenerCount=="function"?I.listenerCount(v):b.call(I,v)},t.prototype.listenerCount=b;function b(I){var v=this._events;if(v!==void 0){var A=v[I];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}t.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function f(I,v){for(var A=new Array(v),E=0;E<v;++E)A[E]=I[E];return A}function y(I,v){for(;v+1<I.length;v++)I[v]=I[v+1];I.pop()}function m(I){for(var v=new Array(I.length),A=0;A<v.length;++A)v[A]=I[A].listener||I[A];return v}function S(I,v){return new Promise(function(A,E){function T(C){I.removeListener(v,M),E(C)}function M(){typeof I.removeListener=="function"&&I.removeListener("error",T),A([].slice.call(arguments))}_(I,v,M,{once:!0}),v!=="error"&&g(I,T,{once:!0})})}function g(I,v,A){typeof I.on=="function"&&_(I,"error",v,A)}function _(I,v,A,E){if(typeof I.on=="function")E.once?I.once(v,A):I.on(v,A);else if(typeof I.addEventListener=="function")I.addEventListener(v,function T(M){E.once&&I.removeEventListener(v,T),A(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return Yt}var Yt,ci,Bt,Ys,Js,Xs,Zs,ea,ta,Tt=ze(()=>{ue(),fe(),ce(),Yt={},ci=!1,Bt=kl(),Bt.once,Bt.once=function(c,p){return new Promise((s,o)=>{function l(...r){t!==void 0&&c.removeListener("error",t),s(r)}let t;p!=="error"&&(t=r=>{c.removeListener(name,l),o(r)},c.once("error",t)),c.once(p,l)})},Bt.on=function(c,p){let s=[],o=[],l=null,t=!1,r={async next(){let i=s.shift();if(i)return createIterResult(i,!1);if(l){let a=Promise.reject(l);return l=null,a}return t?createIterResult(void 0,!0):new Promise((a,h)=>o.push({resolve:a,reject:h}))},async return(){c.removeListener(p,n),c.removeListener("error",e),t=!0;for(let i of o)i.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(i){l=i,c.removeListener(p,n),c.removeListener("error",e)},[Symbol.asyncIterator](){return this}};return c.on(p,n),c.on("error",e),r;function n(...i){let a=o.shift();a?a.resolve(createIterResult(i,!1)):s.push(i)}function e(i){t=!0;let a=o.shift();a?a.reject(i):l=i,r.return()}},{EventEmitter:Ys,defaultMaxListeners:Js,init:Xs,listenerCount:Zs,on:ea,once:ta}=Bt}),$e=ge((c,p)=>{ue(),fe(),ce();var s=(Be(),Pe(Ne)),{format:o,inspect:l}=Qs(),{codes:{ERR_INVALID_ARG_TYPE:t}}=qe(),{kResistStopPropagation:r,AggregateError:n,SymbolDispose:e}=Me(),i=globalThis.AbortSignal||rr().AbortSignal,a=globalThis.AbortController||rr().AbortController,h=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||s.Blob,b=typeof d<"u"?function(m){return m instanceof d}:function(m){return!1},f=(m,S)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new t(S,"AbortSignal",m)},y=(m,S)=>{if(typeof m!="function")throw new t(S,"Function",m)};p.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(m){let S=!1;return function(...g){S||(S=!0,m.apply(this,g))}},createDeferredPromise:function(){let m,S;return{promise:new Promise((g,_)=>{m=g,S=_}),resolve:m,reject:S}},promisify(m){return new Promise((S,g)=>{m((_,...I)=>_?g(_):S(...I))})},debuglog(){return function(){}},format:o,inspect:l,types:{isAsyncFunction(m){return m instanceof h},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:b,deprecate(m,S){return m},addAbortListener:(Tt(),Pe(mt)).addAbortListener||function(m,S){if(m===void 0)throw new t("signal","AbortSignal",m);f(m,"signal"),y(S,"listener");let g;return m.aborted?queueMicrotask(()=>S()):(m.addEventListener("abort",S,{__proto__:null,once:!0,[r]:!0}),g=()=>{m.removeEventListener("abort",S)}),{__proto__:null,[e](){var _;(_=g)===null||_===void 0||_()}}},AbortSignalAny:i.any||function(m){if(m.length===1)return m[0];let S=new a,g=()=>S.abort();return m.forEach(_=>{f(_,"signals"),_.addEventListener("abort",g,{once:!0})}),S.signal.addEventListener("abort",()=>{m.forEach(_=>_.removeEventListener("abort",g))},{once:!0}),S.signal}},p.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),or=ge((c,p)=>{ue(),fe(),ce();var{ArrayIsArray:s,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:l,ArrayPrototypeMap:t,NumberIsInteger:r,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:e,NumberMIN_SAFE_INTEGER:i,NumberParseInt:a,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:d,String:b,StringPrototypeToUpperCase:f,StringPrototypeTrim:y}=Me(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:S,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:v}}=qe(),{normalizeEncoding:A}=$e(),{isAsyncFunction:E,isArrayBufferView:T}=$e().types,M={};function C(H){return H===(H|0)}function q(H){return H===H>>>0}var k=/^[0-7]+$/,P="must be a 32-bit unsigned integer or an octal string";function j(H,ye,we){if(typeof H>"u"&&(H=we),typeof H=="string"){if(d(k,H)===null)throw new _(ye,H,P);H=a(H,8)}return F(H,ye),H}var B=m((H,ye,we=i,ae=e)=>{if(typeof H!="number")throw new g(ye,"number",H);if(!r(H))throw new I(ye,"an integer",H);if(H<we||H>ae)throw new I(ye,`>= ${we} && <= ${ae}`,H)}),ie=m((H,ye,we=-2147483648,ae=2147483647)=>{if(typeof H!="number")throw new g(ye,"number",H);if(!r(H))throw new I(ye,"an integer",H);if(H<we||H>ae)throw new I(ye,`>= ${we} && <= ${ae}`,H)}),F=m((H,ye,we=!1)=>{if(typeof H!="number")throw new g(ye,"number",H);if(!r(H))throw new I(ye,"an integer",H);let ae=we?1:0,Te=4294967295;if(H<ae||H>Te)throw new I(ye,`>= ${ae} && <= ${Te}`,H)});function D(H,ye){if(typeof H!="string")throw new g(ye,"string",H)}function ee(H,ye,we=void 0,ae){if(typeof H!="number")throw new g(ye,"number",H);if(we!=null&&H<we||ae!=null&&H>ae||(we!=null||ae!=null)&&n(H))throw new I(ye,`${we!=null?`>= ${we}`:""}${we!=null&&ae!=null?" && ":""}${ae!=null?`<= ${ae}`:""}`,H)}var W=m((H,ye,we)=>{if(!o(we,H)){let ae="must be one of: "+l(t(we,Te=>typeof Te=="string"?`'${Te}'`:b(Te)),", ");throw new _(ye,H,ae)}});function X(H,ye){if(typeof H!="boolean")throw new g(ye,"boolean",H)}function R(H,ye,we){return H==null||!h(H,ye)?we:H[ye]}var K=m((H,ye,we=null)=>{let ae=R(we,"allowArray",!1),Te=R(we,"allowFunction",!1);if(!R(we,"nullable",!1)&&H===null||!ae&&s(H)||typeof H!="object"&&(!Te||typeof H!="function"))throw new g(ye,"Object",H)}),le=m((H,ye)=>{if(H!=null&&typeof H!="object"&&typeof H!="function")throw new g(ye,"a dictionary",H)}),te=m((H,ye,we=0)=>{if(!s(H))throw new g(ye,"Array",H);if(H.length<we){let ae=`must be longer than ${we}`;throw new _(ye,H,ae)}});function ve(H,ye){te(H,ye);for(let we=0;we<H.length;we++)D(H[we],`${ye}[${we}]`)}function V(H,ye){te(H,ye);for(let we=0;we<H.length;we++)X(H[we],`${ye}[${we}]`)}function N(H,ye){te(H,ye);for(let we=0;we<H.length;we++){let ae=H[we],Te=`${ye}[${we}]`;if(ae==null)throw new g(Te,"AbortSignal",ae);be(ae,Te)}}function ne(H,ye="signal"){if(D(H,ye),M[H]===void 0)throw M[f(H)]!==void 0?new v(H+" (signals must use all capital letters)"):new v(H)}var G=m((H,ye="buffer")=>{if(!T(H))throw new g(ye,["Buffer","TypedArray","DataView"],H)});function Q(H,ye){let we=A(ye),ae=H.length;if(we==="hex"&&ae%2!==0)throw new _("encoding",ye,`is invalid for data of length ${ae}`)}function J(H,ye="Port",we=!0){if(typeof H!="number"&&typeof H!="string"||typeof H=="string"&&y(H).length===0||+H!==+H>>>0||H>65535||H===0&&!we)throw new S(ye,H,we);return H|0}var be=m((H,ye)=>{if(H!==void 0&&(H===null||typeof H!="object"||!("aborted"in H)))throw new g(ye,"AbortSignal",H)}),se=m((H,ye)=>{if(typeof H!="function")throw new g(ye,"Function",H)}),U=m((H,ye)=>{if(typeof H!="function"||E(H))throw new g(ye,"Function",H)}),z=m((H,ye)=>{if(H!==void 0)throw new g(ye,"undefined",H)});function re(H,ye,we){if(!o(we,H))throw new g(ye,`('${l(we,"|")}')`,H)}var pe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function de(H,ye){if(typeof H>"u"||!d(pe,H))throw new _(ye,H,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function me(H){if(typeof H=="string")return de(H,"hints"),H;if(s(H)){let ye=H.length,we="";if(ye===0)return we;for(let ae=0;ae<ye;ae++){let Te=H[ae];de(Te,"hints"),we+=Te,ae!==ye-1&&(we+=", ")}return we}throw new _("hints",H,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}p.exports={isInt32:C,isUint32:q,parseFileMode:j,validateArray:te,validateStringArray:ve,validateBooleanArray:V,validateAbortSignalArray:N,validateBoolean:X,validateBuffer:G,validateDictionary:le,validateEncoding:Q,validateFunction:se,validateInt32:ie,validateInteger:B,validateNumber:ee,validateObject:K,validateOneOf:W,validatePlainFunction:U,validatePort:J,validateSignalName:ne,validateString:D,validateUint32:F,validateUndefined:z,validateUnion:re,validateAbortSignal:be,validateLinkHeaderValue:me}}),Ot=ge((c,p)=>{ue(),fe(),ce();var s=p.exports={},o,l;function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=t}catch{o=t}try{typeof clearTimeout=="function"?l=clearTimeout:l=r}catch{l=r}})();function n(S){if(o===setTimeout)return setTimeout(S,0);if((o===t||!o)&&setTimeout)return o=setTimeout,setTimeout(S,0);try{return o(S,0)}catch{try{return o.call(null,S,0)}catch{return o.call(this,S,0)}}}function e(S){if(l===clearTimeout)return clearTimeout(S);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(S);try{return l(S)}catch{try{return l.call(null,S)}catch{return l.call(this,S)}}}var i=[],a=!1,h,d=-1;function b(){!a||!h||(a=!1,h.length?i=h.concat(i):d=-1,i.length&&f())}function f(){if(!a){var S=n(b);a=!0;for(var g=i.length;g;){for(h=i,i=[];++d<g;)h&&h[d].run();d=-1,g=i.length}h=null,a=!1,e(S)}}s.nextTick=function(S){var g=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)g[_-1]=arguments[_];i.push(new y(S,g)),i.length===1&&!a&&n(f)};function y(S,g){this.fun=S,this.array=g}y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function m(){}s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(S){return[]},s.binding=function(S){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(S){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}),ct=ge((c,p)=>{ue(),fe(),ce();var{SymbolAsyncIterator:s,SymbolIterator:o,SymbolFor:l}=Me(),t=l("nodejs.stream.destroyed"),r=l("nodejs.stream.errored"),n=l("nodejs.stream.readable"),e=l("nodejs.stream.writable"),i=l("nodejs.stream.disturbed"),a=l("nodejs.webstream.isClosedPromise"),h=l("nodejs.webstream.controllerErrorFunction");function d(R,K=!1){var le;return!!(R&&typeof R.pipe=="function"&&typeof R.on=="function"&&(!K||typeof R.pause=="function"&&typeof R.resume=="function")&&(!R._writableState||((le=R._readableState)===null||le===void 0?void 0:le.readable)!==!1)&&(!R._writableState||R._readableState))}function b(R){var K;return!!(R&&typeof R.write=="function"&&typeof R.on=="function"&&(!R._readableState||((K=R._writableState)===null||K===void 0?void 0:K.writable)!==!1))}function f(R){return!!(R&&typeof R.pipe=="function"&&R._readableState&&typeof R.on=="function"&&typeof R.write=="function")}function y(R){return R&&(R._readableState||R._writableState||typeof R.write=="function"&&typeof R.on=="function"||typeof R.pipe=="function"&&typeof R.on=="function")}function m(R){return!!(R&&!y(R)&&typeof R.pipeThrough=="function"&&typeof R.getReader=="function"&&typeof R.cancel=="function")}function S(R){return!!(R&&!y(R)&&typeof R.getWriter=="function"&&typeof R.abort=="function")}function g(R){return!!(R&&!y(R)&&typeof R.readable=="object"&&typeof R.writable=="object")}function _(R){return m(R)||S(R)||g(R)}function I(R,K){return R==null?!1:K===!0?typeof R[s]=="function":K===!1?typeof R[o]=="function":typeof R[s]=="function"||typeof R[o]=="function"}function v(R){if(!y(R))return null;let K=R._writableState,le=R._readableState,te=K||le;return!!(R.destroyed||R[t]||te!=null&&te.destroyed)}function A(R){if(!b(R))return null;if(R.writableEnded===!0)return!0;let K=R._writableState;return K!=null&&K.errored?!1:typeof K?.ended!="boolean"?null:K.ended}function E(R,K){if(!b(R))return null;if(R.writableFinished===!0)return!0;let le=R._writableState;return le!=null&&le.errored?!1:typeof le?.finished!="boolean"?null:!!(le.finished||K===!1&&le.ended===!0&&le.length===0)}function T(R){if(!d(R))return null;if(R.readableEnded===!0)return!0;let K=R._readableState;return!K||K.errored?!1:typeof K?.ended!="boolean"?null:K.ended}function M(R,K){if(!d(R))return null;let le=R._readableState;return le!=null&&le.errored?!1:typeof le?.endEmitted!="boolean"?null:!!(le.endEmitted||K===!1&&le.ended===!0&&le.length===0)}function C(R){return R&&R[n]!=null?R[n]:typeof R?.readable!="boolean"?null:v(R)?!1:d(R)&&R.readable&&!M(R)}function q(R){return R&&R[e]!=null?R[e]:typeof R?.writable!="boolean"?null:v(R)?!1:b(R)&&R.writable&&!A(R)}function k(R,K){return y(R)?v(R)?!0:!(K?.readable!==!1&&C(R)||K?.writable!==!1&&q(R)):null}function P(R){var K,le;return y(R)?R.writableErrored?R.writableErrored:(K=(le=R._writableState)===null||le===void 0?void 0:le.errored)!==null&&K!==void 0?K:null:null}function j(R){var K,le;return y(R)?R.readableErrored?R.readableErrored:(K=(le=R._readableState)===null||le===void 0?void 0:le.errored)!==null&&K!==void 0?K:null:null}function B(R){if(!y(R))return null;if(typeof R.closed=="boolean")return R.closed;let K=R._writableState,le=R._readableState;return typeof K?.closed=="boolean"||typeof le?.closed=="boolean"?K?.closed||le?.closed:typeof R._closed=="boolean"&&ie(R)?R._closed:null}function ie(R){return typeof R._closed=="boolean"&&typeof R._defaultKeepAlive=="boolean"&&typeof R._removedConnection=="boolean"&&typeof R._removedContLen=="boolean"}function F(R){return typeof R._sent100=="boolean"&&ie(R)}function D(R){var K;return typeof R._consuming=="boolean"&&typeof R._dumped=="boolean"&&((K=R.req)===null||K===void 0?void 0:K.upgradeOrConnect)===void 0}function ee(R){if(!y(R))return null;let K=R._writableState,le=R._readableState,te=K||le;return!te&&F(R)||!!(te&&te.autoDestroy&&te.emitClose&&te.closed===!1)}function W(R){var K;return!!(R&&((K=R[i])!==null&&K!==void 0?K:R.readableDidRead||R.readableAborted))}function X(R){var K,le,te,ve,V,N,ne,G,Q,J;return!!(R&&((K=(le=(te=(ve=(V=(N=R[r])!==null&&N!==void 0?N:R.readableErrored)!==null&&V!==void 0?V:R.writableErrored)!==null&&ve!==void 0?ve:(ne=R._readableState)===null||ne===void 0?void 0:ne.errorEmitted)!==null&&te!==void 0?te:(G=R._writableState)===null||G===void 0?void 0:G.errorEmitted)!==null&&le!==void 0?le:(Q=R._readableState)===null||Q===void 0?void 0:Q.errored)!==null&&K!==void 0?K:!((J=R._writableState)===null||J===void 0)&&J.errored))}p.exports={isDestroyed:v,kIsDestroyed:t,isDisturbed:W,kIsDisturbed:i,isErrored:X,kIsErrored:r,isReadable:C,kIsReadable:n,kIsClosedPromise:a,kControllerErrorFunction:h,kIsWritable:e,isClosed:B,isDuplexNodeStream:f,isFinished:k,isIterable:I,isReadableNodeStream:d,isReadableStream:m,isReadableEnded:T,isReadableFinished:M,isReadableErrored:j,isNodeStream:y,isWebStream:_,isWritable:q,isWritableNodeStream:b,isWritableStream:S,isWritableEnded:A,isWritableFinished:E,isWritableErrored:P,isServerRequest:D,isServerResponse:F,willEmitClose:ee,isTransformStream:g}}),vt=ge((c,p)=>{ue(),fe(),ce();var s=Ot(),{AbortError:o,codes:l}=qe(),{ERR_INVALID_ARG_TYPE:t,ERR_STREAM_PREMATURE_CLOSE:r}=l,{kEmptyObject:n,once:e}=$e(),{validateAbortSignal:i,validateFunction:a,validateObject:h,validateBoolean:d}=or(),{Promise:b,PromisePrototypeThen:f,SymbolDispose:y}=Me(),{isClosed:m,isReadable:S,isReadableNodeStream:g,isReadableStream:_,isReadableFinished:I,isReadableErrored:v,isWritable:A,isWritableNodeStream:E,isWritableStream:T,isWritableFinished:M,isWritableErrored:C,isNodeStream:q,willEmitClose:k,kIsClosedPromise:P}=ct(),j;function B(W){return W.setHeader&&typeof W.abort=="function"}var ie=()=>{};function F(W,X,R){var K,le;if(arguments.length===2?(R=X,X=n):X==null?X=n:h(X,"options"),a(R,"callback"),i(X.signal,"options.signal"),R=e(R),_(W)||T(W))return D(W,X,R);if(!q(W))throw new t("stream",["ReadableStream","WritableStream","Stream"],W);let te=(K=X.readable)!==null&&K!==void 0?K:g(W),ve=(le=X.writable)!==null&&le!==void 0?le:E(W),V=W._writableState,N=W._readableState,ne=()=>{W.writable||J()},G=k(W)&&g(W)===te&&E(W)===ve,Q=M(W,!1),J=()=>{Q=!0,W.destroyed&&(G=!1),!(G&&(!W.readable||te))&&(!te||be)&&R.call(W)},be=I(W,!1),se=()=>{be=!0,W.destroyed&&(G=!1),!(G&&(!W.writable||ve))&&(!ve||Q)&&R.call(W)},U=H=>{R.call(W,H)},z=m(W),re=()=>{z=!0;let H=C(W)||v(W);if(H&&typeof H!="boolean")return R.call(W,H);if(te&&!be&&g(W,!0)&&!I(W,!1))return R.call(W,new r);if(ve&&!Q&&!M(W,!1))return R.call(W,new r);R.call(W)},pe=()=>{z=!0;let H=C(W)||v(W);if(H&&typeof H!="boolean")return R.call(W,H);R.call(W)},de=()=>{W.req.on("finish",J)};B(W)?(W.on("complete",J),G||W.on("abort",re),W.req?de():W.on("request",de)):ve&&!V&&(W.on("end",ne),W.on("close",ne)),!G&&typeof W.aborted=="boolean"&&W.on("aborted",re),W.on("end",se),W.on("finish",J),X.error!==!1&&W.on("error",U),W.on("close",re),z?s.nextTick(re):V!=null&&V.errorEmitted||N!=null&&N.errorEmitted?G||s.nextTick(pe):(!te&&(!G||S(W))&&(Q||A(W)===!1)||!ve&&(!G||A(W))&&(be||S(W)===!1)||N&&W.req&&W.aborted)&&s.nextTick(pe);let me=()=>{R=ie,W.removeListener("aborted",re),W.removeListener("complete",J),W.removeListener("abort",re),W.removeListener("request",de),W.req&&W.req.removeListener("finish",J),W.removeListener("end",ne),W.removeListener("close",ne),W.removeListener("finish",J),W.removeListener("end",se),W.removeListener("error",U),W.removeListener("close",re)};if(X.signal&&!z){let H=()=>{let ye=R;me(),ye.call(W,new o(void 0,{cause:X.signal.reason}))};if(X.signal.aborted)s.nextTick(H);else{j=j||$e().addAbortListener;let ye=j(X.signal,H),we=R;R=e((...ae)=>{ye[y](),we.apply(W,ae)})}}return me}function D(W,X,R){let K=!1,le=ie;if(X.signal)if(le=()=>{K=!0,R.call(W,new o(void 0,{cause:X.signal.reason}))},X.signal.aborted)s.nextTick(le);else{j=j||$e().addAbortListener;let ve=j(X.signal,le),V=R;R=e((...N)=>{ve[y](),V.apply(W,N)})}let te=(...ve)=>{K||s.nextTick(()=>R.apply(W,ve))};return f(W[P].promise,te,te),ie}function ee(W,X){var R;let K=!1;return X===null&&(X=n),(R=X)!==null&&R!==void 0&&R.cleanup&&(d(X.cleanup,"cleanup"),K=X.cleanup),new b((le,te)=>{let ve=F(W,X,V=>{K&&ve(),V?te(V):le()})})}p.exports=F,p.exports.finished=ee}),Wt=ge((c,p)=>{ue(),fe(),ce();var s=Ot(),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:l},AbortError:t}=qe(),{Symbol:r}=Me(),{kIsDestroyed:n,isDestroyed:e,isFinished:i,isServerRequest:a}=ct(),h=r("kDestroy"),d=r("kConstruct");function b(k,P,j){k&&(k.stack,P&&!P.errored&&(P.errored=k),j&&!j.errored&&(j.errored=k))}function f(k,P){let j=this._readableState,B=this._writableState,ie=B||j;return B!=null&&B.destroyed||j!=null&&j.destroyed?(typeof P=="function"&&P(),this):(b(k,B,j),B&&(B.destroyed=!0),j&&(j.destroyed=!0),ie.constructed?y(this,k,P):this.once(h,function(F){y(this,o(F,k),P)}),this)}function y(k,P,j){let B=!1;function ie(F){if(B)return;B=!0;let D=k._readableState,ee=k._writableState;b(F,ee,D),ee&&(ee.closed=!0),D&&(D.closed=!0),typeof j=="function"&&j(F),F?s.nextTick(m,k,F):s.nextTick(S,k)}try{k._destroy(P||null,ie)}catch(F){ie(F)}}function m(k,P){g(k,P),S(k)}function S(k){let P=k._readableState,j=k._writableState;j&&(j.closeEmitted=!0),P&&(P.closeEmitted=!0),(j!=null&&j.emitClose||P!=null&&P.emitClose)&&k.emit("close")}function g(k,P){let j=k._readableState,B=k._writableState;B!=null&&B.errorEmitted||j!=null&&j.errorEmitted||(B&&(B.errorEmitted=!0),j&&(j.errorEmitted=!0),k.emit("error",P))}function _(){let k=this._readableState,P=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=k.readable===!1,k.endEmitted=k.readable===!1),P&&(P.constructed=!0,P.destroyed=!1,P.closed=!1,P.closeEmitted=!1,P.errored=null,P.errorEmitted=!1,P.finalCalled=!1,P.prefinished=!1,P.ended=P.writable===!1,P.ending=P.writable===!1,P.finished=P.writable===!1)}function I(k,P,j){let B=k._readableState,ie=k._writableState;if(ie!=null&&ie.destroyed||B!=null&&B.destroyed)return this;B!=null&&B.autoDestroy||ie!=null&&ie.autoDestroy?k.destroy(P):P&&(P.stack,ie&&!ie.errored&&(ie.errored=P),B&&!B.errored&&(B.errored=P),j?s.nextTick(g,k,P):g(k,P))}function v(k,P){if(typeof k._construct!="function")return;let j=k._readableState,B=k._writableState;j&&(j.constructed=!1),B&&(B.constructed=!1),k.once(d,P),!(k.listenerCount(d)>1)&&s.nextTick(A,k)}function A(k){let P=!1;function j(B){if(P){I(k,B??new l);return}P=!0;let ie=k._readableState,F=k._writableState,D=F||ie;ie&&(ie.constructed=!0),F&&(F.constructed=!0),D.destroyed?k.emit(h,B):B?I(k,B,!0):s.nextTick(E,k)}try{k._construct(B=>{s.nextTick(j,B)})}catch(B){s.nextTick(j,B)}}function E(k){k.emit(d)}function T(k){return k?.setHeader&&typeof k.abort=="function"}function M(k){k.emit("close")}function C(k,P){k.emit("error",P),s.nextTick(M,k)}function q(k,P){!k||e(k)||(!P&&!i(k)&&(P=new t),a(k)?(k.socket=null,k.destroy(P)):T(k)?k.abort():T(k.req)?k.req.abort():typeof k.destroy=="function"?k.destroy(P):typeof k.close=="function"?k.close():P?s.nextTick(C,k,P):s.nextTick(M,k),k.destroyed||(k[n]=!0))}p.exports={construct:v,destroyer:q,destroy:f,undestroy:_,errorOrDestroy:I}}),so=ge((c,p)=>{ue(),fe(),ce();var{ArrayIsArray:s,ObjectSetPrototypeOf:o}=Me(),{EventEmitter:l}=(Tt(),Pe(mt));function t(n){l.call(this,n)}o(t.prototype,l.prototype),o(t,l),t.prototype.pipe=function(n,e){let i=this;function a(S){n.writable&&n.write(S)===!1&&i.pause&&i.pause()}i.on("data",a);function h(){i.readable&&i.resume&&i.resume()}n.on("drain",h),!n._isStdio&&(!e||e.end!==!1)&&(i.on("end",b),i.on("close",f));let d=!1;function b(){d||(d=!0,n.end())}function f(){d||(d=!0,typeof n.destroy=="function"&&n.destroy())}function y(S){m(),l.listenerCount(this,"error")===0&&this.emit("error",S)}r(i,"error",y),r(n,"error",y);function m(){i.removeListener("data",a),n.removeListener("drain",h),i.removeListener("end",b),i.removeListener("close",f),i.removeListener("error",y),n.removeListener("error",y),i.removeListener("end",m),i.removeListener("close",m),n.removeListener("close",m)}return i.on("end",m),i.on("close",m),n.on("close",m),n.emit("pipe",i),n};function r(n,e,i){if(typeof n.prependListener=="function")return n.prependListener(e,i);!n._events||!n._events[e]?n.on(e,i):s(n._events[e])?n._events[e].unshift(i):n._events[e]=[i,n._events[e]]}p.exports={Stream:t,prependListener:r}}),Kr=ge((c,p)=>{ue(),fe(),ce();var{SymbolDispose:s}=Me(),{AbortError:o,codes:l}=qe(),{isNodeStream:t,isWebStream:r,kControllerErrorFunction:n}=ct(),e=vt(),{ERR_INVALID_ARG_TYPE:i}=l,a,h=(d,b)=>{if(typeof d!="object"||!("aborted"in d))throw new i(b,"AbortSignal",d)};p.exports.addAbortSignal=function(d,b){if(h(d,"signal"),!t(b)&&!r(b))throw new i("stream",["ReadableStream","WritableStream","Stream"],b);return p.exports.addAbortSignalNoValidate(d,b)},p.exports.addAbortSignalNoValidate=function(d,b){if(typeof d!="object"||!("aborted"in d))return b;let f=t(b)?()=>{b.destroy(new o(void 0,{cause:d.reason}))}:()=>{b[n](new o(void 0,{cause:d.reason}))};if(d.aborted)f();else{a=a||$e().addAbortListener;let y=a(d,f);e(b,y[s])}return b}}),Tl=ge((c,p)=>{ue(),fe(),ce();var{StringPrototypeSlice:s,SymbolIterator:o,TypedArrayPrototypeSet:l,Uint8Array:t}=Me(),{Buffer:r}=(Be(),Pe(Ne)),{inspect:n}=$e();p.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let i={data:e,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(e){let i={data:e,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let i=this.head,a=""+i.data;for(;(i=i.next)!==null;)a+=e+i.data;return a}concat(e){if(this.length===0)return r.alloc(0);let i=r.allocUnsafe(e>>>0),a=this.head,h=0;for(;a;)l(i,a.data,h),h+=a.data.length,a=a.next;return i}consume(e,i){let a=this.head.data;if(e<a.length){let h=a.slice(0,e);return this.head.data=a.slice(e),h}return e===a.length?this.shift():i?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[o](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let i="",a=this.head,h=0;do{let d=a.data;if(e>d.length)i+=d,e-=d.length;else{e===d.length?(i+=d,++h,a.next?this.head=a.next:this.head=this.tail=null):(i+=s(d,0,e),this.head=a,a.data=s(d,e));break}++h}while((a=a.next)!==null);return this.length-=h,i}_getBuffer(e){let i=r.allocUnsafe(e),a=e,h=this.head,d=0;do{let b=h.data;if(e>b.length)l(i,b,a-e),e-=b.length;else{e===b.length?(l(i,b,a-e),++d,h.next?this.head=h.next:this.head=this.tail=null):(l(i,new t(b.buffer,b.byteOffset,e),a-e),this.head=h,h.data=b.slice(e));break}++d}while((h=h.next)!==null);return this.length-=d,i}[Symbol.for("nodejs.util.inspect.custom")](e,i){return n(this,{...i,depth:0,customInspect:!1})}}}),Vr=ge((c,p)=>{ue(),fe(),ce();var{MathFloor:s,NumberIsInteger:o}=Me(),{validateInteger:l}=or(),{ERR_INVALID_ARG_VALUE:t}=qe().codes,r=16*1024,n=16;function e(d,b,f){return d.highWaterMark!=null?d.highWaterMark:b?d[f]:null}function i(d){return d?n:r}function a(d,b){l(b,"value",0),d?n=b:r=b}function h(d,b,f,y){let m=e(b,y,f);if(m!=null){if(!o(m)||m<0){let S=y?`options.${f}`:"options.highWaterMark";throw new t(S,m)}return s(m)}return i(d.objectMode)}p.exports={getHighWaterMark:h,getDefaultHighWaterMark:i,setDefaultHighWaterMark:a}}),Ol=ge((c,p)=>{ue(),fe(),ce();var s=(Be(),Pe(Ne)),o=s.Buffer;function l(r,n){for(var e in r)n[e]=r[e]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?p.exports=s:(l(s,c),c.Buffer=t);function t(r,n,e){return o(r,n,e)}t.prototype=Object.create(o.prototype),l(o,t),t.from=function(r,n,e){if(typeof r=="number")throw new TypeError("Argument must not be a number");return o(r,n,e)},t.alloc=function(r,n,e){if(typeof r!="number")throw new TypeError("Argument must be a number");var i=o(r);return n!==void 0?typeof e=="string"?i.fill(n,e):i.fill(n):i.fill(0),i},t.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return o(r)},t.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(r)}}),Pl=ge(c=>{ue(),fe(),ce();var p=Ol().Buffer,s=p.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(g){if(!g)return"utf8";for(var _;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(_)return;g=(""+g).toLowerCase(),_=!0}}function l(g){var _=o(g);if(typeof _!="string"&&(p.isEncoding===s||!s(g)))throw new Error("Unknown encoding: "+g);return _||g}c.StringDecoder=t;function t(g){this.encoding=l(g);var _;switch(this.encoding){case"utf16le":this.text=d,this.end=b,_=4;break;case"utf8":this.fillLast=i,_=4;break;case"base64":this.text=f,this.end=y,_=3;break;default:this.write=m,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(_)}t.prototype.write=function(g){if(g.length===0)return"";var _,I;if(this.lastNeed){if(_=this.fillLast(g),_===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<g.length?_?_+this.text(g,I):this.text(g,I):_||""},t.prototype.end=h,t.prototype.text=a,t.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function r(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function n(g,_,I){var v=_.length-1;if(v<I)return 0;var A=r(_[v]);return A>=0?(A>0&&(g.lastNeed=A-1),A):--v<I||A===-2?0:(A=r(_[v]),A>=0?(A>0&&(g.lastNeed=A-2),A):--v<I||A===-2?0:(A=r(_[v]),A>=0?(A>0&&(A===2?A=0:g.lastNeed=A-3),A):0))}function e(g,_,I){if((_[0]&192)!==128)return g.lastNeed=0,"";if(g.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return g.lastNeed=1,"";if(g.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return g.lastNeed=2,""}}function i(g){var _=this.lastTotal-this.lastNeed,I=e(this,g);if(I!==void 0)return I;if(this.lastNeed<=g.length)return g.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,_,0,g.length),this.lastNeed-=g.length}function a(g,_){var I=n(this,g,_);if(!this.lastNeed)return g.toString("utf8",_);this.lastTotal=I;var v=g.length-(I-this.lastNeed);return g.copy(this.lastChar,0,v),g.toString("utf8",_,v)}function h(g){var _=g&&g.length?this.write(g):"";return this.lastNeed?_+"":_}function d(g,_){if((g.length-_)%2===0){var I=g.toString("utf16le",_);if(I){var v=I.charCodeAt(I.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",_,g.length-1)}function b(g){var _=g&&g.length?this.write(g):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,I)}return _}function f(g,_){var I=(g.length-_)%3;return I===0?g.toString("base64",_):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",_,g.length-I))}function y(g){var _=g&&g.length?this.write(g):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function m(g){return g.toString(this.encoding)}function S(g){return g&&g.length?this.write(g):""}}),ra=ge((c,p)=>{ue(),fe(),ce();var s=Ot(),{PromisePrototypeThen:o,SymbolAsyncIterator:l,SymbolIterator:t}=Me(),{Buffer:r}=(Be(),Pe(Ne)),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:e}=qe().codes;function i(a,h,d){let b;if(typeof h=="string"||h instanceof r)return new a({objectMode:!0,...d,read(){this.push(h),this.push(null)}});let f;if(h&&h[l])f=!0,b=h[l]();else if(h&&h[t])f=!1,b=h[t]();else throw new n("iterable",["Iterable"],h);let y=new a({objectMode:!0,highWaterMark:1,...d}),m=!1;y._read=function(){m||(m=!0,g())},y._destroy=function(_,I){o(S(_),()=>s.nextTick(I,_),v=>s.nextTick(I,v||_))};async function S(_){let I=_!=null,v=typeof b.throw=="function";if(I&&v){let{value:A,done:E}=await b.throw(_);if(await A,E)return}if(typeof b.return=="function"){let{value:A}=await b.return();await A}}async function g(){for(;;){try{let{value:_,done:I}=f?await b.next():b.next();if(I)y.push(null);else{let v=_&&typeof _.then=="function"?await _:_;if(v===null)throw m=!1,new e;if(y.push(v))continue;m=!1}}catch(_){y.destroy(_)}break}}return y}p.exports=i}),Gr=ge((c,p)=>{ue(),fe(),ce();var s=Ot(),{ArrayPrototypeIndexOf:o,NumberIsInteger:l,NumberIsNaN:t,NumberParseInt:r,ObjectDefineProperties:n,ObjectKeys:e,ObjectSetPrototypeOf:i,Promise:a,SafeSet:h,SymbolAsyncDispose:d,SymbolAsyncIterator:b,Symbol:f}=Me();p.exports=ae,ae.ReadableState=we;var{EventEmitter:y}=(Tt(),Pe(mt)),{Stream:m,prependListener:S}=so(),{Buffer:g}=(Be(),Pe(Ne)),{addAbortSignal:_}=Kr(),I=vt(),v=$e().debuglog("stream",O=>{v=O}),A=Tl(),E=Wt(),{getHighWaterMark:T,getDefaultHighWaterMark:M}=Vr(),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:k,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:j,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:B},AbortError:ie}=qe(),{validateObject:F}=or(),D=f("kPaused"),{StringDecoder:ee}=Pl(),W=ra();i(ae.prototype,m.prototype),i(ae,m);var X=()=>{},{errorOrDestroy:R}=E,K=1,le=2,te=4,ve=8,V=16,N=32,ne=64,G=128,Q=256,J=512,be=1024,se=2048,U=4096,z=8192,re=16384,pe=32768,de=65536,me=1<<17,H=1<<18;function ye(O){return{enumerable:!1,get(){return(this.state&O)!==0},set(L){L?this.state|=O:this.state&=~O}}}n(we.prototype,{objectMode:ye(K),ended:ye(le),endEmitted:ye(te),reading:ye(ve),constructed:ye(V),sync:ye(N),needReadable:ye(ne),emittedReadable:ye(G),readableListening:ye(Q),resumeScheduled:ye(J),errorEmitted:ye(be),emitClose:ye(se),autoDestroy:ye(U),destroyed:ye(z),closed:ye(re),closeEmitted:ye(pe),multiAwaitDrain:ye(de),readingMore:ye(me),dataEmitted:ye(H)});function we(O,L,_e){typeof _e!="boolean"&&(_e=L instanceof lt()),this.state=se|U|V|N,O&&O.objectMode&&(this.state|=K),_e&&O&&O.readableObjectMode&&(this.state|=K),this.highWaterMark=O?T(this,O,"readableHighWaterMark",_e):M(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[D]=null,O&&O.emitClose===!1&&(this.state&=~se),O&&O.autoDestroy===!1&&(this.state&=~U),this.errored=null,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,O&&O.encoding&&(this.decoder=new ee(O.encoding),this.encoding=O.encoding)}function ae(O){if(!(this instanceof ae))return new ae(O);let L=this instanceof lt();this._readableState=new we(O,this,L),O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&!L&&_(O.signal,this)),m.call(this,O),E.construct(this,()=>{this._readableState.needReadable&&Y(this,this._readableState)})}ae.prototype.destroy=E.destroy,ae.prototype._undestroy=E.undestroy,ae.prototype._destroy=function(O,L){L(O)},ae.prototype[y.captureRejectionSymbol]=function(O){this.destroy(O)},ae.prototype[d]=function(){let O;return this.destroyed||(O=this.readableEnded?null:new ie,this.destroy(O)),new a((L,_e)=>I(this,Ee=>Ee&&Ee!==O?_e(Ee):L(null)))},ae.prototype.push=function(O,L){return Te(this,O,L,!1)},ae.prototype.unshift=function(O,L){return Te(this,O,L,!0)};function Te(O,L,_e,Ee){v("readableAddChunk",L);let Ae=O._readableState,je;if((Ae.state&K)===0&&(typeof L=="string"?(_e=_e||Ae.defaultEncoding,Ae.encoding!==_e&&(Ee&&Ae.encoding?L=g.from(L,_e).toString(Ae.encoding):(L=g.from(L,_e),_e=""))):L instanceof g?_e="":m._isUint8Array(L)?(L=m._uint8ArrayToBuffer(L),_e=""):L!=null&&(je=new q("chunk",["string","Buffer","Uint8Array"],L))),je)R(O,je);else if(L===null)Ae.state&=~ve,Z(O,Ae);else if((Ae.state&K)!==0||L&&L.length>0)if(Ee)if((Ae.state&te)!==0)R(O,new B);else{if(Ae.destroyed||Ae.errored)return!1;u(O,Ae,L,!0)}else if(Ae.ended)R(O,new j);else{if(Ae.destroyed||Ae.errored)return!1;Ae.state&=~ve,Ae.decoder&&!_e?(L=Ae.decoder.write(L),Ae.objectMode||L.length!==0?u(O,Ae,L,!1):Y(O,Ae)):u(O,Ae,L,!1)}else Ee||(Ae.state&=~ve,Y(O,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.length===0)}function u(O,L,_e,Ee){L.flowing&&L.length===0&&!L.sync&&O.listenerCount("data")>0?((L.state&de)!==0?L.awaitDrainWriters.clear():L.awaitDrainWriters=null,L.dataEmitted=!0,O.emit("data",_e)):(L.length+=L.objectMode?1:_e.length,Ee?L.buffer.unshift(_e):L.buffer.push(_e),(L.state&ne)!==0&&he(O)),Y(O,L)}ae.prototype.isPaused=function(){let O=this._readableState;return O[D]===!0||O.flowing===!1},ae.prototype.setEncoding=function(O){let L=new ee(O);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;let _e=this._readableState.buffer,Ee="";for(let Ae of _e)Ee+=L.write(Ae);return _e.clear(),Ee!==""&&_e.push(Ee),this._readableState.length=Ee.length,this};var w=1073741824;function x(O){if(O>w)throw new P("size","<= 1GiB",O);return O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++,O}function $(O,L){return O<=0||L.length===0&&L.ended?0:(L.state&K)!==0?1:t(O)?L.flowing&&L.length?L.buffer.first().length:L.length:O<=L.length?O:L.ended?L.length:0}ae.prototype.read=function(O){v("read",O),O===void 0?O=NaN:l(O)||(O=r(O,10));let L=this._readableState,_e=O;if(O>L.highWaterMark&&(L.highWaterMark=x(O)),O!==0&&(L.state&=~G),O===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return v("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?Ye(this):he(this),null;if(O=$(O,L),O===0&&L.ended)return L.length===0&&Ye(this),null;let Ee=(L.state&ne)!==0;if(v("need readable",Ee),(L.length===0||L.length-O<L.highWaterMark)&&(Ee=!0,v("length less than watermark",Ee)),L.ended||L.reading||L.destroyed||L.errored||!L.constructed)Ee=!1,v("reading, ended or constructing",Ee);else if(Ee){v("do read"),L.state|=ve|N,L.length===0&&(L.state|=ne);try{this._read(L.highWaterMark)}catch(je){R(this,je)}L.state&=~N,L.reading||(O=$(_e,L))}let Ae;return O>0?Ae=Rt(O,L):Ae=null,Ae===null?(L.needReadable=L.length<=L.highWaterMark,O=0):(L.length-=O,L.multiAwaitDrain?L.awaitDrainWriters.clear():L.awaitDrainWriters=null),L.length===0&&(L.ended||(L.needReadable=!0),_e!==O&&L.ended&&Ye(this)),Ae!==null&&!L.errorEmitted&&!L.closeEmitted&&(L.dataEmitted=!0,this.emit("data",Ae)),Ae};function Z(O,L){if(v("onEofChunk"),!L.ended){if(L.decoder){let _e=L.decoder.end();_e&&_e.length&&(L.buffer.push(_e),L.length+=L.objectMode?1:_e.length)}L.ended=!0,L.sync?he(O):(L.needReadable=!1,L.emittedReadable=!0,Se(O))}}function he(O){let L=O._readableState;v("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(v("emitReadable",L.flowing),L.emittedReadable=!0,s.nextTick(Se,O))}function Se(O){let L=O._readableState;v("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&!L.errored&&(L.length||L.ended)&&(O.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,Ge(O)}function Y(O,L){!L.readingMore&&L.constructed&&(L.readingMore=!0,s.nextTick(oe,O,L))}function oe(O,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){let _e=L.length;if(v("maybeReadMore read 0"),O.read(0),_e===L.length)break}L.readingMore=!1}ae.prototype._read=function(O){throw new k("_read()")},ae.prototype.pipe=function(O,L){let _e=this,Ee=this._readableState;Ee.pipes.length===1&&(Ee.multiAwaitDrain||(Ee.multiAwaitDrain=!0,Ee.awaitDrainWriters=new h(Ee.awaitDrainWriters?[Ee.awaitDrainWriters]:[]))),Ee.pipes.push(O),v("pipe count=%d opts=%j",Ee.pipes.length,L);let Ae=(!L||L.end!==!1)&&O!==s.stdout&&O!==s.stderr?We:_t;Ee.endEmitted?s.nextTick(Ae):_e.once("end",Ae),O.on("unpipe",je);function je(Xe,tt){v("onunpipe"),Xe===_e&&tt&&tt.hasUnpiped===!1&&(tt.hasUnpiped=!0,Kt())}function We(){v("onend"),O.end()}let Ke,Ht=!1;function Kt(){v("cleanup"),O.removeListener("close",Je),O.removeListener("finish",pt),Ke&&O.removeListener("drain",Ke),O.removeListener("error",wt),O.removeListener("unpipe",je),_e.removeListener("end",We),_e.removeListener("end",_t),_e.removeListener("data",lr),Ht=!0,Ke&&Ee.awaitDrainWriters&&(!O._writableState||O._writableState.needDrain)&&Ke()}function Vt(){Ht||(Ee.pipes.length===1&&Ee.pipes[0]===O?(v("false write response, pause",0),Ee.awaitDrainWriters=O,Ee.multiAwaitDrain=!1):Ee.pipes.length>1&&Ee.pipes.includes(O)&&(v("false write response, pause",Ee.awaitDrainWriters.size),Ee.awaitDrainWriters.add(O)),_e.pause()),Ke||(Ke=Ie(_e,O),O.on("drain",Ke))}_e.on("data",lr);function lr(Xe){v("ondata");let tt=O.write(Xe);v("dest.write",tt),tt===!1&&Vt()}function wt(Xe){if(v("onerror",Xe),_t(),O.removeListener("error",wt),O.listenerCount("error")===0){let tt=O._writableState||O._readableState;tt&&!tt.errorEmitted?R(O,Xe):O.emit("error",Xe)}}S(O,"error",wt);function Je(){O.removeListener("finish",pt),_t()}O.once("close",Je);function pt(){v("onfinish"),O.removeListener("close",Je),_t()}O.once("finish",pt);function _t(){v("unpipe"),_e.unpipe(O)}return O.emit("pipe",_e),O.writableNeedDrain===!0?Vt():Ee.flowing||(v("pipe resume"),_e.resume()),O};function Ie(O,L){return function(){let _e=O._readableState;_e.awaitDrainWriters===L?(v("pipeOnDrain",1),_e.awaitDrainWriters=null):_e.multiAwaitDrain&&(v("pipeOnDrain",_e.awaitDrainWriters.size),_e.awaitDrainWriters.delete(L)),(!_e.awaitDrainWriters||_e.awaitDrainWriters.size===0)&&O.listenerCount("data")&&O.resume()}}ae.prototype.unpipe=function(O){let L=this._readableState,_e={hasUnpiped:!1};if(L.pipes.length===0)return this;if(!O){let Ae=L.pipes;L.pipes=[],this.pause();for(let je=0;je<Ae.length;je++)Ae[je].emit("unpipe",this,{hasUnpiped:!1});return this}let Ee=o(L.pipes,O);return Ee===-1?this:(L.pipes.splice(Ee,1),L.pipes.length===0&&this.pause(),O.emit("unpipe",this,_e),this)},ae.prototype.on=function(O,L){let _e=m.prototype.on.call(this,O,L),Ee=this._readableState;return O==="data"?(Ee.readableListening=this.listenerCount("readable")>0,Ee.flowing!==!1&&this.resume()):O==="readable"&&!Ee.endEmitted&&!Ee.readableListening&&(Ee.readableListening=Ee.needReadable=!0,Ee.flowing=!1,Ee.emittedReadable=!1,v("on readable",Ee.length,Ee.reading),Ee.length?he(this):Ee.reading||s.nextTick(ke,this)),_e},ae.prototype.addListener=ae.prototype.on,ae.prototype.removeListener=function(O,L){let _e=m.prototype.removeListener.call(this,O,L);return O==="readable"&&s.nextTick(xe,this),_e},ae.prototype.off=ae.prototype.removeListener,ae.prototype.removeAllListeners=function(O){let L=m.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&s.nextTick(xe,this),L};function xe(O){let L=O._readableState;L.readableListening=O.listenerCount("readable")>0,L.resumeScheduled&&L[D]===!1?L.flowing=!0:O.listenerCount("data")>0?O.resume():L.readableListening||(L.flowing=null)}function ke(O){v("readable nexttick read 0"),O.read(0)}ae.prototype.resume=function(){let O=this._readableState;return O.flowing||(v("resume"),O.flowing=!O.readableListening,Oe(this,O)),O[D]=!1,this};function Oe(O,L){L.resumeScheduled||(L.resumeScheduled=!0,s.nextTick(Ve,O,L))}function Ve(O,L){v("resume",L.reading),L.reading||O.read(0),L.resumeScheduled=!1,O.emit("resume"),Ge(O),L.flowing&&!L.reading&&O.read(0)}ae.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this};function Ge(O){let L=O._readableState;for(v("flow",L.flowing);L.flowing&&O.read()!==null;);}ae.prototype.wrap=function(O){let L=!1;O.on("data",Ee=>{!this.push(Ee)&&O.pause&&(L=!0,O.pause())}),O.on("end",()=>{this.push(null)}),O.on("error",Ee=>{R(this,Ee)}),O.on("close",()=>{this.destroy()}),O.on("destroy",()=>{this.destroy()}),this._read=()=>{L&&O.resume&&(L=!1,O.resume())};let _e=e(O);for(let Ee=1;Ee<_e.length;Ee++){let Ae=_e[Ee];this[Ae]===void 0&&typeof O[Ae]=="function"&&(this[Ae]=O[Ae].bind(O))}return this},ae.prototype[b]=function(){return Ue(this)},ae.prototype.iterator=function(O){return O!==void 0&&F(O,"options"),Ue(this,O)};function Ue(O,L){typeof O.read!="function"&&(O=ae.wrap(O,{objectMode:!0}));let _e=Qe(O,L);return _e.stream=O,_e}async function*Qe(O,L){let _e=X;function Ee(We){this===O?(_e(),_e=X):_e=We}O.on("readable",Ee);let Ae,je=I(O,{writable:!1},We=>{Ae=We?C(Ae,We):null,_e(),_e=X});try{for(;;){let We=O.destroyed?null:O.read();if(We!==null)yield We;else{if(Ae)throw Ae;if(Ae===null)return;await new a(Ee)}}}catch(We){throw Ae=C(Ae,We),Ae}finally{(Ae||L?.destroyOnReturn!==!1)&&(Ae===void 0||O._readableState.autoDestroy)?E.destroyer(O,null):(O.off("readable",Ee),je())}}n(ae.prototype,{readable:{__proto__:null,get(){let O=this._readableState;return!!O&&O.readable!==!1&&!O.destroyed&&!O.errorEmitted&&!O.endEmitted},set(O){this._readableState&&(this._readableState.readable=!!O)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(O){this._readableState&&(this._readableState.destroyed=O)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),n(we.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[D]!==!1},set(O){this[D]=!!O}}}),ae._fromList=Rt;function Rt(O,L){if(L.length===0)return null;let _e;return L.objectMode?_e=L.buffer.shift():!O||O>=L.length?(L.decoder?_e=L.buffer.join(""):L.buffer.length===1?_e=L.buffer.first():_e=L.buffer.concat(L.length),L.buffer.clear()):_e=L.buffer.consume(O,L.decoder),_e}function Ye(O){let L=O._readableState;v("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,s.nextTick(He,L,O))}function He(O,L){if(v("endReadableNT",O.endEmitted,O.length),!O.errored&&!O.closeEmitted&&!O.endEmitted&&O.length===0){if(O.endEmitted=!0,L.emit("end"),L.writable&&L.allowHalfOpen===!1)s.nextTick(ar,L);else if(O.autoDestroy){let _e=L._writableState;(!_e||_e.autoDestroy&&(_e.finished||_e.writable===!1))&&L.destroy()}}}function ar(O){O.writable&&!O.writableEnded&&!O.destroyed&&O.end()}ae.from=function(O,L){return W(ae,O,L)};var Ct;function zt(){return Ct===void 0&&(Ct={}),Ct}ae.fromWeb=function(O,L){return zt().newStreamReadableFromReadableStream(O,L)},ae.toWeb=function(O,L){return zt().newReadableStreamFromStreamReadable(O,L)},ae.wrap=function(O,L){var _e,Ee;return new ae({objectMode:(_e=(Ee=O.readableObjectMode)!==null&&Ee!==void 0?Ee:O.objectMode)!==null&&_e!==void 0?_e:!0,...L,destroy(Ae,je){E.destroyer(O,Ae),je(Ae)}}).wrap(O)}}),ao=ge((c,p)=>{ue(),fe(),ce();var s=Ot(),{ArrayPrototypeSlice:o,Error:l,FunctionPrototypeSymbolHasInstance:t,ObjectDefineProperty:r,ObjectDefineProperties:n,ObjectSetPrototypeOf:e,StringPrototypeToLowerCase:i,Symbol:a,SymbolHasInstance:h}=Me();p.exports=F,F.WritableState=B;var{EventEmitter:d}=(Tt(),Pe(mt)),b=so().Stream,{Buffer:f}=(Be(),Pe(Ne)),y=Wt(),{addAbortSignal:m}=Kr(),{getHighWaterMark:S,getDefaultHighWaterMark:g}=Vr(),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:M,ERR_STREAM_WRITE_AFTER_END:C,ERR_UNKNOWN_ENCODING:q}=qe().codes,{errorOrDestroy:k}=y;e(F.prototype,b.prototype),e(F,b);function P(){}var j=a("kOnFinished");function B(U,z,re){typeof re!="boolean"&&(re=z instanceof lt()),this.objectMode=!!(U&&U.objectMode),re&&(this.objectMode=this.objectMode||!!(U&&U.writableObjectMode)),this.highWaterMark=U?S(this,U,"writableHighWaterMark",re):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let pe=!!(U&&U.decodeStrings===!1);this.decodeStrings=!pe,this.defaultEncoding=U&&U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=R.bind(void 0,z),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ie(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!U||U.emitClose!==!1,this.autoDestroy=!U||U.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[j]=[]}function ie(U){U.buffered=[],U.bufferedIndex=0,U.allBuffers=!0,U.allNoop=!0}B.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},r(B.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function F(U){let z=this instanceof lt();if(!z&&!t(F,this))return new F(U);this._writableState=new B(U,this,z),U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final),typeof U.construct=="function"&&(this._construct=U.construct),U.signal&&m(U.signal,this)),b.call(this,U),y.construct(this,()=>{let re=this._writableState;re.writing||ve(this,re),G(this,re)})}r(F,h,{__proto__:null,value:function(U){return t(this,U)?!0:this!==F?!1:U&&U._writableState instanceof B}}),F.prototype.pipe=function(){k(this,new A)};function D(U,z,re,pe){let de=U._writableState;if(typeof re=="function")pe=re,re=de.defaultEncoding;else{if(!re)re=de.defaultEncoding;else if(re!=="buffer"&&!f.isEncoding(re))throw new q(re);typeof pe!="function"&&(pe=P)}if(z===null)throw new M;if(!de.objectMode)if(typeof z=="string")de.decodeStrings!==!1&&(z=f.from(z,re),re="buffer");else if(z instanceof f)re="buffer";else if(b._isUint8Array(z))z=b._uint8ArrayToBuffer(z),re="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],z);let me;return de.ending?me=new C:de.destroyed&&(me=new E("write")),me?(s.nextTick(pe,me),k(U,me,!0),me):(de.pendingcb++,ee(U,de,z,re,pe))}F.prototype.write=function(U,z,re){return D(this,U,z,re)===!0},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){let U=this._writableState;U.corked&&(U.corked--,U.writing||ve(this,U))},F.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=i(U)),!f.isEncoding(U))throw new q(U);return this._writableState.defaultEncoding=U,this};function ee(U,z,re,pe,de){let me=z.objectMode?1:re.length;z.length+=me;let H=z.length<z.highWaterMark;return H||(z.needDrain=!0),z.writing||z.corked||z.errored||!z.constructed?(z.buffered.push({chunk:re,encoding:pe,callback:de}),z.allBuffers&&pe!=="buffer"&&(z.allBuffers=!1),z.allNoop&&de!==P&&(z.allNoop=!1)):(z.writelen=me,z.writecb=de,z.writing=!0,z.sync=!0,U._write(re,pe,z.onwrite),z.sync=!1),H&&!z.errored&&!z.destroyed}function W(U,z,re,pe,de,me,H){z.writelen=pe,z.writecb=H,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new E("write")):re?U._writev(de,z.onwrite):U._write(de,me,z.onwrite),z.sync=!1}function X(U,z,re,pe){--z.pendingcb,pe(re),te(z),k(U,re)}function R(U,z){let re=U._writableState,pe=re.sync,de=re.writecb;if(typeof de!="function"){k(U,new v);return}re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0,z?(z.stack,re.errored||(re.errored=z),U._readableState&&!U._readableState.errored&&(U._readableState.errored=z),pe?s.nextTick(X,U,re,z,de):X(U,re,z,de)):(re.buffered.length>re.bufferedIndex&&ve(U,re),pe?re.afterWriteTickInfo!==null&&re.afterWriteTickInfo.cb===de?re.afterWriteTickInfo.count++:(re.afterWriteTickInfo={count:1,cb:de,stream:U,state:re},s.nextTick(K,re.afterWriteTickInfo)):le(U,re,1,de))}function K({stream:U,state:z,count:re,cb:pe}){return z.afterWriteTickInfo=null,le(U,z,re,pe)}function le(U,z,re,pe){for(!z.ending&&!U.destroyed&&z.length===0&&z.needDrain&&(z.needDrain=!1,U.emit("drain"));re-- >0;)z.pendingcb--,pe();z.destroyed&&te(z),G(U,z)}function te(U){if(U.writing)return;for(let de=U.bufferedIndex;de<U.buffered.length;++de){var z;let{chunk:me,callback:H}=U.buffered[de],ye=U.objectMode?1:me.length;U.length-=ye,H((z=U.errored)!==null&&z!==void 0?z:new E("write"))}let re=U[j].splice(0);for(let de=0;de<re.length;de++){var pe;re[de]((pe=U.errored)!==null&&pe!==void 0?pe:new E("end"))}ie(U)}function ve(U,z){if(z.corked||z.bufferProcessing||z.destroyed||!z.constructed)return;let{buffered:re,bufferedIndex:pe,objectMode:de}=z,me=re.length-pe;if(!me)return;let H=pe;if(z.bufferProcessing=!0,me>1&&U._writev){z.pendingcb-=me-1;let ye=z.allNoop?P:ae=>{for(let Te=H;Te<re.length;++Te)re[Te].callback(ae)},we=z.allNoop&&H===0?re:o(re,H);we.allBuffers=z.allBuffers,W(U,z,!0,z.length,we,"",ye),ie(z)}else{do{let{chunk:ye,encoding:we,callback:ae}=re[H];re[H++]=null;let Te=de?1:ye.length;W(U,z,!1,Te,ye,we,ae)}while(H<re.length&&!z.writing);H===re.length?ie(z):H>256?(re.splice(0,H),z.bufferedIndex=0):z.bufferedIndex=H}z.bufferProcessing=!1}F.prototype._write=function(U,z,re){if(this._writev)this._writev([{chunk:U,encoding:z}],re);else throw new I("_write()")},F.prototype._writev=null,F.prototype.end=function(U,z,re){let pe=this._writableState;typeof U=="function"?(re=U,U=null,z=null):typeof z=="function"&&(re=z,z=null);let de;if(U!=null){let me=D(this,U,z);me instanceof l&&(de=me)}return pe.corked&&(pe.corked=1,this.uncork()),de||(!pe.errored&&!pe.ending?(pe.ending=!0,G(this,pe,!0),pe.ended=!0):pe.finished?de=new T("end"):pe.destroyed&&(de=new E("end"))),typeof re=="function"&&(de||pe.finished?s.nextTick(re,de):pe[j].push(re)),this};function V(U){return U.ending&&!U.destroyed&&U.constructed&&U.length===0&&!U.errored&&U.buffered.length===0&&!U.finished&&!U.writing&&!U.errorEmitted&&!U.closeEmitted}function N(U,z){let re=!1;function pe(de){if(re){k(U,de??v());return}if(re=!0,z.pendingcb--,de){let me=z[j].splice(0);for(let H=0;H<me.length;H++)me[H](de);k(U,de,z.sync)}else V(z)&&(z.prefinished=!0,U.emit("prefinish"),z.pendingcb++,s.nextTick(Q,U,z))}z.sync=!0,z.pendingcb++;try{U._final(pe)}catch(de){pe(de)}z.sync=!1}function ne(U,z){!z.prefinished&&!z.finalCalled&&(typeof U._final=="function"&&!z.destroyed?(z.finalCalled=!0,N(U,z)):(z.prefinished=!0,U.emit("prefinish")))}function G(U,z,re){V(z)&&(ne(U,z),z.pendingcb===0&&(re?(z.pendingcb++,s.nextTick((pe,de)=>{V(de)?Q(pe,de):de.pendingcb--},U,z)):V(z)&&(z.pendingcb++,Q(U,z))))}function Q(U,z){z.pendingcb--,z.finished=!0;let re=z[j].splice(0);for(let pe=0;pe<re.length;pe++)re[pe]();if(U.emit("finish"),z.autoDestroy){let pe=U._readableState;(!pe||pe.autoDestroy&&(pe.endEmitted||pe.readable===!1))&&U.destroy()}}n(F.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(U){this._writableState&&(this._writableState.destroyed=U)}},writable:{__proto__:null,get(){let U=this._writableState;return!!U&&U.writable!==!1&&!U.destroyed&&!U.errored&&!U.ending&&!U.ended},set(U){this._writableState&&(this._writableState.writable=!!U)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let U=this._writableState;return U?!U.destroyed&&!U.ending&&U.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var J=y.destroy;F.prototype.destroy=function(U,z){let re=this._writableState;return!re.destroyed&&(re.bufferedIndex<re.buffered.length||re[j].length)&&s.nextTick(te,re),J.call(this,U,z),this},F.prototype._undestroy=y.undestroy,F.prototype._destroy=function(U,z){z(U)},F.prototype[d.captureRejectionSymbol]=function(U){this.destroy(U)};var be;function se(){return be===void 0&&(be={}),be}F.fromWeb=function(U,z){return se().newStreamWritableFromWritableStream(U,z)},F.toWeb=function(U){return se().newWritableStreamFromStreamWritable(U)}}),Rl=ge((c,p)=>{ue(),fe(),ce();var s=Ot(),o=(Be(),Pe(Ne)),{isReadable:l,isWritable:t,isIterable:r,isNodeStream:n,isReadableNodeStream:e,isWritableNodeStream:i,isDuplexNodeStream:a,isReadableStream:h,isWritableStream:d}=ct(),b=vt(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:m}}=qe(),{destroyer:S}=Wt(),g=lt(),_=Gr(),I=ao(),{createDeferredPromise:v}=$e(),A=ra(),E=globalThis.Blob||o.Blob,T=typeof E<"u"?function(j){return j instanceof E}:function(j){return!1},M=globalThis.AbortController||rr().AbortController,{FunctionPrototypeCall:C}=Me(),q=class extends g{constructor(j){super(j),j?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),j?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};p.exports=function j(B,ie){if(a(B))return B;if(e(B))return P({readable:B});if(i(B))return P({writable:B});if(n(B))return P({writable:!1,readable:!1});if(h(B))return P({readable:_.fromWeb(B)});if(d(B))return P({writable:I.fromWeb(B)});if(typeof B=="function"){let{value:D,write:ee,final:W,destroy:X}=k(B);if(r(D))return A(q,D,{objectMode:!0,write:ee,final:W,destroy:X});let R=D?.then;if(typeof R=="function"){let K,le=C(R,D,te=>{if(te!=null)throw new m("nully","body",te)},te=>{S(K,te)});return K=new q({objectMode:!0,readable:!1,write:ee,final(te){W(async()=>{try{await le,s.nextTick(te,null)}catch(ve){s.nextTick(te,ve)}})},destroy:X})}throw new m("Iterable, AsyncIterable or AsyncFunction",ie,D)}if(T(B))return j(B.arrayBuffer());if(r(B))return A(q,B,{objectMode:!0,writable:!1});if(h(B?.readable)&&d(B?.writable))return q.fromWeb(B);if(typeof B?.writable=="object"||typeof B?.readable=="object"){let D=B!=null&&B.readable?e(B?.readable)?B?.readable:j(B.readable):void 0,ee=B!=null&&B.writable?i(B?.writable)?B?.writable:j(B.writable):void 0;return P({readable:D,writable:ee})}let F=B?.then;if(typeof F=="function"){let D;return C(F,B,ee=>{ee!=null&&D.push(ee),D.push(null)},ee=>{S(D,ee)}),D=new q({objectMode:!0,writable:!1,read(){}})}throw new y(ie,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],B)};function k(j){let{promise:B,resolve:ie}=v(),F=new M,D=F.signal;return{value:j((async function*(){for(;;){let ee=B;B=null;let{chunk:W,done:X,cb:R}=await ee;if(s.nextTick(R),X)return;if(D.aborted)throw new f(void 0,{cause:D.reason});({promise:B,resolve:ie}=v()),yield W}})(),{signal:D}),write(ee,W,X){let R=ie;ie=null,R({chunk:ee,done:!1,cb:X})},final(ee){let W=ie;ie=null,W({done:!0,cb:ee})},destroy(ee,W){F.abort(),W(ee)}}}function P(j){let B=j.readable&&typeof j.readable.read!="function"?_.wrap(j.readable):j.readable,ie=j.writable,F=!!l(B),D=!!t(ie),ee,W,X,R,K;function le(te){let ve=R;R=null,ve?ve(te):te&&K.destroy(te)}return K=new q({readableObjectMode:!!(B!=null&&B.readableObjectMode),writableObjectMode:!!(ie!=null&&ie.writableObjectMode),readable:F,writable:D}),D&&(b(ie,te=>{D=!1,te&&S(B,te),le(te)}),K._write=function(te,ve,V){ie.write(te,ve)?V():ee=V},K._final=function(te){ie.end(),W=te},ie.on("drain",function(){if(ee){let te=ee;ee=null,te()}}),ie.on("finish",function(){if(W){let te=W;W=null,te()}})),F&&(b(B,te=>{F=!1,te&&S(B,te),le(te)}),B.on("readable",function(){if(X){let te=X;X=null,te()}}),B.on("end",function(){K.push(null)}),K._read=function(){for(;;){let te=B.read();if(te===null){X=K._read;return}if(!K.push(te))return}}),K._destroy=function(te,ve){!te&&R!==null&&(te=new f),X=null,ee=null,W=null,R===null?ve(te):(R=ve,S(ie,te),S(B,te))},K}}),lt=ge((c,p)=>{ue(),fe(),ce();var{ObjectDefineProperties:s,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:l,ObjectSetPrototypeOf:t}=Me();p.exports=e;var r=Gr(),n=ao();t(e.prototype,r.prototype),t(e,r);{let d=l(n.prototype);for(let b=0;b<d.length;b++){let f=d[b];e.prototype[f]||(e.prototype[f]=n.prototype[f])}}function e(d){if(!(this instanceof e))return new e(d);r.call(this,d),n.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(e.prototype,{writable:{__proto__:null,...o(n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(n.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(n.prototype,"writableLength")},writableFinished:{__proto__:null,...o(n.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(n.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});var i;function a(){return i===void 0&&(i={}),i}e.fromWeb=function(d,b){return a().newStreamDuplexFromReadableWritablePair(d,b)},e.toWeb=function(d){return a().newReadableWritablePairFromDuplex(d)};var h;e.from=function(d){return h||(h=Rl()),h(d,"body")}}),na=ge((c,p)=>{ue(),fe(),ce();var{ObjectSetPrototypeOf:s,Symbol:o}=Me();p.exports=e;var{ERR_METHOD_NOT_IMPLEMENTED:l}=qe().codes,t=lt(),{getHighWaterMark:r}=Vr();s(e.prototype,t.prototype),s(e,t);var n=o("kCallback");function e(h){if(!(this instanceof e))return new e(h);let d=h?r(this,h,"readableHighWaterMark",!0):null;d===0&&(h={...h,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:h.writableHighWaterMark||0}),t.call(this,h),this._readableState.sync=!1,this[n]=null,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",a)}function i(h){typeof this._flush=="function"&&!this.destroyed?this._flush((d,b)=>{if(d){h?h(d):this.destroy(d);return}b!=null&&this.push(b),this.push(null),h&&h()}):(this.push(null),h&&h())}function a(){this._final!==i&&i.call(this)}e.prototype._final=i,e.prototype._transform=function(h,d,b){throw new l("_transform()")},e.prototype._write=function(h,d,b){let f=this._readableState,y=this._writableState,m=f.length;this._transform(h,d,(S,g)=>{if(S){b(S);return}g!=null&&this.push(g),y.ended||m===f.length||f.length<f.highWaterMark?b():this[n]=b})},e.prototype._read=function(){if(this[n]){let h=this[n];this[n]=null,h()}}}),ia=ge((c,p)=>{ue(),fe(),ce();var{ObjectSetPrototypeOf:s}=Me();p.exports=l;var o=na();s(l.prototype,o.prototype),s(l,o);function l(t){if(!(this instanceof l))return new l(t);o.call(this,t)}l.prototype._transform=function(t,r,n){n(null,t)}}),lo=ge((c,p)=>{ue(),fe(),ce();var s=Ot(),{ArrayIsArray:o,Promise:l,SymbolAsyncIterator:t,SymbolDispose:r}=Me(),n=vt(),{once:e}=$e(),i=Wt(),a=lt(),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:f,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:S}=qe(),{validateFunction:g,validateAbortSignal:_}=or(),{isIterable:I,isReadable:v,isReadableNodeStream:A,isNodeStream:E,isTransformStream:T,isWebStream:M,isReadableStream:C,isReadableFinished:q}=ct(),k=globalThis.AbortController||rr().AbortController,P,j,B;function ie(te,ve,V){let N=!1;te.on("close",()=>{N=!0});let ne=n(te,{readable:ve,writable:V},G=>{N=!G});return{destroy:G=>{N||(N=!0,i.destroyer(te,G||new y("pipe")))},cleanup:ne}}function F(te){return g(te[te.length-1],"streams[stream.length - 1]"),te.pop()}function D(te){if(I(te))return te;if(A(te))return ee(te);throw new d("val",["Readable","Iterable","AsyncIterable"],te)}async function*ee(te){j||(j=Gr()),yield*j.prototype[t].call(te)}async function W(te,ve,V,{end:N}){let ne,G=null,Q=se=>{if(se&&(ne=se),G){let U=G;G=null,U()}},J=()=>new l((se,U)=>{ne?U(ne):G=()=>{ne?U(ne):se()}});ve.on("drain",Q);let be=n(ve,{readable:!1},Q);try{ve.writableNeedDrain&&await J();for await(let se of te)ve.write(se)||await J();N&&(ve.end(),await J()),V()}catch(se){V(ne!==se?h(ne,se):se)}finally{be(),ve.off("drain",Q)}}async function X(te,ve,V,{end:N}){T(ve)&&(ve=ve.writable);let ne=ve.getWriter();try{for await(let G of te)await ne.ready,ne.write(G).catch(()=>{});await ne.ready,N&&await ne.close(),V()}catch(G){try{await ne.abort(G),V(G)}catch(Q){V(Q)}}}function R(...te){return K(te,e(F(te)))}function K(te,ve,V){if(te.length===1&&o(te[0])&&(te=te[0]),te.length<2)throw new f("streams");let N=new k,ne=N.signal,G=V?.signal,Q=[];_(G,"options.signal");function J(){de(new S)}B=B||$e().addAbortListener;let be;G&&(be=B(G,J));let se,U,z=[],re=0;function pe(we){de(we,--re===0)}function de(we,ae){var Te;if(we&&(!se||se.code==="ERR_STREAM_PREMATURE_CLOSE")&&(se=we),!(!se&&!ae)){for(;z.length;)z.shift()(se);(Te=be)===null||Te===void 0||Te[r](),N.abort(),ae&&(se||Q.forEach(u=>u()),s.nextTick(ve,se,U))}}let me;for(let we=0;we<te.length;we++){let ae=te[we],Te=we<te.length-1,u=we>0,w=Te||V?.end!==!1,x=we===te.length-1;if(E(ae)){let $=function(Z){Z&&Z.name!=="AbortError"&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"&&pe(Z)};if(w){let{destroy:Z,cleanup:he}=ie(ae,Te,u);z.push(Z),v(ae)&&x&&Q.push(he)}ae.on("error",$),v(ae)&&x&&Q.push(()=>{ae.removeListener("error",$)})}if(we===0)if(typeof ae=="function"){if(me=ae({signal:ne}),!I(me))throw new b("Iterable, AsyncIterable or Stream","source",me)}else I(ae)||A(ae)||T(ae)?me=ae:me=a.from(ae);else if(typeof ae=="function"){if(T(me)){var H;me=D((H=me)===null||H===void 0?void 0:H.readable)}else me=D(me);if(me=ae(me,{signal:ne}),Te){if(!I(me,!0))throw new b("AsyncIterable",`transform[${we-1}]`,me)}else{var ye;P||(P=ia());let $=new P({objectMode:!0}),Z=(ye=me)===null||ye===void 0?void 0:ye.then;if(typeof Z=="function")re++,Z.call(me,Y=>{U=Y,Y!=null&&$.write(Y),w&&$.end(),s.nextTick(pe)},Y=>{$.destroy(Y),s.nextTick(pe,Y)});else if(I(me,!0))re++,W(me,$,pe,{end:w});else if(C(me)||T(me)){let Y=me.readable||me;re++,W(Y,$,pe,{end:w})}else throw new b("AsyncIterable or Promise","destination",me);me=$;let{destroy:he,cleanup:Se}=ie(me,!1,!0);z.push(he),x&&Q.push(Se)}}else if(E(ae)){if(A(me)){re+=2;let $=le(me,ae,pe,{end:w});v(ae)&&x&&Q.push($)}else if(T(me)||C(me)){let $=me.readable||me;re++,W($,ae,pe,{end:w})}else if(I(me))re++,W(me,ae,pe,{end:w});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=ae}else if(M(ae)){if(A(me))re++,X(D(me),ae,pe,{end:w});else if(C(me)||I(me))re++,X(me,ae,pe,{end:w});else if(T(me))re++,X(me.readable,ae,pe,{end:w});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=ae}else me=a.from(ae)}return(ne!=null&&ne.aborted||G!=null&&G.aborted)&&s.nextTick(J),me}function le(te,ve,V,{end:N}){let ne=!1;if(ve.on("close",()=>{ne||V(new m)}),te.pipe(ve,{end:!1}),N){let G=function(){ne=!0,ve.end()};q(te)?s.nextTick(G):te.once("end",G)}else V();return n(te,{readable:!0,writable:!1},G=>{let Q=te._readableState;G&&G.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?te.once("end",V).once("error",V):V(G)}),n(ve,{readable:!1,writable:!0},V)}p.exports={pipelineImpl:K,pipeline:R}}),oa=ge((c,p)=>{ue(),fe(),ce();var{pipeline:s}=lo(),o=lt(),{destroyer:l}=Wt(),{isNodeStream:t,isReadable:r,isWritable:n,isWebStream:e,isTransformStream:i,isWritableStream:a,isReadableStream:h}=ct(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:f}}=qe(),y=vt();p.exports=function(...m){if(m.length===0)throw new f("streams");if(m.length===1)return o.from(m[0]);let S=[...m];if(typeof m[0]=="function"&&(m[0]=o.from(m[0])),typeof m[m.length-1]=="function"){let k=m.length-1;m[k]=o.from(m[k])}for(let k=0;k<m.length;++k)if(!(!t(m[k])&&!e(m[k]))){if(k<m.length-1&&!(r(m[k])||h(m[k])||i(m[k])))throw new b(`streams[${k}]`,S[k],"must be readable");if(k>0&&!(n(m[k])||a(m[k])||i(m[k])))throw new b(`streams[${k}]`,S[k],"must be writable")}let g,_,I,v,A;function E(k){let P=v;v=null,P?P(k):k?A.destroy(k):!q&&!C&&A.destroy()}let T=m[0],M=s(m,E),C=!!(n(T)||a(T)||i(T)),q=!!(r(M)||h(M)||i(M));if(A=new o({writableObjectMode:!!(T!=null&&T.writableObjectMode),readableObjectMode:!!(M!=null&&M.readableObjectMode),writable:C,readable:q}),C){if(t(T))A._write=function(P,j,B){T.write(P,j)?B():g=B},A._final=function(P){T.end(),_=P},T.on("drain",function(){if(g){let P=g;g=null,P()}});else if(e(T)){let P=(i(T)?T.writable:T).getWriter();A._write=async function(j,B,ie){try{await P.ready,P.write(j).catch(()=>{}),ie()}catch(F){ie(F)}},A._final=async function(j){try{await P.ready,P.close().catch(()=>{}),_=j}catch(B){j(B)}}}let k=i(M)?M.readable:M;y(k,()=>{if(_){let P=_;_=null,P()}})}if(q){if(t(M))M.on("readable",function(){if(I){let k=I;I=null,k()}}),M.on("end",function(){A.push(null)}),A._read=function(){for(;;){let k=M.read();if(k===null){I=A._read;return}if(!A.push(k))return}};else if(e(M)){let k=(i(M)?M.readable:M).getReader();A._read=async function(){for(;;)try{let{value:P,done:j}=await k.read();if(!A.push(P))return;if(j){A.push(null);return}}catch{return}}}}return A._destroy=function(k,P){!k&&v!==null&&(k=new d),I=null,g=null,_=null,v===null?P(k):(v=P,t(M)&&l(M,k))},A}}),Cl=ge((c,p)=>{ue(),fe(),ce();var s=globalThis.AbortController||rr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:l,ERR_MISSING_ARGS:t,ERR_OUT_OF_RANGE:r},AbortError:n}=qe(),{validateAbortSignal:e,validateInteger:i,validateObject:a}=or(),h=Me().Symbol("kWeak"),d=Me().Symbol("kResistStopPropagation"),{finished:b}=vt(),f=oa(),{addAbortSignalNoValidate:y}=Kr(),{isWritable:m,isNodeStream:S}=ct(),{deprecate:g}=$e(),{ArrayPrototypePush:_,Boolean:I,MathFloor:v,Number:A,NumberIsNaN:E,Promise:T,PromiseReject:M,PromiseResolve:C,PromisePrototypeThen:q,Symbol:k}=Me(),P=k("kEmpty"),j=k("kEof");function B(G,Q){if(Q!=null&&a(Q,"options"),Q?.signal!=null&&e(Q.signal,"options.signal"),S(G)&&!m(G))throw new o("stream",G,"must be writable");let J=f(this,G);return Q!=null&&Q.signal&&y(Q.signal,J),J}function ie(G,Q){if(typeof G!="function")throw new l("fn",["Function","AsyncFunction"],G);Q!=null&&a(Q,"options"),Q?.signal!=null&&e(Q.signal,"options.signal");let J=1;Q?.concurrency!=null&&(J=v(Q.concurrency));let be=J-1;return Q?.highWaterMark!=null&&(be=v(Q.highWaterMark)),i(J,"options.concurrency",1),i(be,"options.highWaterMark",0),be+=J,(async function*(){let se=$e().AbortSignalAny([Q?.signal].filter(I)),U=this,z=[],re={signal:se},pe,de,me=!1,H=0;function ye(){me=!0,we()}function we(){H-=1,ae()}function ae(){de&&!me&&H<J&&z.length<be&&(de(),de=null)}async function Te(){try{for await(let u of U){if(me)return;if(se.aborted)throw new n;try{if(u=G(u,re),u===P)continue;u=C(u)}catch(w){u=M(w)}H+=1,q(u,we,ye),z.push(u),pe&&(pe(),pe=null),!me&&(z.length>=be||H>=J)&&await new T(w=>{de=w})}z.push(j)}catch(u){let w=M(u);q(w,we,ye),z.push(w)}finally{me=!0,pe&&(pe(),pe=null)}}Te();try{for(;;){for(;z.length>0;){let u=await z[0];if(u===j)return;if(se.aborted)throw new n;u!==P&&(yield u),z.shift(),ae()}await new T(u=>{pe=u})}}finally{me=!0,de&&(de(),de=null)}}).call(this)}function F(G=void 0){return G!=null&&a(G,"options"),G?.signal!=null&&e(G.signal,"options.signal"),(async function*(){let Q=0;for await(let be of this){var J;if(G!=null&&(J=G.signal)!==null&&J!==void 0&&J.aborted)throw new n({cause:G.signal.reason});yield[Q++,be]}}).call(this)}async function D(G,Q=void 0){for await(let J of R.call(this,G,Q))return!0;return!1}async function ee(G,Q=void 0){if(typeof G!="function")throw new l("fn",["Function","AsyncFunction"],G);return!await D.call(this,async(...J)=>!await G(...J),Q)}async function W(G,Q){for await(let J of R.call(this,G,Q))return J}async function X(G,Q){if(typeof G!="function")throw new l("fn",["Function","AsyncFunction"],G);async function J(be,se){return await G(be,se),P}for await(let be of ie.call(this,J,Q));}function R(G,Q){if(typeof G!="function")throw new l("fn",["Function","AsyncFunction"],G);async function J(be,se){return await G(be,se)?be:P}return ie.call(this,J,Q)}var K=class extends t{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function le(G,Q,J){var be;if(typeof G!="function")throw new l("reducer",["Function","AsyncFunction"],G);J!=null&&a(J,"options"),J?.signal!=null&&e(J.signal,"options.signal");let se=arguments.length>1;if(J!=null&&(be=J.signal)!==null&&be!==void 0&&be.aborted){let de=new n(void 0,{cause:J.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(de)),de}let U=new s,z=U.signal;if(J!=null&&J.signal){let de={once:!0,[h]:this,[d]:!0};J.signal.addEventListener("abort",()=>U.abort(),de)}let re=!1;try{for await(let de of this){var pe;if(re=!0,J!=null&&(pe=J.signal)!==null&&pe!==void 0&&pe.aborted)throw new n;se?Q=await G(Q,de,{signal:z}):(Q=de,se=!0)}if(!re&&!se)throw new K}finally{U.abort()}return Q}async function te(G){G!=null&&a(G,"options"),G?.signal!=null&&e(G.signal,"options.signal");let Q=[];for await(let be of this){var J;if(G!=null&&(J=G.signal)!==null&&J!==void 0&&J.aborted)throw new n(void 0,{cause:G.signal.reason});_(Q,be)}return Q}function ve(G,Q){let J=ie.call(this,G,Q);return(async function*(){for await(let be of J)yield*be}).call(this)}function V(G){if(G=A(G),E(G))return 0;if(G<0)throw new r("number",">= 0",G);return G}function N(G,Q=void 0){return Q!=null&&a(Q,"options"),Q?.signal!=null&&e(Q.signal,"options.signal"),G=V(G),(async function*(){var J;if(Q!=null&&(J=Q.signal)!==null&&J!==void 0&&J.aborted)throw new n;for await(let se of this){var be;if(Q!=null&&(be=Q.signal)!==null&&be!==void 0&&be.aborted)throw new n;G--<=0&&(yield se)}}).call(this)}function ne(G,Q=void 0){return Q!=null&&a(Q,"options"),Q?.signal!=null&&e(Q.signal,"options.signal"),G=V(G),(async function*(){var J;if(Q!=null&&(J=Q.signal)!==null&&J!==void 0&&J.aborted)throw new n;for await(let se of this){var be;if(Q!=null&&(be=Q.signal)!==null&&be!==void 0&&be.aborted)throw new n;if(G-- >0&&(yield se),G<=0)return}}).call(this)}p.exports.streamReturningOperators={asIndexedPairs:g(F,"readable.asIndexedPairs will be removed in a future version."),drop:N,filter:R,flatMap:ve,map:ie,take:ne,compose:B},p.exports.promiseReturningOperators={every:ee,forEach:X,reduce:le,toArray:te,some:D,find:W}}),sa=ge((c,p)=>{ue(),fe(),ce();var{ArrayPrototypePop:s,Promise:o}=Me(),{isIterable:l,isNodeStream:t,isWebStream:r}=ct(),{pipelineImpl:n}=lo(),{finished:e}=vt();aa();function i(...a){return new o((h,d)=>{let b,f,y=a[a.length-1];if(y&&typeof y=="object"&&!t(y)&&!l(y)&&!r(y)){let m=s(a);b=m.signal,f=m.end}n(a,(m,S)=>{m?d(m):h(S)},{signal:b,end:f})})}p.exports={finished:e,pipeline:i}}),aa=ge((c,p)=>{ue(),fe(),ce();var{Buffer:s}=(Be(),Pe(Ne)),{ObjectDefineProperty:o,ObjectKeys:l,ReflectApply:t}=Me(),{promisify:{custom:r}}=$e(),{streamReturningOperators:n,promiseReturningOperators:e}=Cl(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=qe(),a=oa(),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:d}=Vr(),{pipeline:b}=lo(),{destroyer:f}=Wt(),y=vt(),m=sa(),S=ct(),g=p.exports=so().Stream;g.isDestroyed=S.isDestroyed,g.isDisturbed=S.isDisturbed,g.isErrored=S.isErrored,g.isReadable=S.isReadable,g.isWritable=S.isWritable,g.Readable=Gr();for(let I of l(n)){let v=function(...E){if(new.target)throw i();return g.Readable.from(t(A,this,E))},A=n[I];o(v,"name",{__proto__:null,value:A.name}),o(v,"length",{__proto__:null,value:A.length}),o(g.Readable.prototype,I,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let I of l(e)){let v=function(...E){if(new.target)throw i();return t(A,this,E)},A=e[I];o(v,"name",{__proto__:null,value:A.name}),o(v,"length",{__proto__:null,value:A.length}),o(g.Readable.prototype,I,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}g.Writable=ao(),g.Duplex=lt(),g.Transform=na(),g.PassThrough=ia(),g.pipeline=b;var{addAbortSignal:_}=Kr();g.addAbortSignal=_,g.finished=y,g.destroy=f,g.compose=a,g.setDefaultHighWaterMark=h,g.getDefaultHighWaterMark=d,o(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),o(b,r,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),o(y,r,{__proto__:null,enumerable:!0,get(){return m.finished}}),g.Stream=g,g._isUint8Array=function(I){return I instanceof Uint8Array},g._uint8ArrayToBuffer=function(I){return s.from(I.buffer,I.byteOffset,I.byteLength)}}),Pt=ge((c,p)=>{ue(),fe(),ce();var s=aa(),o=sa(),l=s.Readable.destroy;p.exports=s.Readable,p.exports._uint8ArrayToBuffer=s._uint8ArrayToBuffer,p.exports._isUint8Array=s._isUint8Array,p.exports.isDisturbed=s.isDisturbed,p.exports.isErrored=s.isErrored,p.exports.isReadable=s.isReadable,p.exports.Readable=s.Readable,p.exports.Writable=s.Writable,p.exports.Duplex=s.Duplex,p.exports.Transform=s.Transform,p.exports.PassThrough=s.PassThrough,p.exports.addAbortSignal=s.addAbortSignal,p.exports.finished=s.finished,p.exports.destroy=s.destroy,p.exports.destroy=l,p.exports.pipeline=s.pipeline,p.exports.compose=s.compose,Object.defineProperty(s,"promises",{configurable:!0,enumerable:!0,get(){return o}}),p.exports.Stream=s.Stream,p.exports.default=p.exports}),Ml=ge((c,p)=>{ue(),fe(),ce(),typeof Object.create=="function"?p.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:p.exports=function(s,o){if(o){s.super_=o;var l=function(){};l.prototype=o.prototype,s.prototype=new l,s.prototype.constructor=s}}}),jl=ge((c,p)=>{ue(),fe(),ce();var{Buffer:s}=(Be(),Pe(Ne)),o=Symbol.for("BufferList");function l(t){if(!(this instanceof l))return new l(t);l._init.call(this,t)}l._init=function(t){Object.defineProperty(this,o,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},l.prototype._new=function(t){return new l(t)},l.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let e=r+this._bufs[n].length;if(t<e||n===this._bufs.length-1)return[n,t-r];r=e}},l.prototype._reverseOffset=function(t){let r=t[0],n=t[1];for(let e=0;e<r;e++)n+=this._bufs[e].length;return n},l.prototype.getBuffers=function(){return this._bufs},l.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]},l.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)},l.prototype.copy=function(t,r,n,e){if((typeof n!="number"||n<0)&&(n=0),(typeof e!="number"||e>this.length)&&(e=this.length),n>=this.length||e<=0)return t||s.alloc(0);let i=!!t,a=this._offset(n),h=e-n,d=h,b=i&&r||0,f=a[1];if(n===0&&e===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(t,b),b+=this._bufs[y].length;return t}if(d<=this._bufs[a[0]].length-f)return i?this._bufs[a[0]].copy(t,r,f,f+d):this._bufs[a[0]].slice(f,f+d);i||(t=s.allocUnsafe(h));for(let y=a[0];y<this._bufs.length;y++){let m=this._bufs[y].length-f;if(d>m)this._bufs[y].copy(t,b,f),b+=m;else{this._bufs[y].copy(t,b,f,f+d),b+=m;break}d-=m,f&&(f=0)}return t.length>b?t.slice(0,b):t},l.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let n=this._offset(t),e=this._offset(r),i=this._bufs.slice(n[0],e[0]+1);return e[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,e[1]),n[1]!==0&&(i[0]=i[0].slice(n[1])),this._new(i)},l.prototype.toString=function(t,r,n){return this.slice(r,n).toString(t)},l.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this},l.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t},l.prototype.append=function(t){return this._attach(t,l.prototype._appendBuffer)},l.prototype.prepend=function(t){return this._attach(t,l.prototype._prependBuffer,!0)},l.prototype._attach=function(t,r,n){if(t==null)return this;if(t.buffer)r.call(this,s.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t)){let[e,i]=n?[t.length-1,-1]:[0,1];for(let a=e;a>=0&&a<t.length;a+=i)this._attach(t[a],r,n)}else if(this._isBufferList(t)){let[e,i]=n?[t._bufs.length-1,-1]:[0,1];for(let a=e;a>=0&&a<t._bufs.length;a+=i)this._attach(t._bufs[a],r,n)}else typeof t=="number"&&(t=t.toString()),r.call(this,s.from(t));return this},l.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},l.prototype._prependBuffer=function(t){this._bufs.unshift(t),this.length+=t.length},l.prototype.indexOf=function(t,r,n){if(n===void 0&&typeof r=="string"&&(n=r,r=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=s.from([t]):typeof t=="string"?t=s.from(t,n):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=s.from(t.buffer,t.byteOffset,t.byteLength):s.isBuffer(t)||(t=s.from(t)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),t.length===0)return r>this.length?this.length:r;let e=this._offset(r),i=e[0],a=e[1];for(;i<this._bufs.length;i++){let h=this._bufs[i];for(;a<h.length;)if(h.length-a>=t.length){let d=h.indexOf(t,a);if(d!==-1)return this._reverseOffset([i,d]);a=h.length-t.length+1}else{let d=this._reverseOffset([i,a]);if(this._match(d,t))return d;a++}a=0}return-1},l.prototype._match=function(t,r){if(this.length-t<r.length)return!1;for(let n=0;n<r.length;n++)if(this.get(t+n)!==r[n])return!1;return!0},(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let r in t)(function(n){t[n]===null?l.prototype[n]=function(e,i){return this.slice(e,e+i)[n](0,i)}:l.prototype[n]=function(e=0){return this.slice(e,e+t[n])[n](0)}})(r)})(),l.prototype._isBufferList=function(t){return t instanceof l||l.isBufferList(t)},l.isBufferList=function(t){return t!=null&&t[o]},p.exports=l}),Nl=ge((c,p)=>{ue(),fe(),ce();var s=Pt().Duplex,o=Ml(),l=jl();function t(r){if(!(this instanceof t))return new t(r);if(typeof r=="function"){this._callback=r;let n=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",n)}),this.on("unpipe",function(e){e.removeListener("error",n)}),r=null}l._init.call(this,r),s.call(this)}o(t,s),Object.assign(t.prototype,l.prototype),t.prototype._new=function(r){return new t(r)},t.prototype._write=function(r,n,e){this._appendBuffer(r),typeof e=="function"&&e()},t.prototype._read=function(r){if(!this.length)return this.push(null);r=Math.min(r,this.length),this.push(this.slice(0,r)),this.consume(r)},t.prototype.end=function(r){s.prototype.end.call(this,r),this._callback&&(this._callback(null,this.slice()),this._callback=null)},t.prototype._destroy=function(r,n){this._bufs.length=0,this.length=0,n(r)},t.prototype._isBufferList=function(r){return r instanceof t||r instanceof l||t.isBufferList(r)},t.isBufferList=l.isBufferList,p.exports=t,p.exports.BufferListStream=t,p.exports.BufferList=l}),Bl=ge((c,p)=>{ue(),fe(),ce();var s=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};p.exports=s}),la=ge((c,p)=>{ue(),fe(),ce();var s=p.exports,{Buffer:o}=(Be(),Pe(Ne));s.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},s.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},s.requiredHeaderFlagsErrors={};for(let t in s.requiredHeaderFlags){let r=s.requiredHeaderFlags[t];s.requiredHeaderFlagsErrors[t]="Invalid header flag bits, must be 0x"+r.toString(16)+" for "+s.types[t]+" packet"}s.codes={};for(let t in s.types){let r=s.types[t];s.codes[r]=t}s.CMD_SHIFT=4,s.CMD_MASK=240,s.DUP_MASK=8,s.QOS_MASK=3,s.QOS_SHIFT=1,s.RETAIN_MASK=1,s.VARBYTEINT_MASK=127,s.VARBYTEINT_FIN_MASK=128,s.VARBYTEINT_MAX=268435455,s.SESSIONPRESENT_MASK=1,s.SESSIONPRESENT_HEADER=o.from([s.SESSIONPRESENT_MASK]),s.CONNACK_HEADER=o.from([s.codes.connack<<s.CMD_SHIFT]),s.USERNAME_MASK=128,s.PASSWORD_MASK=64,s.WILL_RETAIN_MASK=32,s.WILL_QOS_MASK=24,s.WILL_QOS_SHIFT=3,s.WILL_FLAG_MASK=4,s.CLEAN_SESSION_MASK=2,s.CONNECT_HEADER=o.from([s.codes.connect<<s.CMD_SHIFT]),s.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},s.propertiesCodes={};for(let t in s.properties){let r=s.properties[t];s.propertiesCodes[r]=t}s.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function l(t){return[0,1,2].map(r=>[0,1].map(n=>[0,1].map(e=>{let i=o.alloc(1);return i.writeUInt8(s.codes[t]<<s.CMD_SHIFT|(n?s.DUP_MASK:0)|r<<s.QOS_SHIFT|e,0,!0),i})))}s.PUBLISH_HEADER=l("publish"),s.SUBSCRIBE_HEADER=l("subscribe"),s.SUBSCRIBE_OPTIONS_QOS_MASK=3,s.SUBSCRIBE_OPTIONS_NL_MASK=1,s.SUBSCRIBE_OPTIONS_NL_SHIFT=2,s.SUBSCRIBE_OPTIONS_RAP_MASK=1,s.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,s.SUBSCRIBE_OPTIONS_RH_MASK=3,s.SUBSCRIBE_OPTIONS_RH_SHIFT=4,s.SUBSCRIBE_OPTIONS_RH=[0,16,32],s.SUBSCRIBE_OPTIONS_NL=4,s.SUBSCRIBE_OPTIONS_RAP=8,s.SUBSCRIBE_OPTIONS_QOS=[0,1,2],s.UNSUBSCRIBE_HEADER=l("unsubscribe"),s.ACKS={unsuback:l("unsuback"),puback:l("puback"),pubcomp:l("pubcomp"),pubrel:l("pubrel"),pubrec:l("pubrec")},s.SUBACK_HEADER=o.from([s.codes.suback<<s.CMD_SHIFT]),s.VERSION3=o.from([3]),s.VERSION4=o.from([4]),s.VERSION5=o.from([5]),s.VERSION131=o.from([131]),s.VERSION132=o.from([132]),s.QOS=[0,1,2].map(t=>o.from([t])),s.EMPTY={pingreq:o.from([s.codes.pingreq<<4,0]),pingresp:o.from([s.codes.pingresp<<4,0]),disconnect:o.from([s.codes.disconnect<<4,0])},s.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},s.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},s.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},s.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Ul=ge((c,p)=>{ue(),fe(),ce();var s=1e3,o=s*60,l=o*60,t=l*24,r=t*7,n=t*365.25;p.exports=function(d,b){b=b||{};var f=typeof d;if(f==="string"&&d.length>0)return e(d);if(f==="number"&&isFinite(d))return b.long?a(d):i(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function e(d){if(d=String(d),!(d.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(b){var f=parseFloat(b[1]),y=(b[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return f*n;case"weeks":case"week":case"w":return f*r;case"days":case"day":case"d":return f*t;case"hours":case"hour":case"hrs":case"hr":case"h":return f*l;case"minutes":case"minute":case"mins":case"min":case"m":return f*o;case"seconds":case"second":case"secs":case"sec":case"s":return f*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function i(d){var b=Math.abs(d);return b>=t?Math.round(d/t)+"d":b>=l?Math.round(d/l)+"h":b>=o?Math.round(d/o)+"m":b>=s?Math.round(d/s)+"s":d+"ms"}function a(d){var b=Math.abs(d);return b>=t?h(d,b,t,"day"):b>=l?h(d,b,l,"hour"):b>=o?h(d,b,o,"minute"):b>=s?h(d,b,s,"second"):d+" ms"}function h(d,b,f,y){var m=b>=f*1.5;return Math.round(d/f)+" "+y+(m?"s":"")}}),Ll=ge((c,p)=>{ue(),fe(),ce();function s(o){t.debug=t,t.default=t,t.coerce=h,t.disable=i,t.enable=n,t.enabled=a,t.humanize=Ul(),t.destroy=d,Object.keys(o).forEach(b=>{t[b]=o[b]}),t.names=[],t.skips=[],t.formatters={};function l(b){let f=0;for(let y=0;y<b.length;y++)f=(f<<5)-f+b.charCodeAt(y),f|=0;return t.colors[Math.abs(f)%t.colors.length]}t.selectColor=l;function t(b){let f,y=null,m,S;function g(..._){if(!g.enabled)return;let I=g,v=Number(new Date),A=v-(f||v);I.diff=A,I.prev=f,I.curr=v,f=v,_[0]=t.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let E=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(T,M)=>{if(T==="%%")return"%";E++;let C=t.formatters[M];if(typeof C=="function"){let q=_[E];T=C.call(I,q),_.splice(E,1),E--}return T}),t.formatArgs.call(I,_),(I.log||t.log).apply(I,_)}return g.namespace=b,g.useColors=t.useColors(),g.color=t.selectColor(b),g.extend=r,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(m!==t.namespaces&&(m=t.namespaces,S=t.enabled(b)),S),set:_=>{y=_}}),typeof t.init=="function"&&t.init(g),g}function r(b,f){let y=t(this.namespace+(typeof f>"u"?":":f)+b);return y.log=this.log,y}function n(b){t.save(b),t.namespaces=b,t.names=[],t.skips=[];let f=(typeof b=="string"?b:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of f)y[0]==="-"?t.skips.push(y.slice(1)):t.names.push(y)}function e(b,f){let y=0,m=0,S=-1,g=0;for(;y<b.length;)if(m<f.length&&(f[m]===b[y]||f[m]==="*"))f[m]==="*"?(S=m,g=y,m++):(y++,m++);else if(S!==-1)m=S+1,g++,y=g;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function i(){let b=[...t.names,...t.skips.map(f=>"-"+f)].join(",");return t.enable(""),b}function a(b){for(let f of t.skips)if(e(b,f))return!1;for(let f of t.names)if(e(b,f))return!0;return!1}function h(b){return b instanceof Error?b.stack||b.message:b}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}p.exports=s}),ut=ge((c,p)=>{ue(),fe(),ce(),c.formatArgs=o,c.save=l,c.load=t,c.useColors=s,c.storage=r(),c.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+p.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;e.splice(1,0,i,"color: inherit");let a=0,h=0;e[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(a++,d==="%c"&&(h=a))}),e.splice(h,0,i)}c.log=console.debug||console.log||(()=>{});function l(e){try{e?c.storage.setItem("debug",e):c.storage.removeItem("debug")}catch{}}function t(){let e;try{e=c.storage.getItem("debug")||c.storage.getItem("DEBUG")}catch{}return!e&&typeof Re<"u"&&"env"in Re&&(e=Re.env.DEBUG),e}function r(){try{return localStorage}catch{}}p.exports=Ll()(c);var{formatters:n}=p.exports;n.j=function(e){try{return JSON.stringify(e)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),Dl=ge((c,p)=>{ue(),fe(),ce();var s=Nl(),{EventEmitter:o}=(Tt(),Pe(mt)),l=Bl(),t=la(),r=ut()("mqtt-packet:parser"),n=class fi extends o{constructor(){super(),this.parser=this.constructor.parser}static parser(i){return this instanceof fi?(this.settings=i||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new fi().parser(i)}_resetState(){r("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new l,this.error=null,this._list=s(),this._stateCounter=0}parse(i){for(this.error&&this._resetState(),this._list.append(i),r("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,r("parse: state complete. _stateCounter is now: %d",this._stateCounter),r("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return r("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let i=this._list.readUInt8(0),a=i>>t.CMD_SHIFT;this.packet.cmd=t.types[a];let h=i&15,d=t.requiredHeaderFlags[a];return d!=null&&h!==d?this._emitError(new Error(t.requiredHeaderFlagsErrors[a])):(this.packet.retain=(i&t.RETAIN_MASK)!==0,this.packet.qos=i>>t.QOS_SHIFT&t.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(i&t.DUP_MASK)!==0,r("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let i=this._parseVarByteNum(!0);return i&&(this.packet.length=i.value,this._list.consume(i.bytes)),r("_parseLength %d",i.value),!!i}_parsePayload(){r("_parsePayload: payload %O",this._list);let i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}i=!0}return r("_parsePayload complete result: %s",i),i}_parseConnect(){r("_parseConnect");let i,a,h,d,b={},f=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(f.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(f.protocolVersion=this._list.readUInt8(this._pos),f.protocolVersion>=128&&(f.bridgeMode=!0,f.protocolVersion=f.protocolVersion-128),f.protocolVersion!==3&&f.protocolVersion!==4&&f.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));b.username=this._list.readUInt8(this._pos)&t.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&t.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&t.WILL_FLAG_MASK;let m=!!(this._list.readUInt8(this._pos)&t.WILL_RETAIN_MASK),S=(this._list.readUInt8(this._pos)&t.WILL_QOS_MASK)>>t.WILL_QOS_SHIFT;if(b.will)f.will={},f.will.retain=m,f.will.qos=S;else{if(m)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(S)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(f.clean=(this._list.readUInt8(this._pos)&t.CLEAN_SESSION_MASK)!==0,this._pos++,f.keepalive=this._parseNum(),f.keepalive===-1)return this._emitError(new Error("Packet too short"));if(f.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(f.properties=_)}let g=this._parseString();if(g===null)return this._emitError(new Error("Packet too short"));if(f.clientId=g,r("_parseConnect: packet.clientId: %s",f.clientId),b.will){if(f.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(f.will.properties=_)}if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse will topic"));if(f.will.topic=i,r("_parseConnect: packet.will.topic: %s",f.will.topic),a=this._parseBuffer(),a===null)return this._emitError(new Error("Cannot parse will payload"));f.will.payload=a,r("_parseConnect: packet.will.paylaod: %s",f.will.payload)}if(b.username){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse username"));f.username=d,r("_parseConnect: packet.username: %s",f.username)}if(b.password){if(h=this._parseBuffer(),h===null)return this._emitError(new Error("Cannot parse password"));f.password=h}return this.settings=f,r("_parseConnect: complete"),f}_parseConnack(){r("_parseConnack");let i=this.packet;if(this._list.length<1)return null;let a=this._list.readUInt8(this._pos++);if(a>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(i.sessionPresent=!!(a&t.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?i.reasonCode=this._list.readUInt8(this._pos++):i.reasonCode=0;else{if(this._list.length<2)return null;i.returnCode=this._list.readUInt8(this._pos++)}if(i.returnCode===-1||i.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(i.properties=h)}r("_parseConnack: complete")}_parsePublish(){r("_parsePublish");let i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(i.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let a=this._parseProperties();Object.getOwnPropertyNames(a).length&&(i.properties=a)}i.payload=this._list.slice(this._pos,i.length),r("_parsePublish: payload from buffer list: %o",i.payload)}}_parseSubscribe(){r("_parseSubscribe");let i=this.packet,a,h,d,b,f,y,m;if(i.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(i.properties=S)}if(i.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<i.length;){if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=i.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(h=this._parseByte(),this.settings.protocolVersion===5){if(h&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(h&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(d=h&t.SUBSCRIBE_OPTIONS_QOS_MASK,d>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(h>>t.SUBSCRIBE_OPTIONS_NL_SHIFT&t.SUBSCRIBE_OPTIONS_NL_MASK)!==0,f=(h>>t.SUBSCRIBE_OPTIONS_RAP_SHIFT&t.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=h>>t.SUBSCRIBE_OPTIONS_RH_SHIFT&t.SUBSCRIBE_OPTIONS_RH_MASK,b>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));m={topic:a,qos:d},this.settings.protocolVersion===5?(m.nl=y,m.rap=f,m.rh=b):this.settings.bridgeMode&&(m.rh=0,m.rap=!0,m.nl=!0),r("_parseSubscribe: push subscription `%s` to subscription",m),i.subscriptions.push(m)}}}_parseSuback(){r("_parseSuback");let i=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let a=this._parseProperties();Object.getOwnPropertyNames(a).length&&(i.properties=a)}if(i.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let a=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!t.MQTT5_SUBACK_CODES[a])return this._emitError(new Error("Invalid suback code"))}else if(a>2&&a!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(a)}}}_parseUnsubscribe(){r("_parseUnsubscribe");let i=this.packet;if(i.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let a=this._parseProperties();Object.getOwnPropertyNames(a).length&&(i.properties=a)}if(i.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<i.length;){let a=this._parseString();if(a===null)return this._emitError(new Error("Cannot parse topic"));r("_parseUnsubscribe: push topic `%s` to unsubscriptions",a),i.unsubscriptions.push(a)}}}_parseUnsuback(){r("_parseUnsuback");let i=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&i.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(i.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let a=this._parseProperties();for(Object.getOwnPropertyNames(a).length&&(i.properties=a),i.granted=[];this._pos<this.packet.length;){let h=this._list.readUInt8(this._pos++);if(!t.MQTT5_UNSUBACK_CODES[h])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(h)}}}_parseConfirmation(){r("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let i=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(i.length>2){switch(i.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!t.MQTT5_PUBACK_PUBREC_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!t.MQTT5_PUBREL_PUBCOMP_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}r("_parseConfirmation: packet.reasonCode `%d`",i.reasonCode)}else i.reasonCode=0;if(i.length>3){let a=this._parseProperties();Object.getOwnPropertyNames(a).length&&(i.properties=a)}}return!0}_parseDisconnect(){let i=this.packet;if(r("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(i.reasonCode=this._parseByte(),t.MQTT5_DISCONNECT_CODES[i.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):i.reasonCode=0;let a=this._parseProperties();Object.getOwnPropertyNames(a).length&&(i.properties=a)}return r("_parseDisconnect result: true"),!0}_parseAuth(){r("_parseAuth");let i=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(i.reasonCode=this._parseByte(),!t.MQTT5_AUTH_CODES[i.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let a=this._parseProperties();return Object.getOwnPropertyNames(a).length&&(i.properties=a),r("_parseAuth: result: true"),!0}_parseMessageId(){let i=this.packet;return i.messageId=this._parseNum(),i.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(r("_parseMessageId: packet.messageId %d",i.messageId),!0)}_parseString(i){let a=this._parseNum(),h=a+this._pos;if(a===-1||h>this._list.length||h>this.packet.length)return null;let d=this._list.toString("utf8",this._pos,h);return this._pos+=a,r("_parseString: result: %s",d),d}_parseStringPair(){return r("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let i=this._parseNum(),a=i+this._pos;if(i===-1||a>this._list.length||a>this.packet.length)return null;let h=this._list.slice(this._pos,a);return this._pos+=i,r("_parseBuffer: result: %o",h),h}_parseNum(){if(this._list.length-this._pos<2)return-1;let i=this._list.readUInt16BE(this._pos);return this._pos+=2,r("_parseNum: result: %s",i),i}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let i=this._list.readUInt32BE(this._pos);return this._pos+=4,r("_parse4ByteNum: result: %s",i),i}_parseVarByteNum(i){r("_parseVarByteNum");let a=4,h=0,d=1,b=0,f=!1,y,m=this._pos?this._pos:0;for(;h<a&&m+h<this._list.length;){if(y=this._list.readUInt8(m+h++),b+=d*(y&t.VARBYTEINT_MASK),d*=128,(y&t.VARBYTEINT_FIN_MASK)===0){f=!0;break}if(this._list.length<=h)break}return!f&&h===a&&this._list.length>=h&&this._emitError(new Error("Invalid variable byte integer")),m&&(this._pos+=h),f?i?f={bytes:h,value:b}:f=b:f=!1,r("_parseVarByteNum: result: %o",f),f}_parseByte(){let i;return this._pos<this._list.length&&(i=this._list.readUInt8(this._pos),this._pos++),r("_parseByte: result: %o",i),i}_parseByType(i){switch(r("_parseByType: type: %s",i),i){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){r("_parseProperties");let i=this._parseVarByteNum(),a=this._pos+i,h={};for(;this._pos<a;){let d=this._parseByte();if(!d)return this._emitError(new Error("Cannot parse property code type")),!1;let b=t.propertiesCodes[d];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){h[b]||(h[b]=Object.create(null));let f=this._parseByType(t.propertiesTypes[b]);if(h[b][f.name])if(Array.isArray(h[b][f.name]))h[b][f.name].push(f.value);else{let y=h[b][f.name];h[b][f.name]=[y],h[b][f.name].push(f.value)}else h[b][f.name]=f.value;continue}h[b]?Array.isArray(h[b])?h[b].push(this._parseByType(t.propertiesTypes[b])):(h[b]=[h[b]],h[b].push(this._parseByType(t.propertiesTypes[b]))):h[b]=this._parseByType(t.propertiesTypes[b])}return h}_newPacket(){return r("_newPacket"),this.packet&&(this._list.consume(this.packet.length),r("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),r("_newPacket: new packet"),this.packet=new l,this._pos=0,!0}_emitError(i){r("_emitError",i),this.error=i,this.emit("error",i)}};p.exports=n}),Fl=ge((c,p)=>{ue(),fe(),ce();var{Buffer:s}=(Be(),Pe(Ne)),o=65536,l={},t=s.isBuffer(s.from([1,2]).subarray(0,1));function r(a){let h=s.allocUnsafe(2);return h.writeUInt8(a>>8,0),h.writeUInt8(a&255,1),h}function n(){for(let a=0;a<o;a++)l[a]=r(a)}function e(a){let h=0,d=0,b=s.allocUnsafe(4);do h=a%128|0,a=a/128|0,a>0&&(h=h|128),b.writeUInt8(h,d++);while(a>0&&d<4);return a>0&&(d=0),t?b.subarray(0,d):b.slice(0,d)}function i(a){let h=s.allocUnsafe(4);return h.writeUInt32BE(a,0),h}p.exports={cache:l,generateCache:n,generateNumber:r,genBufVariableByteInt:e,generate4ByteBuffer:i}}),Wl=ge((c,p)=>{ue(),fe(),ce(),typeof Re>"u"||!Re.version||Re.version.indexOf("v0.")===0||Re.version.indexOf("v1.")===0&&Re.version.indexOf("v1.8.")!==0?p.exports={nextTick:s}:p.exports=Re;function s(o,l,t,r){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,e,i;switch(n){case 0:case 1:return Re.nextTick(o);case 2:return Re.nextTick(function(){o.call(null,l)});case 3:return Re.nextTick(function(){o.call(null,l,t)});case 4:return Re.nextTick(function(){o.call(null,l,t,r)});default:for(e=new Array(n-1),i=0;i<e.length;)e[i++]=arguments[i];return Re.nextTick(function(){o.apply(null,e)})}}}),ua=ge((c,p)=>{ue(),fe(),ce();var s=la(),{Buffer:o}=(Be(),Pe(Ne)),l=o.allocUnsafe(0),t=o.from([0]),r=Fl(),n=Wl().nextTick,e=ut()("mqtt-packet:writeToStream"),i=r.cache,a=r.generateNumber,h=r.generateCache,d=r.genBufVariableByteInt,b=r.generate4ByteBuffer,f=F,y=!0;function m(V,N,ne){switch(e("generate called"),N.cork&&(N.cork(),n(S,N)),y&&(y=!1,h()),e("generate: packet.cmd: %s",V.cmd),V.cmd){case"connect":return g(V,N);case"connack":return _(V,N,ne);case"publish":return I(V,N,ne);case"puback":case"pubrec":case"pubrel":case"pubcomp":return v(V,N,ne);case"subscribe":return A(V,N,ne);case"suback":return E(V,N,ne);case"unsubscribe":return T(V,N,ne);case"unsuback":return M(V,N,ne);case"pingreq":case"pingresp":return C(V,N);case"disconnect":return q(V,N,ne);case"auth":return k(V,N,ne);default:return N.destroy(new Error("Unknown command")),!1}}Object.defineProperty(m,"cacheNumbers",{get(){return f===F},set(V){V?((!i||Object.keys(i).length===0)&&(y=!0),f=F):(y=!1,f=D)}});function S(V){V.uncork()}function g(V,N,ne){let G=V||{},Q=G.protocolId||"MQTT",J=G.protocolVersion||4,be=G.will,se=G.clean,U=G.keepalive||0,z=G.clientId||"",re=G.username,pe=G.password,de=G.properties;se===void 0&&(se=!0);let me=0;if(typeof Q!="string"&&!o.isBuffer(Q))return N.destroy(new Error("Invalid protocolId")),!1;if(me+=Q.length+2,J!==3&&J!==4&&J!==5)return N.destroy(new Error("Invalid protocol version")),!1;if(me+=1,(typeof z=="string"||o.isBuffer(z))&&(z||J>=4)&&(z||se))me+=o.byteLength(z)+2;else{if(J<4)return N.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(se*1===0)return N.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof U!="number"||U<0||U>65535||U%1!==0)return N.destroy(new Error("Invalid keepalive")),!1;me+=2,me+=1;let H,ye;if(J===5){if(H=X(N,de),!H)return!1;me+=H.length}if(be){if(typeof be!="object")return N.destroy(new Error("Invalid will")),!1;if(!be.topic||typeof be.topic!="string")return N.destroy(new Error("Invalid will topic")),!1;if(me+=o.byteLength(be.topic)+2,me+=2,be.payload)if(be.payload.length>=0)typeof be.payload=="string"?me+=o.byteLength(be.payload):me+=be.payload.length;else return N.destroy(new Error("Invalid will payload")),!1;if(ye={},J===5){if(ye=X(N,be.properties),!ye)return!1;me+=ye.length}}let we=!1;if(re!=null)if(ve(re))we=!0,me+=o.byteLength(re)+2;else return N.destroy(new Error("Invalid username")),!1;if(pe!=null){if(!we)return N.destroy(new Error("Username is required to use password")),!1;if(ve(pe))me+=te(pe)+2;else return N.destroy(new Error("Invalid password")),!1}N.write(s.CONNECT_HEADER),j(N,me),W(N,Q),G.bridgeMode&&(J+=128),N.write(J===131?s.VERSION131:J===132?s.VERSION132:J===4?s.VERSION4:J===5?s.VERSION5:s.VERSION3);let ae=0;return ae|=re!=null?s.USERNAME_MASK:0,ae|=pe!=null?s.PASSWORD_MASK:0,ae|=be&&be.retain?s.WILL_RETAIN_MASK:0,ae|=be&&be.qos?be.qos<<s.WILL_QOS_SHIFT:0,ae|=be?s.WILL_FLAG_MASK:0,ae|=se?s.CLEAN_SESSION_MASK:0,N.write(o.from([ae])),f(N,U),J===5&&H.write(),W(N,z),be&&(J===5&&ye.write(),B(N,be.topic),W(N,be.payload)),re!=null&&W(N,re),pe!=null&&W(N,pe),!0}function _(V,N,ne){let G=ne?ne.protocolVersion:4,Q=V||{},J=G===5?Q.reasonCode:Q.returnCode,be=Q.properties,se=2;if(typeof J!="number")return N.destroy(new Error("Invalid return code")),!1;let U=null;if(G===5){if(U=X(N,be),!U)return!1;se+=U.length}return N.write(s.CONNACK_HEADER),j(N,se),N.write(Q.sessionPresent?s.SESSIONPRESENT_HEADER:t),N.write(o.from([J])),U?.write(),!0}function I(V,N,ne){e("publish: packet: %o",V);let G=ne?ne.protocolVersion:4,Q=V||{},J=Q.qos||0,be=Q.retain?s.RETAIN_MASK:0,se=Q.topic,U=Q.payload||l,z=Q.messageId,re=Q.properties,pe=0;if(typeof se=="string")pe+=o.byteLength(se)+2;else if(o.isBuffer(se))pe+=se.length+2;else return N.destroy(new Error("Invalid topic")),!1;if(o.isBuffer(U)?pe+=U.length:pe+=o.byteLength(U),J&&typeof z!="number")return N.destroy(new Error("Invalid messageId")),!1;J&&(pe+=2);let de=null;if(G===5){if(de=X(N,re),!de)return!1;pe+=de.length}return N.write(s.PUBLISH_HEADER[J][Q.dup?1:0][be?1:0]),j(N,pe),f(N,te(se)),N.write(se),J>0&&f(N,z),de?.write(),e("publish: payload: %o",U),N.write(U)}function v(V,N,ne){let G=ne?ne.protocolVersion:4,Q=V||{},J=Q.cmd||"puback",be=Q.messageId,se=Q.dup&&J==="pubrel"?s.DUP_MASK:0,U=0,z=Q.reasonCode,re=Q.properties,pe=G===5?3:2;if(J==="pubrel"&&(U=1),typeof be!="number")return N.destroy(new Error("Invalid messageId")),!1;let de=null;if(G===5&&typeof re=="object"){if(de=R(N,re,ne,pe),!de)return!1;pe+=de.length}return N.write(s.ACKS[J][U][se][0]),pe===3&&(pe+=z!==0?1:-1),j(N,pe),f(N,be),G===5&&pe!==2&&N.write(o.from([z])),de!==null?de.write():pe===4&&N.write(o.from([0])),!0}function A(V,N,ne){e("subscribe: packet: ");let G=ne?ne.protocolVersion:4,Q=V||{},J=Q.dup?s.DUP_MASK:0,be=Q.messageId,se=Q.subscriptions,U=Q.properties,z=0;if(typeof be!="number")return N.destroy(new Error("Invalid messageId")),!1;z+=2;let re=null;if(G===5){if(re=X(N,U),!re)return!1;z+=re.length}if(typeof se=="object"&&se.length)for(let de=0;de<se.length;de+=1){let me=se[de].topic,H=se[de].qos;if(typeof me!="string")return N.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof H!="number")return N.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(G===5){if(typeof(se[de].nl||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(se[de].rap||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let ye=se[de].rh||0;if(typeof ye!="number"||ye>2)return N.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}z+=o.byteLength(me)+2+1}else return N.destroy(new Error("Invalid subscriptions")),!1;e("subscribe: writing to stream: %o",s.SUBSCRIBE_HEADER),N.write(s.SUBSCRIBE_HEADER[1][J?1:0][0]),j(N,z),f(N,be),re!==null&&re.write();let pe=!0;for(let de of se){let me=de.topic,H=de.qos,ye=+de.nl,we=+de.rap,ae=de.rh,Te;B(N,me),Te=s.SUBSCRIBE_OPTIONS_QOS[H],G===5&&(Te|=ye?s.SUBSCRIBE_OPTIONS_NL:0,Te|=we?s.SUBSCRIBE_OPTIONS_RAP:0,Te|=ae?s.SUBSCRIBE_OPTIONS_RH[ae]:0),pe=N.write(o.from([Te]))}return pe}function E(V,N,ne){let G=ne?ne.protocolVersion:4,Q=V||{},J=Q.messageId,be=Q.granted,se=Q.properties,U=0;if(typeof J!="number")return N.destroy(new Error("Invalid messageId")),!1;if(U+=2,typeof be=="object"&&be.length)for(let re=0;re<be.length;re+=1){if(typeof be[re]!="number")return N.destroy(new Error("Invalid qos vector")),!1;U+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let z=null;if(G===5){if(z=R(N,se,ne,U),!z)return!1;U+=z.length}return N.write(s.SUBACK_HEADER),j(N,U),f(N,J),z!==null&&z.write(),N.write(o.from(be))}function T(V,N,ne){let G=ne?ne.protocolVersion:4,Q=V||{},J=Q.messageId,be=Q.dup?s.DUP_MASK:0,se=Q.unsubscriptions,U=Q.properties,z=0;if(typeof J!="number")return N.destroy(new Error("Invalid messageId")),!1;if(z+=2,typeof se=="object"&&se.length)for(let de=0;de<se.length;de+=1){if(typeof se[de]!="string")return N.destroy(new Error("Invalid unsubscriptions")),!1;z+=o.byteLength(se[de])+2}else return N.destroy(new Error("Invalid unsubscriptions")),!1;let re=null;if(G===5){if(re=X(N,U),!re)return!1;z+=re.length}N.write(s.UNSUBSCRIBE_HEADER[1][be?1:0][0]),j(N,z),f(N,J),re!==null&&re.write();let pe=!0;for(let de=0;de<se.length;de++)pe=B(N,se[de]);return pe}function M(V,N,ne){let G=ne?ne.protocolVersion:4,Q=V||{},J=Q.messageId,be=Q.dup?s.DUP_MASK:0,se=Q.granted,U=Q.properties,z=Q.cmd,re=0,pe=2;if(typeof J!="number")return N.destroy(new Error("Invalid messageId")),!1;if(G===5)if(typeof se=="object"&&se.length)for(let me=0;me<se.length;me+=1){if(typeof se[me]!="number")return N.destroy(new Error("Invalid qos vector")),!1;pe+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let de=null;if(G===5){if(de=R(N,U,ne,pe),!de)return!1;pe+=de.length}return N.write(s.ACKS[z][re][be][0]),j(N,pe),f(N,J),de!==null&&de.write(),G===5&&N.write(o.from(se)),!0}function C(V,N,ne){return N.write(s.EMPTY[V.cmd])}function q(V,N,ne){let G=ne?ne.protocolVersion:4,Q=V||{},J=Q.reasonCode,be=Q.properties,se=G===5?1:0,U=null;if(G===5){if(U=R(N,be,ne,se),!U)return!1;se+=U.length}return N.write(o.from([s.codes.disconnect<<4])),j(N,se),G===5&&N.write(o.from([J])),U!==null&&U.write(),!0}function k(V,N,ne){let G=ne?ne.protocolVersion:4,Q=V||{},J=Q.reasonCode,be=Q.properties,se=G===5?1:0;G!==5&&N.destroy(new Error("Invalid mqtt version for auth packet"));let U=R(N,be,ne,se);return U?(se+=U.length,N.write(o.from([s.codes.auth<<4])),j(N,se),N.write(o.from([J])),U!==null&&U.write(),!0):!1}var P={};function j(V,N){if(N>s.VARBYTEINT_MAX)return V.destroy(new Error(`Invalid variable byte integer: ${N}`)),!1;let ne=P[N];return ne||(ne=d(N),N<16384&&(P[N]=ne)),e("writeVarByteInt: writing to stream: %o",ne),V.write(ne)}function B(V,N){let ne=o.byteLength(N);return f(V,ne),e("writeString: %s",N),V.write(N,"utf8")}function ie(V,N,ne){B(V,N),B(V,ne)}function F(V,N){return e("writeNumberCached: number: %d",N),e("writeNumberCached: %o",i[N]),V.write(i[N])}function D(V,N){let ne=a(N);return e("writeNumberGenerated: %o",ne),V.write(ne)}function ee(V,N){let ne=b(N);return e("write4ByteNumber: %o",ne),V.write(ne)}function W(V,N){typeof N=="string"?B(V,N):N?(f(V,N.length),V.write(N)):f(V,0)}function X(V,N){if(typeof N!="object"||N.length!=null)return{length:1,write(){le(V,{},0)}};let ne=0;function G(Q,J){let be=s.propertiesTypes[Q],se=0;switch(be){case"byte":{if(typeof J!="boolean")return V.destroy(new Error(`Invalid ${Q}: ${J}`)),!1;se+=2;break}case"int8":{if(typeof J!="number"||J<0||J>255)return V.destroy(new Error(`Invalid ${Q}: ${J}`)),!1;se+=2;break}case"binary":{if(J&&J===null)return V.destroy(new Error(`Invalid ${Q}: ${J}`)),!1;se+=1+o.byteLength(J)+2;break}case"int16":{if(typeof J!="number"||J<0||J>65535)return V.destroy(new Error(`Invalid ${Q}: ${J}`)),!1;se+=3;break}case"int32":{if(typeof J!="number"||J<0||J>4294967295)return V.destroy(new Error(`Invalid ${Q}: ${J}`)),!1;se+=5;break}case"var":{if(typeof J!="number"||J<0||J>268435455)return V.destroy(new Error(`Invalid ${Q}: ${J}`)),!1;se+=1+o.byteLength(d(J));break}case"string":{if(typeof J!="string")return V.destroy(new Error(`Invalid ${Q}: ${J}`)),!1;se+=3+o.byteLength(J.toString());break}case"pair":{if(typeof J!="object")return V.destroy(new Error(`Invalid ${Q}: ${J}`)),!1;se+=Object.getOwnPropertyNames(J).reduce((U,z)=>{let re=J[z];return Array.isArray(re)?U+=re.reduce((pe,de)=>(pe+=3+o.byteLength(z.toString())+2+o.byteLength(de.toString()),pe),0):U+=3+o.byteLength(z.toString())+2+o.byteLength(J[z].toString()),U},0);break}default:return V.destroy(new Error(`Invalid property ${Q}: ${J}`)),!1}return se}if(N)for(let Q in N){let J=0,be=0,se=N[Q];if(se!==void 0){if(Array.isArray(se))for(let U=0;U<se.length;U++){if(be=G(Q,se[U]),!be)return!1;J+=be}else{if(be=G(Q,se),!be)return!1;J=be}if(!J)return!1;ne+=J}}return{length:o.byteLength(d(ne))+ne,write(){le(V,N,ne)}}}function R(V,N,ne,G){let Q=["reasonString","userProperties"],J=ne&&ne.properties&&ne.properties.maximumPacketSize?ne.properties.maximumPacketSize:0,be=X(V,N);if(J)for(;G+be.length>J;){let se=Q.shift();if(se&&N[se])delete N[se],be=X(V,N);else return!1}return be}function K(V,N,ne){switch(s.propertiesTypes[N]){case"byte":{V.write(o.from([s.properties[N]])),V.write(o.from([+ne]));break}case"int8":{V.write(o.from([s.properties[N]])),V.write(o.from([ne]));break}case"binary":{V.write(o.from([s.properties[N]])),W(V,ne);break}case"int16":{V.write(o.from([s.properties[N]])),f(V,ne);break}case"int32":{V.write(o.from([s.properties[N]])),ee(V,ne);break}case"var":{V.write(o.from([s.properties[N]])),j(V,ne);break}case"string":{V.write(o.from([s.properties[N]])),B(V,ne);break}case"pair":{Object.getOwnPropertyNames(ne).forEach(G=>{let Q=ne[G];Array.isArray(Q)?Q.forEach(J=>{V.write(o.from([s.properties[N]])),ie(V,G.toString(),J.toString())}):(V.write(o.from([s.properties[N]])),ie(V,G.toString(),Q.toString()))});break}default:return V.destroy(new Error(`Invalid property ${N} value: ${ne}`)),!1}}function le(V,N,ne){j(V,ne);for(let G in N)if(Object.prototype.hasOwnProperty.call(N,G)&&N[G]!=null){let Q=N[G];if(Array.isArray(Q))for(let J=0;J<Q.length;J++)K(V,G,Q[J]);else K(V,G,Q)}}function te(V){return V?V instanceof o?V.length:o.byteLength(V):0}function ve(V){return typeof V=="string"||V instanceof o}p.exports=m}),ql=ge((c,p)=>{ue(),fe(),ce();var s=ua(),{EventEmitter:o}=(Tt(),Pe(mt)),{Buffer:l}=(Be(),Pe(Ne));function t(n,e){let i=new r;return s(n,i,e),i.concat()}var r=class extends o{constructor(){super(),this._array=new Array(20),this._i=0}write(n){return this._array[this._i++]=n,!0}concat(){let n=0,e=new Array(this._array.length),i=this._array,a=0,h;for(h=0;h<i.length&&i[h]!==void 0;h++)typeof i[h]!="string"?e[h]=i[h].length:e[h]=l.byteLength(i[h]),n+=e[h];let d=l.allocUnsafe(n);for(h=0;h<i.length&&i[h]!==void 0;h++)typeof i[h]!="string"?(i[h].copy(d,a),a+=e[h]):(d.write(i[h],a),a+=e[h]);return d}destroy(n){n&&this.emit("error",n)}};p.exports=t}),$l=ge(c=>{ue(),fe(),ce(),c.parser=Dl().parser,c.generate=ql(),c.writeToStream=ua()}),zl=ge((c,p)=>{ue(),fe(),ce(),p.exports=o;function s(t){return t instanceof $r?$r.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function o(t){if(t=t||{},t.circles)return l(t);let r=new Map;if(r.set(Date,h=>new Date(h)),r.set(Map,(h,d)=>new Map(e(Array.from(h),d))),r.set(Set,(h,d)=>new Set(e(Array.from(h),d))),t.constructorHandlers)for(let h of t.constructorHandlers)r.set(h[0],h[1]);let n=null;return t.proto?a:i;function e(h,d){let b=Object.keys(h),f=new Array(b.length);for(let y=0;y<b.length;y++){let m=b[y],S=h[m];typeof S!="object"||S===null?f[m]=S:S.constructor!==Object&&(n=r.get(S.constructor))?f[m]=n(S,d):ArrayBuffer.isView(S)?f[m]=s(S):f[m]=d(S)}return f}function i(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return e(h,i);if(h.constructor!==Object&&(n=r.get(h.constructor)))return n(h,i);let d={};for(let b in h){if(Object.hasOwnProperty.call(h,b)===!1)continue;let f=h[b];typeof f!="object"||f===null?d[b]=f:f.constructor!==Object&&(n=r.get(f.constructor))?d[b]=n(f,i):ArrayBuffer.isView(f)?d[b]=s(f):d[b]=i(f)}return d}function a(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return e(h,a);if(h.constructor!==Object&&(n=r.get(h.constructor)))return n(h,a);let d={};for(let b in h){let f=h[b];typeof f!="object"||f===null?d[b]=f:f.constructor!==Object&&(n=r.get(f.constructor))?d[b]=n(f,a):ArrayBuffer.isView(f)?d[b]=s(f):d[b]=a(f)}return d}}function l(t){let r=[],n=[],e=new Map;if(e.set(Date,b=>new Date(b)),e.set(Map,(b,f)=>new Map(a(Array.from(b),f))),e.set(Set,(b,f)=>new Set(a(Array.from(b),f))),t.constructorHandlers)for(let b of t.constructorHandlers)e.set(b[0],b[1]);let i=null;return t.proto?d:h;function a(b,f){let y=Object.keys(b),m=new Array(y.length);for(let S=0;S<y.length;S++){let g=y[S],_=b[g];if(typeof _!="object"||_===null)m[g]=_;else if(_.constructor!==Object&&(i=e.get(_.constructor)))m[g]=i(_,f);else if(ArrayBuffer.isView(_))m[g]=s(_);else{let I=r.indexOf(_);I!==-1?m[g]=n[I]:m[g]=f(_)}}return m}function h(b){if(typeof b!="object"||b===null)return b;if(Array.isArray(b))return a(b,h);if(b.constructor!==Object&&(i=e.get(b.constructor)))return i(b,h);let f={};r.push(b),n.push(f);for(let y in b){if(Object.hasOwnProperty.call(b,y)===!1)continue;let m=b[y];if(typeof m!="object"||m===null)f[y]=m;else if(m.constructor!==Object&&(i=e.get(m.constructor)))f[y]=i(m,h);else if(ArrayBuffer.isView(m))f[y]=s(m);else{let S=r.indexOf(m);S!==-1?f[y]=n[S]:f[y]=h(m)}}return r.pop(),n.pop(),f}function d(b){if(typeof b!="object"||b===null)return b;if(Array.isArray(b))return a(b,d);if(b.constructor!==Object&&(i=e.get(b.constructor)))return i(b,d);let f={};r.push(b),n.push(f);for(let y in b){let m=b[y];if(typeof m!="object"||m===null)f[y]=m;else if(m.constructor!==Object&&(i=e.get(m.constructor)))f[y]=i(m,d);else if(ArrayBuffer.isView(m))f[y]=s(m);else{let S=r.indexOf(m);S!==-1?f[y]=n[S]:f[y]=d(m)}}return r.pop(),n.pop(),f}}}),Hl=ge((c,p)=>{ue(),fe(),ce(),p.exports=zl()()}),Kl=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0}),c.validateTopic=p,c.validateTopics=s;function p(o){let l=o.split("/");for(let t=0;t<l.length;t++)if(l[t]!=="+"){if(l[t]==="#")return t===l.length-1;if(l[t].indexOf("+")!==-1||l[t].indexOf("#")!==-1)return!1}return!0}function s(o){if(o.length===0)return"empty_topic_list";for(let l=0;l<o.length;l++)if(!p(o[l]))return o[l];return null}}),ca=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=Pt(),s={objectMode:!0},o={clean:!0},l=class{options;_inflights;constructor(t){this.options=t||{},this.options={...o,...t},this._inflights=new Map}put(t,r){return this._inflights.set(t.messageId,t),r&&r(),this}createStream(){let t=new p.Readable(s),r=[],n=!1,e=0;return this._inflights.forEach((i,a)=>{r.push(i)}),t._read=()=>{!n&&e<r.length?t.push(r[e++]):t.push(null)},t.destroy=i=>{if(!n)return n=!0,setTimeout(()=>{t.emit("close")},0),t},t}del(t,r){let n=this._inflights.get(t.messageId);return n?(this._inflights.delete(t.messageId),r(null,n)):r&&r(new Error("missing packet")),this}get(t,r){let n=this._inflights.get(t.messageId);return n?r(null,n):r&&r(new Error("missing packet")),this}close(t){this.options.clean&&(this._inflights=null),t&&t()}};c.default=l}),Vl=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=[0,16,128,131,135,144,145,151,153],s=(o,l,t)=>{o.log("handlePublish: packet %o",l),t=typeof t<"u"?t:o.noop;let r=l.topic.toString(),n=l.payload,{qos:e}=l,{messageId:i}=l,{options:a}=o;if(o.options.protocolVersion===5){let h;if(l.properties&&(h=l.properties.topicAlias),typeof h<"u")if(r.length===0)if(h>0&&h<=65535){let d=o.topicAliasRecv.getTopicByAlias(h);if(d)r=d,o.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,h);else{o.log("handlePublish :: unregistered topic alias. alias: %d",h),o.emit("error",new Error("Received unregistered Topic Alias"));return}}else{o.log("handlePublish :: topic alias out of range. alias: %d",h),o.emit("error",new Error("Received Topic Alias is out of range"));return}else if(o.topicAliasRecv.put(r,h))o.log("handlePublish :: registered topic: %s - alias: %d",r,h);else{o.log("handlePublish :: topic alias out of range. alias: %d",h),o.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(o.log("handlePublish: qos %d",e),e){case 2:{a.customHandleAcks(r,n,l,(h,d)=>{if(typeof h=="number"&&(d=h,h=null),h)return o.emit("error",h);if(p.indexOf(d)===-1)return o.emit("error",new Error("Wrong reason code for pubrec"));d?o._sendPacket({cmd:"pubrec",messageId:i,reasonCode:d},t):o.incomingStore.put(l,()=>{o._sendPacket({cmd:"pubrec",messageId:i},t)})});break}case 1:{a.customHandleAcks(r,n,l,(h,d)=>{if(typeof h=="number"&&(d=h,h=null),h)return o.emit("error",h);if(p.indexOf(d)===-1)return o.emit("error",new Error("Wrong reason code for puback"));d||o.emit("message",r,n,l),o.handleMessage(l,b=>{if(b)return t&&t(b);o._sendPacket({cmd:"puback",messageId:i,reasonCode:d},t)})});break}case 0:o.emit("message",r,n,l),o.handleMessage(l,t);break;default:o.log("handlePublish: unknown QoS. Doing nothing.");break}};c.default=s}),Gl=ge((c,p)=>{p.exports={version:"5.14.1"}}),qt=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0}),c.MQTTJS_VERSION=c.nextTick=c.ErrorWithSubackPacket=c.ErrorWithReasonCode=void 0,c.applyMixin=o;var p=class fa extends Error{code;constructor(t,r){super(t),this.code=r,Object.setPrototypeOf(this,fa.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};c.ErrorWithReasonCode=p;var s=class ha extends Error{packet;constructor(t,r){super(t),this.packet=r,Object.setPrototypeOf(this,ha.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};c.ErrorWithSubackPacket=s;function o(l,t,r=!1){let n=[t];for(;;){let e=n[0],i=Object.getPrototypeOf(e);if(i?.prototype)n.unshift(i);else break}for(let e of n)for(let i of Object.getOwnPropertyNames(e.prototype))(r||i!=="constructor")&&Object.defineProperty(l.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)??Object.create(null))}c.nextTick=typeof Re?.nextTick=="function"?Re.nextTick:l=>{setTimeout(l,0)},c.MQTTJS_VERSION=Gl().version}),Qr=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0}),c.ReasonCodes=void 0;var p=qt();c.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var s=(o,l)=>{let{messageId:t}=l,r=l.cmd,n=null,e=o.outgoing[t]?o.outgoing[t].cb:null,i=null;if(!e){o.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(o.log("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{let a=l.reasonCode;a&&a>0&&a!==16?(i=new p.ErrorWithReasonCode(`Publish error: ${c.ReasonCodes[a]}`,a),o._removeOutgoingAndStoreMessage(t,()=>{e(i,l)})):o._removeOutgoingAndStoreMessage(t,e);break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:t};let a=l.reasonCode;a&&a>0&&a!==16?(i=new p.ErrorWithReasonCode(`Publish error: ${c.ReasonCodes[a]}`,a),o._removeOutgoingAndStoreMessage(t,()=>{e(i,l)})):o._sendPacket(n);break}case"suback":{delete o.outgoing[t],o.messageIdProvider.deallocate(t);let a=l.granted;for(let h=0;h<a.length;h++){let d=a[h];if((d&128)!==0){i=new Error(`Subscribe error: ${c.ReasonCodes[d]}`),i.code=d;let b=o.messageIdToTopic[t];b&&b.forEach(f=>{delete o._resubscribeTopics[f]})}}delete o.messageIdToTopic[t],o._invokeStoreProcessingQueue(),e(i,l);break}case"unsuback":{delete o.outgoing[t],o.messageIdProvider.deallocate(t),o._invokeStoreProcessingQueue(),e(null,l);break}default:o.emit("error",new Error("unrecognized packet type"))}o.disconnecting&&Object.keys(o.outgoing).length===0&&o.emit("outgoingEmpty")};c.default=s}),Ql=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=qt(),s=Qr(),o=(l,t)=>{let{options:r}=l,n=r.protocolVersion,e=n===5?t.reasonCode:t.returnCode;if(n!==5){let i=new p.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${n}`,e);l.emit("error",i);return}l.handleAuth(t,(i,a)=>{if(i){l.emit("error",i);return}if(e===24)l.reconnecting=!1,l._sendPacket(a);else{let h=new p.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[e]}`,e);l.emit("error",h)}})};c.default=o}),Yl=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0}),c.LRUCache=void 0;var p=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,s=new Set,o=typeof Re=="object"&&Re?Re:{},l=(b,f,y,m)=>{typeof o.emitWarning=="function"?o.emitWarning(b,f,y,m):console.error(`[${y}] ${f}: ${b}`)},t=globalThis.AbortController,r=globalThis.AbortSignal;if(typeof t>"u"){r=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(y,m){this._onabort.push(m)}},t=class{constructor(){f()}signal=new r;abort(y){if(!this.signal.aborted){this.signal.reason=y,this.signal.aborted=!0;for(let m of this.signal._onabort)m(y);this.signal.onabort?.(y)}}};let b=o.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",f=()=>{b&&(b=!1,l("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",f))}}var n=b=>!s.has(b),e=b=>b&&b===Math.floor(b)&&b>0&&isFinite(b),i=b=>e(b)?b<=Math.pow(2,8)?Uint8Array:b<=Math.pow(2,16)?Uint16Array:b<=Math.pow(2,32)?Uint32Array:b<=Number.MAX_SAFE_INTEGER?a:null:null,a=class extends Array{constructor(b){super(b),this.fill(0)}},h=class Jt{heap;length;static#l=!1;static create(f){let y=i(f);if(!y)return[];Jt.#l=!0;let m=new Jt(f,y);return Jt.#l=!1,m}constructor(f,y){if(!Jt.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new y(f),this.length=0}push(f){this.heap[this.length++]=f}pop(){return this.heap[--this.length]}},d=class pa{#l;#f;#g;#y;#P;#R;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#b;#n;#r;#e;#u;#h;#a;#o;#m;#s;#v;#w;#p;#_;#x;#c;static unsafeExposeInternals(f){return{starts:f.#w,ttls:f.#p,sizes:f.#v,keyMap:f.#n,keyList:f.#r,valList:f.#e,next:f.#u,prev:f.#h,get head(){return f.#a},get tail(){return f.#o},free:f.#m,isBackgroundFetch:y=>f.#t(y),backgroundFetch:(y,m,S,g)=>f.#j(y,m,S,g),moveToTail:y=>f.#O(y),indexes:y=>f.#S(y),rindexes:y=>f.#E(y),isStale:y=>f.#d(y)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#b}get size(){return this.#i}get fetchMethod(){return this.#P}get memoMethod(){return this.#R}get dispose(){return this.#g}get disposeAfter(){return this.#y}constructor(f){let{max:y=0,ttl:m,ttlResolution:S=1,ttlAutopurge:g,updateAgeOnGet:_,updateAgeOnHas:I,allowStale:v,dispose:A,disposeAfter:E,noDisposeOnSet:T,noUpdateTTL:M,maxSize:C=0,maxEntrySize:q=0,sizeCalculation:k,fetchMethod:P,memoMethod:j,noDeleteOnFetchRejection:B,noDeleteOnStaleGet:ie,allowStaleOnFetchRejection:F,allowStaleOnFetchAbort:D,ignoreFetchAbort:ee}=f;if(y!==0&&!e(y))throw new TypeError("max option must be a nonnegative integer");let W=y?i(y):Array;if(!W)throw new Error("invalid max value: "+y);if(this.#l=y,this.#f=C,this.maxEntrySize=q||this.#f,this.sizeCalculation=k,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(j!==void 0&&typeof j!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#R=j,P!==void 0&&typeof P!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#P=P,this.#x=!!P,this.#n=new Map,this.#r=new Array(y).fill(void 0),this.#e=new Array(y).fill(void 0),this.#u=new W(y),this.#h=new W(y),this.#a=0,this.#o=0,this.#m=h.create(y),this.#i=0,this.#b=0,typeof A=="function"&&(this.#g=A),typeof E=="function"?(this.#y=E,this.#s=[]):(this.#y=void 0,this.#s=void 0),this.#_=!!this.#g,this.#c=!!this.#y,this.noDisposeOnSet=!!T,this.noUpdateTTL=!!M,this.noDeleteOnFetchRejection=!!B,this.allowStaleOnFetchRejection=!!F,this.allowStaleOnFetchAbort=!!D,this.ignoreFetchAbort=!!ee,this.maxEntrySize!==0){if(this.#f!==0&&!e(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!e(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#W()}if(this.allowStale=!!v,this.noDeleteOnStaleGet=!!ie,this.updateAgeOnGet=!!_,this.updateAgeOnHas=!!I,this.ttlResolution=e(S)||S===0?S:1,this.ttlAutopurge=!!g,this.ttl=m||0,this.ttl){if(!e(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N()}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){let X="LRU_CACHE_UNBOUNDED";n(X)&&(s.add(X),l("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",X,pa))}}getRemainingTTL(f){return this.#n.has(f)?1/0:0}#N(){let f=new a(this.#l),y=new a(this.#l);this.#p=f,this.#w=y,this.#B=(g,_,I=p.now())=>{if(y[g]=_!==0?I:0,f[g]=_,_!==0&&this.ttlAutopurge){let v=setTimeout(()=>{this.#d(g)&&this.#A(this.#r[g],"expire")},_+1);v.unref&&v.unref()}},this.#k=g=>{y[g]=f[g]!==0?p.now():0},this.#I=(g,_)=>{if(f[_]){let I=f[_],v=y[_];if(!I||!v)return;g.ttl=I,g.start=v,g.now=m||S();let A=g.now-v;g.remainingTTL=I-A}};let m=0,S=()=>{let g=p.now();if(this.ttlResolution>0){m=g;let _=setTimeout(()=>m=0,this.ttlResolution);_.unref&&_.unref()}return g};this.getRemainingTTL=g=>{let _=this.#n.get(g);if(_===void 0)return 0;let I=f[_],v=y[_];if(!I||!v)return 1/0;let A=(m||S())-v;return I-A},this.#d=g=>{let _=y[g],I=f[g];return!!I&&!!_&&(m||S())-_>I}}#k=()=>{};#I=()=>{};#B=()=>{};#d=()=>!1;#W(){let f=new a(this.#l);this.#b=0,this.#v=f,this.#T=y=>{this.#b-=f[y],f[y]=0},this.#U=(y,m,S,g)=>{if(this.#t(m))return 0;if(!e(S))if(g){if(typeof g!="function")throw new TypeError("sizeCalculation must be a function");if(S=g(m,y),!e(S))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return S},this.#C=(y,m,S)=>{if(f[y]=m,this.#f){let g=this.#f-f[y];for(;this.#b>g;)this.#M(!0)}this.#b+=f[y],S&&(S.entrySize=m,S.totalCalculatedSize=this.#b)}}#T=f=>{};#C=(f,y,m)=>{};#U=(f,y,m,S)=>{if(m||S)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:f=this.allowStale}={}){if(this.#i)for(let y=this.#o;!(!this.#L(y)||((f||!this.#d(y))&&(yield y),y===this.#a));)y=this.#h[y]}*#E({allowStale:f=this.allowStale}={}){if(this.#i)for(let y=this.#a;!(!this.#L(y)||((f||!this.#d(y))&&(yield y),y===this.#o));)y=this.#u[y]}#L(f){return f!==void 0&&this.#n.get(this.#r[f])===f}*entries(){for(let f of this.#S())this.#e[f]!==void 0&&this.#r[f]!==void 0&&!this.#t(this.#e[f])&&(yield[this.#r[f],this.#e[f]])}*rentries(){for(let f of this.#E())this.#e[f]!==void 0&&this.#r[f]!==void 0&&!this.#t(this.#e[f])&&(yield[this.#r[f],this.#e[f]])}*keys(){for(let f of this.#S()){let y=this.#r[f];y!==void 0&&!this.#t(this.#e[f])&&(yield y)}}*rkeys(){for(let f of this.#E()){let y=this.#r[f];y!==void 0&&!this.#t(this.#e[f])&&(yield y)}}*values(){for(let f of this.#S())this.#e[f]!==void 0&&!this.#t(this.#e[f])&&(yield this.#e[f])}*rvalues(){for(let f of this.#E())this.#e[f]!==void 0&&!this.#t(this.#e[f])&&(yield this.#e[f])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(f,y={}){for(let m of this.#S()){let S=this.#e[m],g=this.#t(S)?S.__staleWhileFetching:S;if(g!==void 0&&f(g,this.#r[m],this))return this.get(this.#r[m],y)}}forEach(f,y=this){for(let m of this.#S()){let S=this.#e[m],g=this.#t(S)?S.__staleWhileFetching:S;g!==void 0&&f.call(y,g,this.#r[m],this)}}rforEach(f,y=this){for(let m of this.#E()){let S=this.#e[m],g=this.#t(S)?S.__staleWhileFetching:S;g!==void 0&&f.call(y,g,this.#r[m],this)}}purgeStale(){let f=!1;for(let y of this.#E({allowStale:!0}))this.#d(y)&&(this.#A(this.#r[y],"expire"),f=!0);return f}info(f){let y=this.#n.get(f);if(y===void 0)return;let m=this.#e[y],S=this.#t(m)?m.__staleWhileFetching:m;if(S===void 0)return;let g={value:S};if(this.#p&&this.#w){let _=this.#p[y],I=this.#w[y];if(_&&I){let v=_-(p.now()-I);g.ttl=v,g.start=Date.now()}}return this.#v&&(g.size=this.#v[y]),g}dump(){let f=[];for(let y of this.#S({allowStale:!0})){let m=this.#r[y],S=this.#e[y],g=this.#t(S)?S.__staleWhileFetching:S;if(g===void 0||m===void 0)continue;let _={value:g};if(this.#p&&this.#w){_.ttl=this.#p[y];let I=p.now()-this.#w[y];_.start=Math.floor(Date.now()-I)}this.#v&&(_.size=this.#v[y]),f.unshift([m,_])}return f}load(f){this.clear();for(let[y,m]of f){if(m.start){let S=Date.now()-m.start;m.start=p.now()-S}this.set(y,m.value,m)}}set(f,y,m={}){if(y===void 0)return this.delete(f),this;let{ttl:S=this.ttl,start:g,noDisposeOnSet:_=this.noDisposeOnSet,sizeCalculation:I=this.sizeCalculation,status:v}=m,{noUpdateTTL:A=this.noUpdateTTL}=m,E=this.#U(f,y,m.size||0,I);if(this.maxEntrySize&&E>this.maxEntrySize)return v&&(v.set="miss",v.maxEntrySizeExceeded=!0),this.#A(f,"set"),this;let T=this.#i===0?void 0:this.#n.get(f);if(T===void 0)T=this.#i===0?this.#o:this.#m.length!==0?this.#m.pop():this.#i===this.#l?this.#M(!1):this.#i,this.#r[T]=f,this.#e[T]=y,this.#n.set(f,T),this.#u[this.#o]=T,this.#h[T]=this.#o,this.#o=T,this.#i++,this.#C(T,E,v),v&&(v.set="add"),A=!1;else{this.#O(T);let M=this.#e[T];if(y!==M){if(this.#x&&this.#t(M)){M.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:C}=M;C!==void 0&&!_&&(this.#_&&this.#g?.(C,f,"set"),this.#c&&this.#s?.push([C,f,"set"]))}else _||(this.#_&&this.#g?.(M,f,"set"),this.#c&&this.#s?.push([M,f,"set"]));if(this.#T(T),this.#C(T,E,v),this.#e[T]=y,v){v.set="replace";let C=M&&this.#t(M)?M.__staleWhileFetching:M;C!==void 0&&(v.oldValue=C)}}else v&&(v.set="update")}if(S!==0&&!this.#p&&this.#N(),this.#p&&(A||this.#B(T,S,g),v&&this.#I(v,T)),!_&&this.#c&&this.#s){let M=this.#s,C;for(;C=M?.shift();)this.#y?.(...C)}return this}pop(){try{for(;this.#i;){let f=this.#e[this.#a];if(this.#M(!0),this.#t(f)){if(f.__staleWhileFetching)return f.__staleWhileFetching}else if(f!==void 0)return f}}finally{if(this.#c&&this.#s){let f=this.#s,y;for(;y=f?.shift();)this.#y?.(...y)}}}#M(f){let y=this.#a,m=this.#r[y],S=this.#e[y];return this.#x&&this.#t(S)?S.__abortController.abort(new Error("evicted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(S,m,"evict"),this.#c&&this.#s?.push([S,m,"evict"])),this.#T(y),f&&(this.#r[y]=void 0,this.#e[y]=void 0,this.#m.push(y)),this.#i===1?(this.#a=this.#o=0,this.#m.length=0):this.#a=this.#u[y],this.#n.delete(m),this.#i--,y}has(f,y={}){let{updateAgeOnHas:m=this.updateAgeOnHas,status:S}=y,g=this.#n.get(f);if(g!==void 0){let _=this.#e[g];if(this.#t(_)&&_.__staleWhileFetching===void 0)return!1;if(this.#d(g))S&&(S.has="stale",this.#I(S,g));else return m&&this.#k(g),S&&(S.has="hit",this.#I(S,g)),!0}else S&&(S.has="miss");return!1}peek(f,y={}){let{allowStale:m=this.allowStale}=y,S=this.#n.get(f);if(S===void 0||!m&&this.#d(S))return;let g=this.#e[S];return this.#t(g)?g.__staleWhileFetching:g}#j(f,y,m,S){let g=y===void 0?void 0:this.#e[y];if(this.#t(g))return g;let _=new t,{signal:I}=m;I?.addEventListener("abort",()=>_.abort(I.reason),{signal:_.signal});let v={signal:_.signal,options:m,context:S},A=(k,P=!1)=>{let{aborted:j}=_.signal,B=m.ignoreFetchAbort&&k!==void 0;if(m.status&&(j&&!P?(m.status.fetchAborted=!0,m.status.fetchError=_.signal.reason,B&&(m.status.fetchAbortIgnored=!0)):m.status.fetchResolved=!0),j&&!B&&!P)return T(_.signal.reason);let ie=C;return this.#e[y]===C&&(k===void 0?ie.__staleWhileFetching?this.#e[y]=ie.__staleWhileFetching:this.#A(f,"fetch"):(m.status&&(m.status.fetchUpdated=!0),this.set(f,k,v.options))),k},E=k=>(m.status&&(m.status.fetchRejected=!0,m.status.fetchError=k),T(k)),T=k=>{let{aborted:P}=_.signal,j=P&&m.allowStaleOnFetchAbort,B=j||m.allowStaleOnFetchRejection,ie=B||m.noDeleteOnFetchRejection,F=C;if(this.#e[y]===C&&(!ie||F.__staleWhileFetching===void 0?this.#A(f,"fetch"):j||(this.#e[y]=F.__staleWhileFetching)),B)return m.status&&F.__staleWhileFetching!==void 0&&(m.status.returnedStale=!0),F.__staleWhileFetching;if(F.__returned===F)throw k},M=(k,P)=>{let j=this.#P?.(f,g,v);j&&j instanceof Promise&&j.then(B=>k(B===void 0?void 0:B),P),_.signal.addEventListener("abort",()=>{(!m.ignoreFetchAbort||m.allowStaleOnFetchAbort)&&(k(void 0),m.allowStaleOnFetchAbort&&(k=B=>A(B,!0)))})};m.status&&(m.status.fetchDispatched=!0);let C=new Promise(M).then(A,E),q=Object.assign(C,{__abortController:_,__staleWhileFetching:g,__returned:void 0});return y===void 0?(this.set(f,q,{...v.options,status:void 0}),y=this.#n.get(f)):this.#e[y]=q,q}#t(f){if(!this.#x)return!1;let y=f;return!!y&&y instanceof Promise&&y.hasOwnProperty("__staleWhileFetching")&&y.__abortController instanceof t}async fetch(f,y={}){let{allowStale:m=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:g=this.noDeleteOnStaleGet,ttl:_=this.ttl,noDisposeOnSet:I=this.noDisposeOnSet,size:v=0,sizeCalculation:A=this.sizeCalculation,noUpdateTTL:E=this.noUpdateTTL,noDeleteOnFetchRejection:T=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:M=this.allowStaleOnFetchRejection,ignoreFetchAbort:C=this.ignoreFetchAbort,allowStaleOnFetchAbort:q=this.allowStaleOnFetchAbort,context:k,forceRefresh:P=!1,status:j,signal:B}=y;if(!this.#x)return j&&(j.fetch="get"),this.get(f,{allowStale:m,updateAgeOnGet:S,noDeleteOnStaleGet:g,status:j});let ie={allowStale:m,updateAgeOnGet:S,noDeleteOnStaleGet:g,ttl:_,noDisposeOnSet:I,size:v,sizeCalculation:A,noUpdateTTL:E,noDeleteOnFetchRejection:T,allowStaleOnFetchRejection:M,allowStaleOnFetchAbort:q,ignoreFetchAbort:C,status:j,signal:B},F=this.#n.get(f);if(F===void 0){j&&(j.fetch="miss");let D=this.#j(f,F,ie,k);return D.__returned=D}else{let D=this.#e[F];if(this.#t(D)){let R=m&&D.__staleWhileFetching!==void 0;return j&&(j.fetch="inflight",R&&(j.returnedStale=!0)),R?D.__staleWhileFetching:D.__returned=D}let ee=this.#d(F);if(!P&&!ee)return j&&(j.fetch="hit"),this.#O(F),S&&this.#k(F),j&&this.#I(j,F),D;let W=this.#j(f,F,ie,k),X=W.__staleWhileFetching!==void 0&&m;return j&&(j.fetch=ee?"stale":"refresh",X&&ee&&(j.returnedStale=!0)),X?W.__staleWhileFetching:W.__returned=W}}async forceFetch(f,y={}){let m=await this.fetch(f,y);if(m===void 0)throw new Error("fetch() returned undefined");return m}memo(f,y={}){let m=this.#R;if(!m)throw new Error("no memoMethod provided to constructor");let{context:S,forceRefresh:g,..._}=y,I=this.get(f,_);if(!g&&I!==void 0)return I;let v=m(f,I,{options:_,context:S});return this.set(f,v,_),v}get(f,y={}){let{allowStale:m=this.allowStale,updateAgeOnGet:S=this.updateAgeOnGet,noDeleteOnStaleGet:g=this.noDeleteOnStaleGet,status:_}=y,I=this.#n.get(f);if(I!==void 0){let v=this.#e[I],A=this.#t(v);return _&&this.#I(_,I),this.#d(I)?(_&&(_.get="stale"),A?(_&&m&&v.__staleWhileFetching!==void 0&&(_.returnedStale=!0),m?v.__staleWhileFetching:void 0):(g||this.#A(f,"expire"),_&&m&&(_.returnedStale=!0),m?v:void 0)):(_&&(_.get="hit"),A?v.__staleWhileFetching:(this.#O(I),S&&this.#k(I),v))}else _&&(_.get="miss")}#D(f,y){this.#h[y]=f,this.#u[f]=y}#O(f){f!==this.#o&&(f===this.#a?this.#a=this.#u[f]:this.#D(this.#h[f],this.#u[f]),this.#D(this.#o,f),this.#o=f)}delete(f){return this.#A(f,"delete")}#A(f,y){let m=!1;if(this.#i!==0){let S=this.#n.get(f);if(S!==void 0)if(m=!0,this.#i===1)this.#F(y);else{this.#T(S);let g=this.#e[S];if(this.#t(g)?g.__abortController.abort(new Error("deleted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(g,f,y),this.#c&&this.#s?.push([g,f,y])),this.#n.delete(f),this.#r[S]=void 0,this.#e[S]=void 0,S===this.#o)this.#o=this.#h[S];else if(S===this.#a)this.#a=this.#u[S];else{let _=this.#h[S];this.#u[_]=this.#u[S];let I=this.#u[S];this.#h[I]=this.#h[S]}this.#i--,this.#m.push(S)}}if(this.#c&&this.#s?.length){let S=this.#s,g;for(;g=S?.shift();)this.#y?.(...g)}return m}clear(){return this.#F("delete")}#F(f){for(let y of this.#E({allowStale:!0})){let m=this.#e[y];if(this.#t(m))m.__abortController.abort(new Error("deleted"));else{let S=this.#r[y];this.#_&&this.#g?.(m,S,f),this.#c&&this.#s?.push([m,S,f])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#p&&this.#w&&(this.#p.fill(0),this.#w.fill(0)),this.#v&&this.#v.fill(0),this.#a=0,this.#o=0,this.#m.length=0,this.#b=0,this.#i=0,this.#c&&this.#s){let y=this.#s,m;for(;m=y?.shift();)this.#y?.(...m)}}};c.LRUCache=d}),ft=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.ContainerIterator=c.Container=c.Base=void 0;var p=class{constructor(l=0){this.iteratorType=l}equals(l){return this.o===l.o}};c.ContainerIterator=p;var s=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};c.Base=s;var o=class extends s{};c.Container=o}),Jl=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=ft(),s=class extends p.Base{constructor(l=[]){super(),this.S=[];let t=this;l.forEach(function(r){t.push(r)})}clear(){this.i=0,this.S=[]}push(l){return this.S.push(l),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},o=s;c.default=o}),Xl=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=ft(),s=class extends p.Base{constructor(l=[]){super(),this.j=0,this.q=[];let t=this;l.forEach(function(r){t.push(r)})}clear(){this.q=[],this.i=this.j=0}push(l){let t=this.q.length;if(this.j/t>.5&&this.j+this.i>=t&&t>4096){let r=this.i;for(let n=0;n<r;++n)this.q[n]=this.q[this.j+n];this.j=0,this.q[this.i]=l}else this.q[this.j+this.i]=l;return++this.i}pop(){if(this.i===0)return;let l=this.q[this.j++];return this.i-=1,l}front(){if(this.i!==0)return this.q[this.j]}},o=s;c.default=o}),Zl=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=ft(),s=class extends p.Base{constructor(l=[],t=function(n,e){return n>e?-1:n<e?1:0},r=!0){if(super(),this.v=t,Array.isArray(l))this.C=r?[...l]:l;else{this.C=[];let e=this;l.forEach(function(i){e.C.push(i)})}this.i=this.C.length;let n=this.i>>1;for(let e=this.i-1>>1;e>=0;--e)this.k(e,n)}m(l){let t=this.C[l];for(;l>0;){let r=l-1>>1,n=this.C[r];if(this.v(n,t)<=0)break;this.C[l]=n,l=r}this.C[l]=t}k(l,t){let r=this.C[l];for(;l<t;){let n=l<<1|1,e=n+1,i=this.C[n];if(e<this.i&&this.v(i,this.C[e])>0&&(n=e,i=this.C[e]),this.v(i,r)>=0)break;this.C[l]=i,l=n}this.C[l]=r}clear(){this.i=0,this.C.length=0}push(l){this.C.push(l),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let l=this.C[0],t=this.C.pop();return this.i-=1,this.i&&(this.C[0]=t,this.k(0,this.i>>1)),l}top(){return this.C[0]}find(l){return this.C.indexOf(l)>=0}remove(l){let t=this.C.indexOf(l);return t<0?!1:(t===0?this.pop():t===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(t,1,this.C.pop()),this.i-=1,this.m(t),this.k(t,this.i>>1)),!0)}updateItem(l){let t=this.C.indexOf(l);return t<0?!1:(this.m(t),this.k(t,this.i>>1),!0)}toArray(){return[...this.C]}},o=s;c.default=o}),uo=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=ft(),s=class extends p.Container{},o=s;c.default=o}),ht=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.throwIteratorAccessError=p;function p(){throw new RangeError("Iterator access denied!")}}),da=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.RandomIterator=void 0;var p=ft(),s=ht(),o=class extends p.ContainerIterator{constructor(l,t){super(t),this.o=l,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,s.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,s.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,s.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,s.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(l){this.container.setElementByPos(this.o,l)}};c.RandomIterator=o}),eu=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=o(uo()),s=da();function o(n){return n&&n.t?n:{default:n}}var l=class ga extends s.RandomIterator{constructor(e,i,a){super(e,a),this.container=i}copy(){return new ga(this.o,this.container,this.iteratorType)}},t=class extends p.default{constructor(n=[],e=!0){if(super(),Array.isArray(n))this.J=e?[...n]:n,this.i=n.length;else{this.J=[];let i=this;n.forEach(function(a){i.pushBack(a)})}}clear(){this.i=0,this.J.length=0}begin(){return new l(0,this)}end(){return new l(this.i,this)}rBegin(){return new l(this.i-1,this,1)}rEnd(){return new l(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J[n]}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J.splice(n,1),this.i-=1,this.i}eraseElementByValue(n){let e=0;for(let i=0;i<this.i;++i)this.J[i]!==n&&(this.J[e++]=this.J[i]);return this.i=this.J.length=e,this.i}eraseElementByIterator(n){let e=n.o;return n=n.next(),this.eraseElementByPos(e),n}pushBack(n){return this.J.push(n),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(n,e){if(n<0||n>this.i-1)throw new RangeError;this.J[n]=e}insert(n,e,i=1){if(n<0||n>this.i)throw new RangeError;return this.J.splice(n,0,...new Array(i).fill(e)),this.i+=i,this.i}find(n){for(let e=0;e<this.i;++e)if(this.J[e]===n)return new l(e,this);return this.end()}reverse(){this.J.reverse()}unique(){let n=1;for(let e=1;e<this.i;++e)this.J[e]!==this.J[e-1]&&(this.J[n++]=this.J[e]);return this.i=this.J.length=n,this.i}sort(n){this.J.sort(n)}forEach(n){for(let e=0;e<this.i;++e)n(this.J[e],e,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},r=t;c.default=r}),tu=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=l(uo()),s=ft(),o=ht();function l(e){return e&&e.t?e:{default:e}}var t=class ya extends s.ContainerIterator{constructor(i,a,h,d){super(d),this.o=i,this.h=a,this.container=h,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o.l}set pointer(i){this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o.l=i}copy(){return new ya(this.o,this.h,this.container,this.iteratorType)}},r=class extends p.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let i=this;e.forEach(function(a){i.pushBack(a)})}V(e){let{L:i,B:a}=e;i.B=a,a.L=i,e===this.p&&(this.p=a),e===this._&&(this._=i),this.i-=1}G(e,i){let a=i.B,h={l:e,L:i,B:a};i.B=h,a.L=h,i===this.h&&(this.p=h),a===this.h&&(this._=h),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new t(this.p,this.h,this)}end(){return new t(this.h,this.h,this)}rBegin(){return new t(this._,this.h,this,1)}rEnd(){return new t(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return i.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return this.V(i),this.i}eraseElementByValue(e){let i=this.p;for(;i!==this.h;)i.l===e&&this.V(i),i=i.B;return this.i}eraseElementByIterator(e){let i=e.o;return i===this.h&&(0,o.throwIteratorAccessError)(),e=e.next(),this.V(i),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(this.i===0)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(this.i===0)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,i){if(e<0||e>this.i-1)throw new RangeError;let a=this.p;for(;e--;)a=a.B;a.l=i}insert(e,i,a=1){if(e<0||e>this.i)throw new RangeError;if(a<=0)return this.i;if(e===0)for(;a--;)this.pushFront(i);else if(e===this.i)for(;a--;)this.pushBack(i);else{let h=this.p;for(let b=1;b<e;++b)h=h.B;let d=h.B;for(this.i+=a;a--;)h.B={l:i,L:h},h.B.L=h,h=h.B;h.B=d,d.L=h}return this.i}find(e){let i=this.p;for(;i!==this.h;){if(i.l===e)return new t(i,this.h,this);i=i.B}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,i=this._,a=0;for(;a<<1<this.i;){let h=e.l;e.l=i.l,i.l=h,e=e.B,i=i.L,a+=1}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let i=e;for(;i.B!==this.h&&i.l===i.B.l;)i=i.B,this.i-=1;e.B=i.B,e.B.L=e,e=e.B}return this.i}sort(e){if(this.i<=1)return;let i=[];this.forEach(function(h){i.push(h)}),i.sort(e);let a=this.p;i.forEach(function(h){a.l=h,a=a.B})}merge(e){let i=this;if(this.i===0)e.forEach(function(a){i.pushBack(a)});else{let a=this.p;e.forEach(function(h){for(;a!==i.h&&a.l<=h;)a=a.B;i.G(h,a.L)})}return this.i}forEach(e){let i=this.p,a=0;for(;i!==this.h;)e(i.l,a++,this),i=i.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}).bind(this)()}},n=r;c.default=n}),ru=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=o(uo()),s=da();function o(n){return n&&n.t?n:{default:n}}var l=class ba extends s.RandomIterator{constructor(e,i,a){super(e,a),this.container=i}copy(){return new ba(this.o,this.container,this.iteratorType)}},t=class extends p.default{constructor(n=[],e=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof n.length=="number")return n.length;if(typeof n.size=="number")return n.size;if(typeof n.size=="function")return n.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=e,this.P=Math.max(Math.ceil(i/this.F),1);for(let d=0;d<this.P;++d)this.A.push(new Array(this.F));let a=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(a>>1),this.D=this.N=this.F-i%this.F>>1;let h=this;n.forEach(function(d){h.pushBack(d)})}T(){let n=[],e=Math.max(this.P>>1,1);for(let i=0;i<e;++i)n[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)n[n.length]=this.A[i];for(let i=0;i<this.R;++i)n[n.length]=this.A[i];n[n.length]=[...this.A[this.R]],this.j=e,this.R=n.length-1;for(let i=0;i<e;++i)n[n.length]=new Array(this.F);this.A=n,this.P=n.length}O(n){let e=this.D+n+1,i=e%this.F,a=i-1,h=this.j+(e-i)/this.F;return i===0&&(h-=1),h%=this.P,a<0&&(a+=this.F),{curNodeBucketIndex:h,curNodePointerIndex:a}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new l(0,this)}end(){return new l(this.i,this)}rBegin(){return new l(this.i-1,this,1)}rEnd(){return new l(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(n){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=n,this.i}popBack(){if(this.i===0)return;let n=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,n}pushFront(n){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=n,this.i}popFront(){if(this.i===0)return;let n=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,n}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(n);return this.A[e][i]}setElementByPos(n,e){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:a}=this.O(n);this.A[i][a]=e}insert(n,e,i=1){if(n<0||n>this.i)throw new RangeError;if(n===0)for(;i--;)this.pushFront(e);else if(n===this.i)for(;i--;)this.pushBack(e);else{let a=[];for(let h=n;h<this.i;++h)a.push(this.getElementByPos(h));this.cut(n-1);for(let h=0;h<i;++h)this.pushBack(e);for(let h=0;h<a.length;++h)this.pushBack(a[h])}return this.i}cut(n){if(n<0)return this.clear(),0;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(n);return this.R=e,this.N=i,this.i=n+1,this.i}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;if(n===0)this.popFront();else if(n===this.i-1)this.popBack();else{let e=[];for(let a=n+1;a<this.i;++a)e.push(this.getElementByPos(a));this.cut(n),this.popBack();let i=this;e.forEach(function(a){i.pushBack(a)})}return this.i}eraseElementByValue(n){if(this.i===0)return 0;let e=[];for(let a=0;a<this.i;++a){let h=this.getElementByPos(a);h!==n&&e.push(h)}let i=e.length;for(let a=0;a<i;++a)this.setElementByPos(a,e[a]);return this.cut(i-1)}eraseElementByIterator(n){let e=n.o;return this.eraseElementByPos(e),n=n.next(),n}find(n){for(let e=0;e<this.i;++e)if(this.getElementByPos(e)===n)return new l(e,this);return this.end()}reverse(){let n=0,e=this.i-1;for(;n<e;){let i=this.getElementByPos(n);this.setElementByPos(n,this.getElementByPos(e)),this.setElementByPos(e,i),n+=1,e-=1}}unique(){if(this.i<=1)return this.i;let n=1,e=this.getElementByPos(0);for(let i=1;i<this.i;++i){let a=this.getElementByPos(i);a!==e&&(e=a,this.setElementByPos(n++,a))}for(;this.i>n;)this.popBack();return this.i}sort(n){let e=[];for(let i=0;i<this.i;++i)e.push(this.getElementByPos(i));e.sort(n);for(let i=0;i<this.i;++i)this.setElementByPos(i,e[i])}shrinkToFit(){if(this.i===0)return;let n=[];this.forEach(function(e){n.push(e)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));for(let e=0;e<n.length;++e)this.pushBack(n[e])}forEach(n){for(let e=0;e<this.i;++e)n(this.getElementByPos(e),e,this)}[Symbol.iterator](){return(function*(){for(let n=0;n<this.i;++n)yield this.getElementByPos(n)}).bind(this)()}},r=t;c.default=r}),nu=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.TreeNodeEnableIndex=c.TreeNode=void 0;var p=class{constructor(o,l){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=o,this.l=l}L(){let o=this;if(o.ee===1&&o.tt.tt===o)o=o.W;else if(o.U)for(o=o.U;o.W;)o=o.W;else{let l=o.tt;for(;l.U===o;)o=l,l=o.tt;o=l}return o}B(){let o=this;if(o.W){for(o=o.W;o.U;)o=o.U;return o}else{let l=o.tt;for(;l.W===o;)o=l,l=o.tt;return o.W!==l?l:o}}te(){let o=this.tt,l=this.W,t=l.U;return o.tt===this?o.tt=l:o.U===this?o.U=l:o.W=l,l.tt=o,l.U=this,this.tt=l,this.W=t,t&&(t.tt=this),l}se(){let o=this.tt,l=this.U,t=l.W;return o.tt===this?o.tt=l:o.U===this?o.U=l:o.W=l,l.tt=o,l.W=this,this.tt=l,this.U=t,t&&(t.tt=this),l}};c.TreeNode=p;var s=class extends p{constructor(){super(...arguments),this.rt=1}te(){let o=super.te();return this.ie(),o.ie(),o}se(){let o=super.se();return this.ie(),o.ie(),o}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};c.TreeNodeEnableIndex=s}),ma=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=nu(),s=ft(),o=ht(),l=class extends s.Container{constructor(r=function(e,i){return e<i?-1:e>i?1:0},n=!1){super(),this.Y=void 0,this.v=r,n?(this.re=p.TreeNodeEnableIndex,this.M=function(e,i,a){let h=this.ne(e,i,a);if(h){let d=h.tt;for(;d!==this.h;)d.rt+=1,d=d.tt;let b=this.he(h);if(b){let{parentNode:f,grandParent:y,curNode:m}=b;f.ie(),y.ie(),m.ie()}}return this.i},this.V=function(e){let i=this.fe(e);for(;i!==this.h;)i.rt-=1,i=i.tt}):(this.re=p.TreeNode,this.M=function(e,i,a){let h=this.ne(e,i,a);return h&&this.he(h),this.i},this.V=this.fe),this.h=new this.re}X(r,n){let e=this.h;for(;r;){let i=this.v(r.u,n);if(i<0)r=r.W;else if(i>0)e=r,r=r.U;else return r}return e}Z(r,n){let e=this.h;for(;r;)this.v(r.u,n)<=0?r=r.W:(e=r,r=r.U);return e}$(r,n){let e=this.h;for(;r;){let i=this.v(r.u,n);if(i<0)e=r,r=r.W;else if(i>0)r=r.U;else return r}return e}rr(r,n){let e=this.h;for(;r;)this.v(r.u,n)<0?(e=r,r=r.W):r=r.U;return e}ue(r){for(;;){let n=r.tt;if(n===this.h)return;if(r.ee===1){r.ee=0;return}if(r===n.U){let e=n.W;if(e.ee===1)e.ee=0,n.ee=1,n===this.Y?this.Y=n.te():n.te();else if(e.W&&e.W.ee===1){e.ee=n.ee,n.ee=0,e.W.ee=0,n===this.Y?this.Y=n.te():n.te();return}else e.U&&e.U.ee===1?(e.ee=1,e.U.ee=0,e.se()):(e.ee=1,r=n)}else{let e=n.U;if(e.ee===1)e.ee=0,n.ee=1,n===this.Y?this.Y=n.se():n.se();else if(e.U&&e.U.ee===1){e.ee=n.ee,n.ee=0,e.U.ee=0,n===this.Y?this.Y=n.se():n.se();return}else e.W&&e.W.ee===1?(e.ee=1,e.W.ee=0,e.te()):(e.ee=1,r=n)}}}fe(r){if(this.i===1)return this.clear(),this.h;let n=r;for(;n.U||n.W;){if(n.W)for(n=n.W;n.U;)n=n.U;else n=n.U;[r.u,n.u]=[n.u,r.u],[r.l,n.l]=[n.l,r.l],r=n}this.h.U===n?this.h.U=n.tt:this.h.W===n&&(this.h.W=n.tt),this.ue(n);let e=n.tt;return n===e.U?e.U=void 0:e.W=void 0,this.i-=1,this.Y.ee=0,e}oe(r,n){return r===void 0?!1:this.oe(r.U,n)||n(r)?!0:this.oe(r.W,n)}he(r){for(;;){let n=r.tt;if(n.ee===0)return;let e=n.tt;if(n===e.U){let i=e.W;if(i&&i.ee===1){if(i.ee=n.ee=0,e===this.Y)return;e.ee=1,r=e;continue}else if(r===n.W){if(r.ee=0,r.U&&(r.U.tt=n),r.W&&(r.W.tt=e),n.W=r.U,e.U=r.W,r.U=n,r.W=e,e===this.Y)this.Y=r,this.h.tt=r;else{let a=e.tt;a.U===e?a.U=r:a.W=r}return r.tt=e.tt,n.tt=r,e.tt=r,e.ee=1,{parentNode:n,grandParent:e,curNode:r}}else n.ee=0,e===this.Y?this.Y=e.se():e.se(),e.ee=1}else{let i=e.U;if(i&&i.ee===1){if(i.ee=n.ee=0,e===this.Y)return;e.ee=1,r=e;continue}else if(r===n.U){if(r.ee=0,r.U&&(r.U.tt=e),r.W&&(r.W.tt=n),e.W=r.U,n.U=r.W,r.U=e,r.W=n,e===this.Y)this.Y=r,this.h.tt=r;else{let a=e.tt;a.U===e?a.U=r:a.W=r}return r.tt=e.tt,n.tt=r,e.tt=r,e.ee=1,{parentNode:n,grandParent:e,curNode:r}}else n.ee=0,e===this.Y?this.Y=e.te():e.te(),e.ee=1}return}}ne(r,n,e){if(this.Y===void 0){this.i+=1,this.Y=new this.re(r,n),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let i,a=this.h.U,h=this.v(a.u,r);if(h===0){a.l=n;return}else if(h>0)a.U=new this.re(r,n),a.U.tt=a,i=a.U,this.h.U=i;else{let d=this.h.W,b=this.v(d.u,r);if(b===0){d.l=n;return}else if(b<0)d.W=new this.re(r,n),d.W.tt=d,i=d.W,this.h.W=i;else{if(e!==void 0){let f=e.o;if(f!==this.h){let y=this.v(f.u,r);if(y===0){f.l=n;return}else if(y>0){let m=f.L(),S=this.v(m.u,r);if(S===0){m.l=n;return}else S<0&&(i=new this.re(r,n),m.W===void 0?(m.W=i,i.tt=m):(f.U=i,i.tt=f))}}}if(i===void 0)for(i=this.Y;;){let f=this.v(i.u,r);if(f>0){if(i.U===void 0){i.U=new this.re(r,n),i.U.tt=i,i=i.U;break}i=i.U}else if(f<0){if(i.W===void 0){i.W=new this.re(r,n),i.W.tt=i,i=i.W;break}i=i.W}else{i.l=n;return}}}}return this.i+=1,i}I(r,n){for(;r;){let e=this.v(r.u,n);if(e<0)r=r.W;else if(e>0)r=r.U;else return r}return r||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(r,n){let e=r.o;if(e===this.h&&(0,o.throwIteratorAccessError)(),this.i===1)return e.u=n,!0;if(e===this.h.U)return this.v(e.B().u,n)>0?(e.u=n,!0):!1;if(e===this.h.W)return this.v(e.L().u,n)<0?(e.u=n,!0):!1;let i=e.L().u;if(this.v(i,n)>=0)return!1;let a=e.B().u;return this.v(a,n)<=0?!1:(e.u=n,!0)}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let n=0,e=this;return this.oe(this.Y,function(i){return r===n?(e.V(i),!0):(n+=1,!1)}),this.i}eraseElementByKey(r){if(this.i===0)return!1;let n=this.I(this.Y,r);return n===this.h?!1:(this.V(n),!0)}eraseElementByIterator(r){let n=r.o;n===this.h&&(0,o.throwIteratorAccessError)();let e=n.W===void 0;return r.iteratorType===0?e&&r.next():(!e||n.U===void 0)&&r.next(),this.V(n),r}forEach(r){let n=0;for(let e of this)r(e,n++,this)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let n,e=0;for(let i of this){if(e===r){n=i;break}e+=1}return n}getHeight(){if(this.i===0)return 0;let r=function(n){return n?Math.max(r(n.U),r(n.W))+1:0};return r(this.Y)}},t=l;c.default=t}),va=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=ft(),s=ht(),o=class extends p.ContainerIterator{constructor(t,r,n){super(n),this.o=t,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let t=this.o,r=this.h.tt;if(t===this.h)return r?r.rt-1:0;let n=0;for(t.U&&(n+=t.U.rt);t!==r;){let e=t.tt;t===e.W&&(n+=1,e.U&&(n+=e.U.rt)),t=e}return n}},l=o;c.default=l}),iu=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=l(ma()),s=l(va()),o=ht();function l(e){return e&&e.t?e:{default:e}}var t=class wa extends s.default{constructor(i,a,h,d){super(i,a,d),this.container=h}get pointer(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o.u}copy(){return new wa(this.o,this.h,this.container,this.iteratorType)}},r=class extends p.default{constructor(e=[],i,a){super(i,a);let h=this;e.forEach(function(d){h.insert(d)})}*K(e){e!==void 0&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new t(this.h.U||this.h,this.h,this)}end(){return new t(this.h,this.h,this)}rBegin(){return new t(this.h.W||this.h,this.h,this,1)}rEnd(){return new t(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,i){return this.M(e,void 0,i)}find(e){let i=this.I(this.Y,e);return new t(i,this.h,this)}lowerBound(e){let i=this.X(this.Y,e);return new t(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new t(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new t(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new t(i,this.h,this)}union(e){let i=this;return e.forEach(function(a){i.insert(a)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=r;c.default=n}),ou=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=l(ma()),s=l(va()),o=ht();function l(e){return e&&e.t?e:{default:e}}var t=class _a extends s.default{constructor(i,a,h,d){super(i,a,d),this.container=h}get pointer(){this.o===this.h&&(0,o.throwIteratorAccessError)();let i=this;return new Proxy([],{get(a,h){if(h==="0")return i.o.u;if(h==="1")return i.o.l},set(a,h,d){if(h!=="1")throw new TypeError("props must be 1");return i.o.l=d,!0}})}copy(){return new _a(this.o,this.h,this.container,this.iteratorType)}},r=class extends p.default{constructor(e=[],i,a){super(i,a);let h=this;e.forEach(function(d){h.setElement(d[0],d[1])})}*K(e){e!==void 0&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new t(this.h.U||this.h,this.h,this)}end(){return new t(this.h,this.h,this)}rBegin(){return new t(this.h.W||this.h,this.h,this,1)}rEnd(){return new t(this.h,this.h,this,1)}front(){if(this.i===0)return;let e=this.h.U;return[e.u,e.l]}back(){if(this.i===0)return;let e=this.h.W;return[e.u,e.l]}lowerBound(e){let i=this.X(this.Y,e);return new t(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new t(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new t(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new t(i,this.h,this)}setElement(e,i,a){return this.M(e,i,a)}find(e){let i=this.I(this.Y,e);return new t(i,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let i=this;return e.forEach(function(a){i.setElement(a[0],a[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=r;c.default=n}),Sa=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=p;function p(s){let o=typeof s;return o==="object"&&s!==null||o==="function"}}),Ea=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.HashContainerIterator=c.HashContainer=void 0;var p=ft(),s=l(Sa()),o=ht();function l(n){return n&&n.t?n:{default:n}}var t=class extends p.ContainerIterator{constructor(n,e,i){super(i),this.o=n,this.h=e,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L,this})}};c.HashContainerIterator=t;var r=class extends p.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(n){let{L:e,B:i}=n;e.B=i,i.L=e,n===this.p&&(this.p=i),n===this._&&(this._=e),this.i-=1}M(n,e,i){i===void 0&&(i=(0,s.default)(n));let a;if(i){let h=n[this.HASH_TAG];if(h!==void 0)return this.H[h].l=e,this.i;Object.defineProperty(n,this.HASH_TAG,{value:this.H.length,configurable:!0}),a={u:n,l:e,L:this._,B:this.h},this.H.push(a)}else{let h=this.g[n];if(h)return h.l=e,this.i;a={u:n,l:e,L:this._,B:this.h},this.g[n]=a}return this.i===0?(this.p=a,this.h.B=a):this._.B=a,this._=a,this.h.L=a,++this.i}I(n,e){if(e===void 0&&(e=(0,s.default)(n)),e){let i=n[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[n]||this.h}clear(){let n=this.HASH_TAG;this.H.forEach(function(e){delete e.u[n]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(n,e){let i;if(e===void 0&&(e=(0,s.default)(n)),e){let a=n[this.HASH_TAG];if(a===void 0)return!1;delete n[this.HASH_TAG],i=this.H[a],delete this.H[a]}else{if(i=this.g[n],i===void 0)return!1;delete this.g[n]}return this.V(i),!0}eraseElementByIterator(n){let e=n.o;return e===this.h&&(0,o.throwIteratorAccessError)(),this.V(e),n.next()}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let e=this.p;for(;n--;)e=e.B;return this.V(e),this.i}};c.HashContainer=r}),su=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=Ea(),s=ht(),o=class Aa extends p.HashContainerIterator{constructor(n,e,i,a){super(n,e,a),this.container=i}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new Aa(this.o,this.h,this.container,this.iteratorType)}},l=class extends p.HashContainer{constructor(r=[]){super();let n=this;r.forEach(function(e){n.insert(e)})}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(r,n){return this.M(r,void 0,n)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let n=this.p;for(;r--;)n=n.B;return n.u}find(r,n){let e=this.I(r,n);return new o(e,this.h,this)}forEach(r){let n=0,e=this.p;for(;e!==this.h;)r(e.u,n++,this),e=e.B}[Symbol.iterator](){return(function*(){let r=this.p;for(;r!==this.h;)yield r.u,r=r.B}).bind(this)()}},t=l;c.default=t}),au=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),c.default=void 0;var p=Ea(),s=l(Sa()),o=ht();function l(e){return e&&e.t?e:{default:e}}var t=class Ia extends p.HashContainerIterator{constructor(i,a,h,d){super(i,a,d),this.container=h}get pointer(){this.o===this.h&&(0,o.throwIteratorAccessError)();let i=this;return new Proxy([],{get(a,h){if(h==="0")return i.o.u;if(h==="1")return i.o.l},set(a,h,d){if(h!=="1")throw new TypeError("props must be 1");return i.o.l=d,!0}})}copy(){return new Ia(this.o,this.h,this.container,this.iteratorType)}},r=class extends p.HashContainer{constructor(e=[]){super();let i=this;e.forEach(function(a){i.setElement(a[0],a[1])})}begin(){return new t(this.p,this.h,this)}end(){return new t(this.h,this.h,this)}rBegin(){return new t(this._,this.h,this,1)}rEnd(){return new t(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(e,i,a){return this.M(e,i,a)}getElementByKey(e,i){if(i===void 0&&(i=(0,s.default)(e)),i){let h=e[this.HASH_TAG];return h!==void 0?this.H[h].l:void 0}let a=this.g[e];return a?a.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return[i.u,i.l]}find(e,i){let a=this.I(e,i);return new t(a,this.h,this)}forEach(e){let i=0,a=this.p;for(;a!==this.h;)e([a.u,a.l],i++,this),a=a.B}[Symbol.iterator](){return(function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}).bind(this)()}},n=r;c.default=n}),lu=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"t",{value:!0}),Object.defineProperty(c,"Deque",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(c,"HashMap",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(c,"HashSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(c,"LinkList",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(c,"OrderedMap",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(c,"OrderedSet",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(c,"PriorityQueue",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(c,"Queue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(c,"Stack",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(c,"Vector",{enumerable:!0,get:function(){return l.default}});var p=h(Jl()),s=h(Xl()),o=h(Zl()),l=h(eu()),t=h(tu()),r=h(ru()),n=h(iu()),e=h(ou()),i=h(su()),a=h(au());function h(d){return d&&d.t?d:{default:d}}}),uu=ge((c,p)=>{ue(),fe(),ce();var s=lu().OrderedSet,o=ut()("number-allocator:trace"),l=ut()("number-allocator:error");function t(n,e){this.low=n,this.high=e}t.prototype.equals=function(n){return this.low===n.low&&this.high===n.high},t.prototype.compare=function(n){return this.low<n.low&&this.high<n.low?-1:n.low<this.low&&n.high<this.low?1:0};function r(n,e){if(!(this instanceof r))return new r(n,e);this.min=n,this.max=e,this.ss=new s([],(i,a)=>i.compare(a)),o("Create"),this.clear()}r.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},r.prototype.alloc=function(){if(this.ss.size()===0)return o("alloc():empty"),null;let n=this.ss.begin(),e=n.pointer.low,i=n.pointer.high,a=e;return a+1<=i?this.ss.updateKeyByIterator(n,new t(e+1,i)):this.ss.eraseElementByPos(0),o("alloc():"+a),a},r.prototype.use=function(n){let e=new t(n,n),i=this.ss.lowerBound(e);if(!i.equals(this.ss.end())){let a=i.pointer.low,h=i.pointer.high;return i.pointer.equals(e)?(this.ss.eraseElementByIterator(i),o("use():"+n),!0):a>n?!1:a===n?(this.ss.updateKeyByIterator(i,new t(a+1,h)),o("use():"+n),!0):h===n?(this.ss.updateKeyByIterator(i,new t(a,h-1)),o("use():"+n),!0):(this.ss.updateKeyByIterator(i,new t(n+1,h)),this.ss.insert(new t(a,n-1)),o("use():"+n),!0)}return o("use():failed"),!1},r.prototype.free=function(n){if(n<this.min||n>this.max){l("free():"+n+" is out of range");return}let e=new t(n,n),i=this.ss.upperBound(e);if(i.equals(this.ss.end())){if(i.equals(this.ss.begin())){this.ss.insert(e);return}i.pre();let a=i.pointer.high;i.pointer.high+1===n?this.ss.updateKeyByIterator(i,new t(a,n)):this.ss.insert(e)}else if(i.equals(this.ss.begin()))if(n+1===i.pointer.low){let a=i.pointer.high;this.ss.updateKeyByIterator(i,new t(n,a))}else this.ss.insert(e);else{let a=i.pointer.low,h=i.pointer.high;i.pre();let d=i.pointer.low;i.pointer.high+1===n?n+1===a?(this.ss.eraseElementByIterator(i),this.ss.updateKeyByIterator(i,new t(d,h))):this.ss.updateKeyByIterator(i,new t(d,n)):n+1===a?(this.ss.eraseElementByIterator(i.next()),this.ss.insert(new t(n,h))):this.ss.insert(e)}o("free():"+n)},r.prototype.clear=function(){o("clear()"),this.ss.clear(),this.ss.insert(new t(this.min,this.max))},r.prototype.intervalCount=function(){return this.ss.size()},r.prototype.dump=function(){console.log("length:"+this.ss.size());for(let n of this.ss)console.log(n)},p.exports=r}),xa=ge((c,p)=>{ue(),fe(),ce();var s=uu();p.exports.NumberAllocator=s}),cu=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=Yl(),s=xa(),o=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(l){l>0&&(this.aliasToTopic=new p.LRUCache({max:l}),this.topicToAlias={},this.numberAllocator=new s.NumberAllocator(1,l),this.max=l,this.length=0)}put(l,t){if(t===0||t>this.max)return!1;let r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,l),this.topicToAlias[l]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.size,!0}getTopicByAlias(l){return this.aliasToTopic.get(l)}getAliasByTopic(l){let t=this.topicToAlias[l];return typeof t<"u"&&this.aliasToTopic.get(t),t}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};c.default=o}),fu=ge(c=>{ue(),fe(),ce();var p=c&&c.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(c,"__esModule",{value:!0});var s=Qr(),o=p(cu()),l=qt(),t=(r,n)=>{r.log("_handleConnack");let{options:e}=r,i=e.protocolVersion===5?n.reasonCode:n.returnCode;if(clearTimeout(r.connackTimer),delete r.topicAliasSend,n.properties){if(n.properties.topicAliasMaximum){if(n.properties.topicAliasMaximum>65535){r.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}n.properties.topicAliasMaximum>0&&(r.topicAliasSend=new o.default(n.properties.topicAliasMaximum))}n.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=n.properties.serverKeepAlive),n.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=n.properties.maximumPacketSize)}if(i===0)r.reconnecting=!1,r._onConnect(n);else if(i>0){let a=new l.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[i]}`,i);r.emit("error",a),r.options.reconnectOnConnackError&&r._cleanUp(!0)}};c.default=t}),hu=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=(s,o,l)=>{s.log("handling pubrel packet");let t=typeof l<"u"?l:s.noop,{messageId:r}=o,n={cmd:"pubcomp",messageId:r};s.incomingStore.get(o,(e,i)=>{e?s._sendPacket(n,t):(s.emit("message",i.topic,i.payload,i),s.handleMessage(i,a=>{if(a)return t(a);s.incomingStore.del(i,s.noop),s._sendPacket(n,t)}))})};c.default=p}),pu=ge(c=>{ue(),fe(),ce();var p=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});var s=p(Vl()),o=p(Ql()),l=p(fu()),t=p(Qr()),r=p(hu()),n=(e,i,a)=>{let{options:h}=e;if(h.protocolVersion===5&&h.properties&&h.properties.maximumPacketSize&&h.properties.maximumPacketSize<i.length)return e.emit("error",new Error(`exceeding packets size ${i.cmd}`)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",i),i.cmd){case"publish":(0,s.default)(e,i,a);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,t.default)(e,i),a();break;case"pubrel":e.reschedulePing(),(0,r.default)(e,i,a);break;case"connack":(0,l.default)(e,i),a();break;case"auth":e.reschedulePing(),(0,o.default)(e,i),a();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),a();break;case"disconnect":e.emit("disconnect",i),a();break;default:e.log("_handlePacket :: unknown command"),a();break}};c.default=n}),ka=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let s=this.nextId++;return this.nextId===65536&&(this.nextId=1),s}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(s){return!0}deallocate(s){}clear(){}};c.default=p}),du=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=class{aliasToTopic;max;length;constructor(s){this.aliasToTopic={},this.max=s}put(s,o){return o===0||o>this.max?!1:(this.aliasToTopic[o]=s,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(s){return this.aliasToTopic[s]}clear(){this.aliasToTopic={}}};c.default=p}),gu=ge(c=>{ue(),fe(),ce();var p=c&&c.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0}),c.TypedEventEmitter=void 0;var s=p((Tt(),Pe(mt))),o=qt(),l=class{};c.TypedEventEmitter=l,(0,o.applyMixin)(l,s.default)}),Yr=ge((c,p)=>{ue(),fe(),ce();function s(o){"@babel/helpers - typeof";return p.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},p.exports.__esModule=!0,p.exports.default=p.exports,s(o)}p.exports=s,p.exports.__esModule=!0,p.exports.default=p.exports}),yu=ge((c,p)=>{ue(),fe(),ce();var s=Yr().default;function o(l,t){if(s(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var n=r.call(l,t||"default");if(s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(l)}p.exports=o,p.exports.__esModule=!0,p.exports.default=p.exports}),bu=ge((c,p)=>{ue(),fe(),ce();var s=Yr().default,o=yu();function l(t){var r=o(t,"string");return s(r)=="symbol"?r:r+""}p.exports=l,p.exports.__esModule=!0,p.exports.default=p.exports}),mu=ge((c,p)=>{ue(),fe(),ce();var s=bu();function o(l,t,r){return(t=s(t))in l?Object.defineProperty(l,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[t]=r,l}p.exports=o,p.exports.__esModule=!0,p.exports.default=p.exports}),vu=ge((c,p)=>{ue(),fe(),ce();function s(o){if(Array.isArray(o))return o}p.exports=s,p.exports.__esModule=!0,p.exports.default=p.exports}),wu=ge((c,p)=>{ue(),fe(),ce();function s(o,l){var t=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r,n,e,i,a=[],h=!0,d=!1;try{if(e=(t=t.call(o)).next,l===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(r=e.call(t)).done)&&(a.push(r.value),a.length!==l);h=!0);}catch(b){d=!0,n=b}finally{try{if(!h&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw n}}return a}}p.exports=s,p.exports.__esModule=!0,p.exports.default=p.exports}),_u=ge((c,p)=>{ue(),fe(),ce();function s(o,l){(l==null||l>o.length)&&(l=o.length);for(var t=0,r=Array(l);t<l;t++)r[t]=o[t];return r}p.exports=s,p.exports.__esModule=!0,p.exports.default=p.exports}),Su=ge((c,p)=>{ue(),fe(),ce();var s=_u();function o(l,t){if(l){if(typeof l=="string")return s(l,t);var r={}.toString.call(l).slice(8,-1);return r==="Object"&&l.constructor&&(r=l.constructor.name),r==="Map"||r==="Set"?Array.from(l):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(l,t):void 0}}p.exports=o,p.exports.__esModule=!0,p.exports.default=p.exports}),Eu=ge((c,p)=>{ue(),fe(),ce();function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}p.exports=s,p.exports.__esModule=!0,p.exports.default=p.exports}),Au=ge((c,p)=>{ue(),fe(),ce();var s=vu(),o=wu(),l=Su(),t=Eu();function r(n,e){return s(n)||o(n,e)||l(n,e)||t()}p.exports=r,p.exports.__esModule=!0,p.exports.default=p.exports}),Ta=ge((c,p)=>{ue(),fe(),ce(),(function(s,o){typeof c=="object"&&typeof p<"u"?o(c):typeof define=="function"&&define.amd?define(["exports"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.fastUniqueNumbers={}))})(c,function(s){var o=function(b){return function(f){var y=b(f);return f.add(y),y}},l=function(b){return function(f,y){return b.set(f,y),y}},t=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,n=r*2,e=function(b,f){return function(y){var m=f.get(y),S=m===void 0?y.size:m<n?m+1:0;if(!y.has(S))return b(y,S);if(y.size<r){for(;y.has(S);)S=Math.floor(Math.random()*n);return b(y,S)}if(y.size>t)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(S);)S=Math.floor(Math.random()*t);return b(y,S)}},i=new WeakMap,a=l(i),h=e(a,i),d=o(h);s.addUniqueNumber=d,s.generateUniqueNumber=h})}),Iu=ge((c,p)=>{ue(),fe(),ce();function s(l,t,r,n,e,i,a){try{var h=l[i](a),d=h.value}catch(b){return void r(b)}h.done?t(d):Promise.resolve(d).then(n,e)}function o(l){return function(){var t=this,r=arguments;return new Promise(function(n,e){var i=l.apply(t,r);function a(d){s(i,n,e,a,h,"next",d)}function h(d){s(i,n,e,a,h,"throw",d)}a(void 0)})}}p.exports=o,p.exports.__esModule=!0,p.exports.default=p.exports}),Oa=ge((c,p)=>{ue(),fe(),ce();function s(o,l){this.v=o,this.k=l}p.exports=s,p.exports.__esModule=!0,p.exports.default=p.exports}),Pa=ge((c,p)=>{ue(),fe(),ce();function s(o,l,t,r){var n=Object.defineProperty;try{n({},"",{})}catch{n=0}p.exports=s=function(e,i,a,h){function d(b,f){s(e,b,function(y){return this._invoke(b,f,y)})}i?n?n(e,i,{value:a,enumerable:!h,configurable:!h,writable:!h}):e[i]=a:(d("next",0),d("throw",1),d("return",2))},p.exports.__esModule=!0,p.exports.default=p.exports,s(o,l,t,r)}p.exports=s,p.exports.__esModule=!0,p.exports.default=p.exports}),Ra=ge((c,p)=>{ue(),fe(),ce();var s=Pa();function o(){var l,t,r=typeof Symbol=="function"?Symbol:{},n=r.iterator||"@@iterator",e=r.toStringTag||"@@toStringTag";function i(S,g,_,I){var v=g&&g.prototype instanceof h?g:h,A=Object.create(v.prototype);return s(A,"_invoke",(function(E,T,M){var C,q,k,P=0,j=M||[],B=!1,ie={p:0,n:0,v:l,a:F,f:F.bind(l,4),d:function(D,ee){return C=D,q=0,k=l,ie.n=ee,a}};function F(D,ee){for(q=D,k=ee,t=0;!B&&P&&!W&&t<j.length;t++){var W,X=j[t],R=ie.p,K=X[2];D>3?(W=K===ee)&&(k=X[(q=X[4])?5:(q=3,3)],X[4]=X[5]=l):X[0]<=R&&((W=D<2&&R<X[1])?(q=0,ie.v=ee,ie.n=X[1]):R<K&&(W=D<3||X[0]>ee||ee>K)&&(X[4]=D,X[5]=ee,ie.n=K,q=0))}if(W||D>1)return a;throw B=!0,ee}return function(D,ee,W){if(P>1)throw TypeError("Generator is already running");for(B&&ee===1&&F(ee,W),q=ee,k=W;(t=q<2?l:k)||!B;){C||(q?q<3?(q>1&&(ie.n=-1),F(q,k)):ie.n=k:ie.v=k);try{if(P=2,C){if(q||(D="next"),t=C[D]){if(!(t=t.call(C,k)))throw TypeError("iterator result is not an object");if(!t.done)return t;k=t.value,q<2&&(q=0)}else q===1&&(t=C.return)&&t.call(C),q<2&&(k=TypeError("The iterator does not provide a '"+D+"' method"),q=1);C=l}else if((t=(B=ie.n<0)?k:E.call(T,ie))!==a)break}catch(X){C=l,q=1,k=X}finally{P=1}}return{value:t,done:B}}})(S,_,I),!0),A}var a={};function h(){}function d(){}function b(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(s(t={},n,function(){return this}),t),y=b.prototype=h.prototype=Object.create(f);function m(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,b):(S.__proto__=b,s(S,e,"GeneratorFunction")),S.prototype=Object.create(y),S}return d.prototype=b,s(y,"constructor",b),s(b,"constructor",d),d.displayName="GeneratorFunction",s(b,e,"GeneratorFunction"),s(y),s(y,e,"Generator"),s(y,n,function(){return this}),s(y,"toString",function(){return"[object Generator]"}),(p.exports=o=function(){return{w:i,m}},p.exports.__esModule=!0,p.exports.default=p.exports)()}p.exports=o,p.exports.__esModule=!0,p.exports.default=p.exports}),Ca=ge((c,p)=>{ue(),fe(),ce();var s=Oa(),o=Pa();function l(t,r){function n(i,a,h,d){try{var b=t[i](a),f=b.value;return f instanceof s?r.resolve(f.v).then(function(y){n("next",y,h,d)},function(y){n("throw",y,h,d)}):r.resolve(f).then(function(y){b.value=y,h(b)},function(y){return n("throw",y,h,d)})}catch(y){d(y)}}var e;this.next||(o(l.prototype),o(l.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(i,a,h){function d(){return new r(function(b,f){n(i,h,b,f)})}return e=e?e.then(d,d):d()},!0)}p.exports=l,p.exports.__esModule=!0,p.exports.default=p.exports}),Ma=ge((c,p)=>{ue(),fe(),ce();var s=Ra(),o=Ca();function l(t,r,n,e,i){return new o(s().w(t,r,n,e),i||Promise)}p.exports=l,p.exports.__esModule=!0,p.exports.default=p.exports}),xu=ge((c,p)=>{ue(),fe(),ce();var s=Ma();function o(l,t,r,n,e){var i=s(l,t,r,n,e);return i.next().then(function(a){return a.done?a.value:i.next()})}p.exports=o,p.exports.__esModule=!0,p.exports.default=p.exports}),ku=ge((c,p)=>{ue(),fe(),ce();function s(o){var l=Object(o),t=[];for(var r in l)t.unshift(r);return function n(){for(;t.length;)if((r=t.pop())in l)return n.value=r,n.done=!1,n;return n.done=!0,n}}p.exports=s,p.exports.__esModule=!0,p.exports.default=p.exports}),Tu=ge((c,p)=>{ue(),fe(),ce();var s=Yr().default;function o(l){if(l!=null){var t=l[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(l);if(typeof l.next=="function")return l;if(!isNaN(l.length))return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}}}throw new TypeError(s(l)+" is not iterable")}p.exports=o,p.exports.__esModule=!0,p.exports.default=p.exports}),Ou=ge((c,p)=>{ue(),fe(),ce();var s=Oa(),o=Ra(),l=xu(),t=Ma(),r=Ca(),n=ku(),e=Tu();function i(){var a=o(),h=a.m(i),d=(Object.getPrototypeOf?Object.getPrototypeOf(h):h.__proto__).constructor;function b(m){var S=typeof m=="function"&&m.constructor;return!!S&&(S===d||(S.displayName||S.name)==="GeneratorFunction")}var f={throw:1,return:2,break:3,continue:3};function y(m){var S,g;return function(_){S||(S={stop:function(){return g(_.a,2)},catch:function(){return _.v},abrupt:function(I,v){return g(_.a,f[I],v)},delegateYield:function(I,v,A){return S.resultName=v,g(_.d,e(I),A)},finish:function(I){return g(_.f,I)}},g=function(I,v,A){_.p=S.prev,_.n=S.next;try{return I(v,A)}finally{S.next=_.n}}),S.resultName&&(S[S.resultName]=_.v,S.resultName=void 0),S.sent=_.v,S.next=_.n;try{return m.call(this,S)}finally{_.p=S.prev,_.n=S.next}}}return(p.exports=i=function(){return{wrap:function(m,S,g,_){return a.w(y(m),S,g,_&&_.reverse())},isGeneratorFunction:b,mark:a.m,awrap:function(m,S){return new s(m,S)},AsyncIterator:r,async:function(m,S,g,_,I){return(b(S)?t:l)(y(m),S,g,_,I)},keys:n,values:e}},p.exports.__esModule=!0,p.exports.default=p.exports)()}p.exports=i,p.exports.__esModule=!0,p.exports.default=p.exports}),Pu=ge((c,p)=>{ue(),fe(),ce();var s=Ou()();p.exports=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}}),Ru=ge((c,p)=>{ue(),fe(),ce(),(function(s,o){typeof c=="object"&&typeof p<"u"?o(c,mu(),Au(),Ta(),Iu(),Pu()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.brokerFactory={},s._defineProperty,s._slicedToArray,s.fastUniqueNumbers,s._asyncToGenerator,s._regeneratorRuntime))})(c,function(s,o,l,t,r,n){var e=function(g){return typeof g.start=="function"},i=new WeakMap;function a(g,_){var I=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);_&&(v=v.filter(function(A){return Object.getOwnPropertyDescriptor(g,A).enumerable})),I.push.apply(I,v)}return I}function h(g){for(var _=1;_<arguments.length;_++){var I=arguments[_]!=null?arguments[_]:{};_%2?a(Object(I),!0).forEach(function(v){o(g,v,I[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(I)):a(Object(I)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(I,v))})}return g}var d=function(g){return h(h({},g),{},{connect:function(_){var I=_.call;return r(n.mark(function v(){var A,E,T,M;return n.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return A=new MessageChannel,E=A.port1,T=A.port2,C.next=1,I("connect",{port:E},[E]);case 1:return M=C.sent,i.set(T,M),C.abrupt("return",T);case 2:case"end":return C.stop()}},v)}))},disconnect:function(_){var I=_.call;return(function(){var v=r(n.mark(function A(E){var T;return n.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(T=i.get(E),T!==void 0){M.next=1;break}throw new Error("The given port is not connected.");case 1:return M.next=2,I("disconnect",{portId:T});case 2:case"end":return M.stop()}},A)}));return function(A){return v.apply(this,arguments)}})()},isSupported:function(_){var I=_.call;return function(){return I("isSupported")}}})};function b(g,_){var I=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);_&&(v=v.filter(function(A){return Object.getOwnPropertyDescriptor(g,A).enumerable})),I.push.apply(I,v)}return I}function f(g){for(var _=1;_<arguments.length;_++){var I=arguments[_]!=null?arguments[_]:{};_%2?b(Object(I),!0).forEach(function(v){o(g,v,I[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(I)):b(Object(I)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(I,v))})}return g}var y=new WeakMap,m=function(g){if(y.has(g))return y.get(g);var _=new Map;return y.set(g,_),_},S=function(g){var _=d(g);return function(I){var v=m(I);I.addEventListener("message",function(j){var B=j.data,ie=B.id;if(ie!==null&&v.has(ie)){var F=v.get(ie),D=F.reject,ee=F.resolve;v.delete(ie),B.error===void 0?ee(B.result):D(new Error(B.error.message))}}),e(I)&&I.start();for(var A=function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(F,D){var ee=t.generateUniqueNumber(v);v.set(ee,{reject:D,resolve:F}),B===null?I.postMessage({id:ee,method:j},ie):I.postMessage({id:ee,method:j,params:B},ie)})},E=function(j,B){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];I.postMessage({id:null,method:j,params:B},ie)},T={},M=0,C=Object.entries(_);M<C.length;M++){var q=l(C[M],2),k=q[0],P=q[1];T=f(f({},T),{},o({},k,P({call:A,notify:E})))}return f({},T)}};s.createBroker=S})}),Cu=ge((c,p)=>{ue(),fe(),ce(),(function(s,o){typeof c=="object"&&typeof p<"u"?o(c,Yr(),Ru(),Ta()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.workerTimersBroker={},s._typeof,s.brokerFactory,s.fastUniqueNumbers))})(c,function(s,o,l,t){var r=new Map([[0,null]]),n=new Map([[0,null]]),e=l.createBroker({clearInterval:function(a){var h=a.call;return function(d){o(r.get(d))==="symbol"&&(r.set(d,null),h("clear",{timerId:d,timerType:"interval"}).then(function(){r.delete(d)}))}},clearTimeout:function(a){var h=a.call;return function(d){o(n.get(d))==="symbol"&&(n.set(d,null),h("clear",{timerId:d,timerType:"timeout"}).then(function(){n.delete(d)}))}},setInterval:function(a){var h=a.call;return function(d){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length,y=new Array(f>2?f-2:0),m=2;m<f;m++)y[m-2]=arguments[m];var S=Symbol(),g=t.generateUniqueNumber(r);r.set(g,S);var _=function(){return h("set",{delay:b,now:performance.timeOrigin+performance.now(),timerId:g,timerType:"interval"}).then(function(){var I=r.get(g);if(I===void 0)throw new Error("The timer is in an undefined state.");I===S&&(d.apply(void 0,y),r.get(g)===S&&_())})};return _(),g}},setTimeout:function(a){var h=a.call;return function(d){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length,y=new Array(f>2?f-2:0),m=2;m<f;m++)y[m-2]=arguments[m];var S=Symbol(),g=t.generateUniqueNumber(n);return n.set(g,S),h("set",{delay:b,now:performance.timeOrigin+performance.now(),timerId:g,timerType:"timeout"}).then(function(){var _=n.get(g);if(_===void 0)throw new Error("The timer is in an undefined state.");_===S&&(n.delete(g),d.apply(void 0,y))}),g}}}),i=function(a){var h=new Worker(a);return e(h)};s.load=i,s.wrap=e})}),Mu=ge((c,p)=>{ue(),fe(),ce(),(function(s,o){typeof c=="object"&&typeof p<"u"?o(c,Cu()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.workerTimers={},s.workerTimersBroker))})(c,function(s,o){var l=function(h,d){var b=null;return function(){if(b!==null)return b;var f=new Blob([d],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(f);return b=h(y),setTimeout(function(){return URL.revokeObjectURL(y)}),b}},t=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,r=l(o.load,t),n=function(h){return r().clearInterval(h)},e=function(h){return r().clearTimeout(h)},i=function(){var h;return(h=r()).setInterval.apply(h,arguments)},a=function(){var h;return(h=r()).setTimeout.apply(h,arguments)};s.clearInterval=n,s.clearTimeout=e,s.setInterval=i,s.setTimeout=a})}),Jr=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0}),c.isReactNativeBrowser=c.isWebWorker=void 0;var p=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Re?.versions?!Object.prototype.hasOwnProperty.call(Re.versions,"electron"):typeof window.document<"u":!1,s=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),o=()=>typeof navigator<"u"&&navigator.product==="ReactNative",l=p()||s()||o();c.isWebWorker=s(),c.isReactNativeBrowser=o(),c.default=l}),ju=ge(c=>{ue(),fe(),ce();var p=c&&c.__createBinding||(Object.create?function(i,a,h,d){d===void 0&&(d=h);var b=Object.getOwnPropertyDescriptor(a,h);(!b||("get"in b?!a.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return a[h]}}),Object.defineProperty(i,d,b)}:function(i,a,h,d){d===void 0&&(d=h),i[d]=a[h]}),s=c&&c.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),o=c&&c.__importStar||(function(){var i=function(a){return i=Object.getOwnPropertyNames||function(h){var d=[];for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(d[d.length]=b);return d},i(a)};return function(a){if(a&&a.__esModule)return a;var h={};if(a!=null)for(var d=i(a),b=0;b<d.length;b++)d[b]!=="default"&&p(h,a,d[b]);return s(h,a),h}})();Object.defineProperty(c,"__esModule",{value:!0});var l=Mu(),t=o(Jr()),r={set:l.setInterval,clear:l.clearInterval},n={set:(i,a)=>setInterval(i,a),clear:i=>clearInterval(i)},e=i=>{switch(i){case"native":return n;case"worker":return r;case"auto":default:return t.default&&!t.isWebWorker&&!t.isReactNativeBrowser?r:n}};c.default=e}),ja=ge(c=>{ue(),fe(),ce();var p=c&&c.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(c,"__esModule",{value:!0});var s=p(ju()),o=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(l,t){this.client=l,this.timer=typeof t=="object"&&"set"in t&&"clear"in t?t:(0,s.default)(t),this.setKeepalive(l.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(l){if(l*=1e3,isNaN(l)||l<=0||l>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${l}`);this._keepalive=l,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${l}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let l=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+l,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};c.default=o}),hi=ge(c=>{ue(),fe(),ce();var p=c&&c.__createBinding||(Object.create?function(v,A,E,T){T===void 0&&(T=E);var M=Object.getOwnPropertyDescriptor(A,E);(!M||("get"in M?!A.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return A[E]}}),Object.defineProperty(v,T,M)}:function(v,A,E,T){T===void 0&&(T=E),v[T]=A[E]}),s=c&&c.__setModuleDefault||(Object.create?function(v,A){Object.defineProperty(v,"default",{enumerable:!0,value:A})}:function(v,A){v.default=A}),o=c&&c.__importStar||(function(){var v=function(A){return v=Object.getOwnPropertyNames||function(E){var T=[];for(var M in E)Object.prototype.hasOwnProperty.call(E,M)&&(T[T.length]=M);return T},v(A)};return function(A){if(A&&A.__esModule)return A;var E={};if(A!=null)for(var T=v(A),M=0;M<T.length;M++)T[M]!=="default"&&p(E,A,T[M]);return s(E,A),E}})(),l=c&&c.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(c,"__esModule",{value:!0});var t=l($l()),r=Pt(),n=l(Hl()),e=l(ut()),i=o(Kl()),a=l(ca()),h=l(pu()),d=l(ka()),b=l(du()),f=qt(),y=gu(),m=l(ja()),S=o(Jr()),g=globalThis.setImmediate||((...v)=>{let A=v.shift();(0,f.nextTick)(()=>{A(...v)})}),_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},I=class pi extends y.TypedEventEmitter{static VERSION=f.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(A,E){super(),this.options=E||{};for(let T in _)typeof this.options[T]>"u"?this.options[T]=_[T]:this.options[T]=E[T];this.log=this.options.log||(0,e.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",pi.VERSION),S.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",S.default?"browser":"node"),this.log("MqttClient :: options.protocol",E.protocol),this.log("MqttClient :: options.protocolVersion",E.protocolVersion),this.log("MqttClient :: options.username",E.username),this.log("MqttClient :: options.keepalive",E.keepalive),this.log("MqttClient :: options.reconnectPeriod",E.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",E.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",E.properties?E.properties.topicAliasMaximum:void 0),this.options.clientId=typeof E.clientId=="string"?E.clientId:pi.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=E.protocolVersion===5&&E.customHandleAcks?E.customHandleAcks:(...T)=>{T[3](null,0)},this.options.writeCache||(t.default.writeToStream.cacheNumbers=!1),this.streamBuilder=A,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new d.default:this.options.messageIdProvider,this.outgoingStore=E.outgoingStore||new a.default,this.incomingStore=E.incomingStore||new a.default,this.queueQoSZero=E.queueQoSZero===void 0?!0:E.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,E.properties&&E.properties.topicAliasMaximum>0&&(E.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new b.default(E.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:T}=this,M=()=>{let C=T.shift();this.log("deliver :: entry %o",C);let q=null;if(!C){this._resubscribe();return}q=C.packet,this.log("deliver :: call _sendPacket for %o",q);let k=!0;q.messageId&&q.messageId!==0&&(this.messageIdProvider.register(q.messageId)||(k=!1)),k?this._sendPacket(q,P=>{C.cb&&C.cb(P),M()}):(this.log("messageId: %d has already used. The message is skipped and removed.",q.messageId),M())};this.log("connect :: sending queued packets"),M()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(A,E){E()}handleMessage(A,E){E()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let A=new r.Writable,E=t.default.parser(this.options),T=null,M=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new a.default,this.outgoingStore=this.options.outgoingStore||new a.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),E.on("packet",j=>{this.log("parser :: on packet push to packets array."),M.push(j)});let C=()=>{this.log("work :: getting next packet in queue");let j=M.shift();if(j)this.log("work :: packet pulled from queue"),(0,h.default)(this,j,q);else{this.log("work :: no packets in queue");let B=T;T=null,this.log("work :: done flag is %s",!!B),B&&B()}},q=()=>{if(M.length)(0,f.nextTick)(C);else{let j=T;T=null,j()}};A._write=(j,B,ie)=>{T=ie,this.log("writable stream :: parsing buffer"),E.parse(j),C()};let k=j=>{this.log("streamErrorHandler :: error",j.message),j.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",j)):this.noop(j)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(A),this.stream.on("error",k),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let P={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(P.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(P.properties||(P.properties={}),this.topicAliasRecv&&(P.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(P),E.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let j={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(j)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(A,E,T,M){this.log("publish :: message `%s` to topic `%s`",E,A);let{options:C}=this;typeof T=="function"&&(M=T,T=null),T=T||{},T={qos:0,retain:!1,dup:!1,...T};let{qos:q,retain:k,dup:P,properties:j,cbStorePut:B}=T;if(this._checkDisconnecting(M))return this;let ie=()=>{let F=0;if((q===1||q===2)&&(F=this._nextId(),F===null))return this.log("No messageId left"),!1;let D={cmd:"publish",topic:A,payload:E,qos:q,retain:k,messageId:F,dup:P};switch(C.protocolVersion===5&&(D.properties=j),this.log("publish :: qos",q),q){case 1:case 2:this.outgoing[D.messageId]={volatile:!1,cb:M||this.noop},this.log("MqttClient:publish: packet cmd: %s",D.cmd),this._sendPacket(D,void 0,B);break;default:this.log("MqttClient:publish: packet cmd: %s",D.cmd),this._sendPacket(D,M,B);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ie())&&this._storeProcessingQueue.push({invoke:ie,cbStorePut:T.cbStorePut,callback:M}),this}publishAsync(A,E,T){return new Promise((M,C)=>{this.publish(A,E,T,(q,k)=>{q?C(q):M(k)})})}subscribe(A,E,T){let M=this.options.protocolVersion;typeof E=="function"&&(T=E),T=T||this.noop;let C=!1,q=[];typeof A=="string"?(A=[A],q=A):Array.isArray(A)?q=A:typeof A=="object"&&(C=A.resubscribe,delete A.resubscribe,q=Object.keys(A));let k=i.validateTopics(q);if(k!==null)return g(T,new Error(`Invalid topic ${k}`)),this;if(this._checkDisconnecting(T))return this.log("subscribe: discconecting true"),this;let P={qos:0};M===5&&(P.nl=!1,P.rap=!1,P.rh=0),E={...P,...E};let{properties:j}=E,B=[],ie=(ee,W)=>{if(W=W||E,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,ee)||this._resubscribeTopics[ee].qos<W.qos||C){let X={topic:ee,qos:W.qos};M===5&&(X.nl=W.nl,X.rap=W.rap,X.rh=W.rh,X.properties=j),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",X.topic,X.qos),B.push(X)}};if(Array.isArray(A)?A.forEach(ee=>{this.log("subscribe: array topic %s",ee),ie(ee)}):Object.keys(A).forEach(ee=>{this.log("subscribe: object topic %s, %o",ee,A[ee]),ie(ee,A[ee])}),!B.length)return T(null,[]),this;let F=(ee,W)=>{let X={cmd:"subscribe",subscriptions:ee,messageId:W};if(j&&(X.properties=j),this.options.resubscribe){this.log("subscribe :: resubscribe true");let K=[];ee.forEach(le=>{if(this.options.reconnectPeriod>0){let te={qos:le.qos};M===5&&(te.nl=le.nl||!1,te.rap=le.rap||!1,te.rh=le.rh||0,te.properties=le.properties),this._resubscribeTopics[le.topic]=te,K.push(le.topic)}}),this.messageIdToTopic[X.messageId]=K}let R=new Promise((K,le)=>{this.outgoing[X.messageId]={volatile:!0,cb(te,ve){if(!te){let{granted:V}=ve;for(let N=0;N<V.length;N+=1)ee[N].qos=V[N]}te?le(new f.ErrorWithSubackPacket(te.message,ve)):K(ve)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(X),R},D=()=>{let ee=this.options.subscribeBatchSize??B.length,W=[];for(let X=0;X<B.length;X+=ee){let R=B.slice(X,X+ee),K=this._nextId();if(K===null)return this.log("No messageId left"),!1;W.push(F(R,K))}return Promise.all(W).then(X=>{T(null,B,X.at(-1))}).catch(X=>{T(X,B,X.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!D())&&this._storeProcessingQueue.push({invoke:D,callback:T}),this}subscribeAsync(A,E){return new Promise((T,M)=>{this.subscribe(A,E,(C,q)=>{C?M(C):T(q)})})}unsubscribe(A,E,T){typeof A=="string"&&(A=[A]),typeof E=="function"&&(T=E),T=T||this.noop;let M=i.validateTopics(A);if(M!==null)return g(T,new Error(`Invalid topic ${M}`)),this;if(this._checkDisconnecting(T))return this;let C=()=>{let q=this._nextId();if(q===null)return this.log("No messageId left"),!1;let k={cmd:"unsubscribe",messageId:q,unsubscriptions:[]};return typeof A=="string"?k.unsubscriptions=[A]:Array.isArray(A)&&(k.unsubscriptions=A),this.options.resubscribe&&k.unsubscriptions.forEach(P=>{delete this._resubscribeTopics[P]}),typeof E=="object"&&E.properties&&(k.properties=E.properties),this.outgoing[k.messageId]={volatile:!0,cb:T},this.log("unsubscribe: call _sendPacket"),this._sendPacket(k),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!C())&&this._storeProcessingQueue.push({invoke:C,callback:T}),this}unsubscribeAsync(A,E){return new Promise((T,M)=>{this.unsubscribe(A,E,(C,q)=>{C?M(C):T(q)})})}end(A,E,T){this.log("end :: (%s)",this.options.clientId),(A==null||typeof A!="boolean")&&(T=T||E,E=A,A=!1),typeof E!="object"&&(T=T||E,E=null),this.log("end :: cb? %s",!!T),(!T||typeof T!="function")&&(T=this.noop);let M=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(q=>{this.outgoingStore.close(k=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),T){let P=q||k;this.log("end :: closeStores: invoking callback with args"),T(P)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},C=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,A),this._cleanUp(A,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,f.nextTick)(M)},E)};return this.disconnecting?(T(),this):(this._clearReconnect(),this.disconnecting=!0,!A&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,C,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),C()),this)}endAsync(A,E){return new Promise((T,M)=>{this.end(A,E,C=>{C?M(C):T()})})}removeOutgoingMessage(A){if(this.outgoing[A]){let{cb:E}=this.outgoing[A];this._removeOutgoingAndStoreMessage(A,()=>{E(new Error("Message removed"))})}return this}reconnect(A){this.log("client reconnect");let E=()=>{A?(this.options.incomingStore=A.incomingStore,this.options.outgoingStore=A.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new a.default,this.outgoingStore=this.options.outgoingStore||new a.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=E:E(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(A=>{this.outgoing[A].volatile&&typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(A=>{typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_removeTopicAliasAndRecoverTopicName(A){let E;A.properties&&(E=A.properties.topicAlias);let T=A.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",E,T),T.length===0){if(typeof E>"u")return new Error("Unregistered Topic Alias");if(T=this.topicAliasSend.getTopicByAlias(E),typeof T>"u")return new Error("Unregistered Topic Alias");A.topic=T}E&&delete A.properties.topicAlias}_checkDisconnecting(A){return this.disconnecting&&(A&&A!==this.noop?A(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(A,E,T={}){if(E&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",E)),this.log("_cleanUp :: forced? %s",A),A)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let M={cmd:"disconnect",...T};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(M,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),g(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),E&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",E),E())}_storeAndSend(A,E,T){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",A.cmd);let M=A,C;if(M.cmd==="publish"&&(M=(0,n.default)(A),C=this._removeTopicAliasAndRecoverTopicName(M),C))return E&&E(C);this.outgoingStore.put(M,q=>{if(q)return E&&E(q);T(),this._writePacket(A,E)})}_applyTopicAlias(A){if(this.options.protocolVersion===5&&A.cmd==="publish"){let E;A.properties&&(E=A.properties.topicAlias);let T=A.topic.toString();if(this.topicAliasSend)if(E){if(T.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",T,E),!this.topicAliasSend.put(T,E)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,E),new Error("Sending Topic Alias out of range")}else T.length!==0&&(this.options.autoAssignTopicAlias?(E=this.topicAliasSend.getAliasByTopic(T),E?(A.topic="",A.properties={...A.properties,topicAlias:E},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",T,E)):(E=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(T,E),A.properties={...A.properties,topicAlias:E},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",T,E))):this.options.autoUseTopicAlias&&(E=this.topicAliasSend.getAliasByTopic(T),E&&(A.topic="",A.properties={...A.properties,topicAlias:E},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",T,E))));else if(E)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,E),new Error("Sending Topic Alias out of range")}}_noop(A){this.log("noop ::",A)}_writePacket(A,E){this.log("_writePacket :: packet: %O",A),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",A),this.log("_writePacket :: writing to stream");let T=t.default.writeToStream(A,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",T),!T&&E&&E!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",E)):E&&(this.log("_writePacket :: invoking cb"),E())}_sendPacket(A,E,T,M){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),T=T||this.noop,E=E||this.noop;let C=this._applyTopicAlias(A);if(C){E(C);return}if(!this.connected){if(A.cmd==="auth"){this._writePacket(A,E);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(A,E,T);return}if(M){this._writePacket(A,E);return}switch(A.cmd){case"publish":break;case"pubrel":this._storeAndSend(A,E,T);return;default:this._writePacket(A,E);return}switch(A.qos){case 2:case 1:this._storeAndSend(A,E,T);break;case 0:default:this._writePacket(A,E);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(A,E,T){this.log("_storePacket :: packet: %o",A),this.log("_storePacket :: cb? %s",!!E),T=T||this.noop;let M=A;if(M.cmd==="publish"){M=(0,n.default)(A);let q=this._removeTopicAliasAndRecoverTopicName(M);if(q)return E&&E(q)}let C=M.qos||0;C===0&&this.queueQoSZero||M.cmd!=="publish"?this.queue.push({packet:M,cb:E}):C>0?(E=this.outgoing[M.messageId]?this.outgoing[M.messageId].cb:null,this.outgoingStore.put(M,q=>{if(q)return E&&E(q);T()})):E&&E(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new m.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(A=!1){this.keepaliveManager&&this.options.keepalive&&(A||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let A=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&A.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let E=0;E<A.length;E++){let T={};T[A[E]]=this._resubscribeTopics[A[E]],T.resubscribe=!0,this.subscribe(T,{properties:T[A[E]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(A){if(this.disconnected){this.emit("connect",A);return}this.connackPacket=A,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let E=()=>{let T=this.outgoingStore.createStream(),M=()=>{T.destroy(),T=null,this._flushStoreProcessingQueue(),C()},C=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",M),T.on("error",k=>{C(),this._flushStoreProcessingQueue(),this.removeListener("close",M),this.emit("error",k)});let q=()=>{if(!T)return;let k=T.read(1),P;if(!k){T.once("readable",q);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[k.messageId]){q();return}!this.disconnecting&&!this.reconnectTimer?(P=this.outgoing[k.messageId]?this.outgoing[k.messageId].cb:null,this.outgoing[k.messageId]={volatile:!1,cb(j,B){P&&P(j,B),q()}},this._packetIdsDuringStoreProcessing[k.messageId]=!0,this.messageIdProvider.register(k.messageId)?this._sendPacket(k,void 0,void 0,!0):this.log("messageId: %d has already used.",k.messageId)):T.destroy&&T.destroy()};T.on("end",()=>{let k=!0;for(let P in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[P]){k=!1;break}this.removeListener("close",M),k?(C(),this._invokeAllStoreProcessingQueue(),this.emit("connect",A)):E()}),q()};E()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let A=this._storeProcessingQueue[0];if(A&&A.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let A of this._storeProcessingQueue)A.cbStorePut&&A.cbStorePut(new Error("Connection closed")),A.callback&&A.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(A,E){delete this.outgoing[A],this.outgoingStore.del({messageId:A},(T,M)=>{E(T,M),this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue()})}};c.default=I}),Nu=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=xa(),s=class{numberAllocator;lastId;constructor(){this.numberAllocator=new p.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(o){return this.numberAllocator.use(o)}deallocate(o){this.numberAllocator.free(o)}clear(){this.numberAllocator.clear()}};c.default=s});function Bu(){if(di)return yr;di=!0;let c=2147483647,p=36,s=1,o=26,l=38,t=700,r=72,n=128,e="-",i=/^xn--/,a=/[^\0-\x7F]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=p-s,f=Math.floor,y=String.fromCharCode;function m(C){throw new RangeError(d[C])}function S(C,q){let k=[],P=C.length;for(;P--;)k[P]=q(C[P]);return k}function g(C,q){let k=C.split("@"),P="";k.length>1&&(P=k[0]+"@",C=k[1]),C=C.replace(h,".");let j=C.split("."),B=S(j,q).join(".");return P+B}function _(C){let q=[],k=0,P=C.length;for(;k<P;){let j=C.charCodeAt(k++);if(j>=55296&&j<=56319&&k<P){let B=C.charCodeAt(k++);(B&64512)==56320?q.push(((j&1023)<<10)+(B&1023)+65536):(q.push(j),k--)}else q.push(j)}return q}let I=C=>String.fromCodePoint(...C),v=function(C){return C>=48&&C<58?26+(C-48):C>=65&&C<91?C-65:C>=97&&C<123?C-97:p},A=function(C,q){return C+22+75*(C<26)-((q!=0)<<5)},E=function(C,q,k){let P=0;for(C=k?f(C/t):C>>1,C+=f(C/q);C>b*o>>1;P+=p)C=f(C/b);return f(P+(b+1)*C/(C+l))},T=function(C){let q=[],k=C.length,P=0,j=n,B=r,ie=C.lastIndexOf(e);ie<0&&(ie=0);for(let F=0;F<ie;++F)C.charCodeAt(F)>=128&&m("not-basic"),q.push(C.charCodeAt(F));for(let F=ie>0?ie+1:0;F<k;){let D=P;for(let W=1,X=p;;X+=p){F>=k&&m("invalid-input");let R=v(C.charCodeAt(F++));R>=p&&m("invalid-input"),R>f((c-P)/W)&&m("overflow"),P+=R*W;let K=X<=B?s:X>=B+o?o:X-B;if(R<K)break;let le=p-K;W>f(c/le)&&m("overflow"),W*=le}let ee=q.length+1;B=E(P-D,ee,D==0),f(P/ee)>c-j&&m("overflow"),j+=f(P/ee),P%=ee,q.splice(P++,0,j)}return String.fromCodePoint(...q)},M=function(C){let q=[];C=_(C);let k=C.length,P=n,j=0,B=r;for(let D of C)D<128&&q.push(y(D));let ie=q.length,F=ie;for(ie&&q.push(e);F<k;){let D=c;for(let W of C)W>=P&&W<D&&(D=W);let ee=F+1;D-P>f((c-j)/ee)&&m("overflow"),j+=(D-P)*ee,P=D;for(let W of C)if(W<P&&++j>c&&m("overflow"),W===P){let X=j;for(let R=p;;R+=p){let K=R<=B?s:R>=B+o?o:R-B;if(X<K)break;let le=X-K,te=p-K;q.push(y(A(K+le%te,0))),X=f(le/te)}q.push(y(A(X,0))),B=E(j,ee,F===ie),j=0,++F}++j,++P}return q.join("")};return yr={version:"2.3.1",ucs2:{decode:_,encode:I},decode:T,encode:M,toASCII:function(C){return g(C,function(q){return a.test(q)?"xn--"+M(q):q})},toUnicode:function(C){return g(C,function(q){return i.test(q)?T(q.slice(4).toLowerCase()):q})}},yr}var yr,di,yt,Uu=ze(()=>{ue(),fe(),ce(),yr={},di=!1,yt=Bu(),yt.decode,yt.encode,yt.toASCII,yt.toUnicode,yt.ucs2,yt.version});function Lu(){return yi||(yi=!0,gi=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var c={},p=Symbol("test"),s=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var o=42;c[p]=o;for(p in c)return!1;if(typeof Object.keys=="function"&&Object.keys(c).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(c).length!==0)return!1;var l=Object.getOwnPropertySymbols(c);if(l.length!==1||l[0]!==p||!Object.prototype.propertyIsEnumerable.call(c,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var t=Object.getOwnPropertyDescriptor(c,p);if(t.value!==o||t.enumerable!==!0)return!1}return!0}),gi}function Du(){return mi||(mi=!0,bi=Error),bi}function Fu(){return wi||(wi=!0,vi=EvalError),vi}function Wu(){return Si||(Si=!0,_i=RangeError),_i}function qu(){return Ai||(Ai=!0,Ei=ReferenceError),Ei}function Na(){return xi||(xi=!0,Ii=SyntaxError),Ii}function sr(){return Ti||(Ti=!0,ki=TypeError),ki}function $u(){return Pi||(Pi=!0,Oi=URIError),Oi}function zu(){if(Ri)return br;Ri=!0;var c=typeof Symbol<"u"&&Symbol,p=Lu();return br=function(){return typeof c!="function"||typeof Symbol!="function"||typeof c("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:p()},br}function Hu(){if(Ci)return mr;Ci=!0;var c={__proto__:null,foo:{}},p=Object;return mr=function(){return{__proto__:c}.foo===c.foo&&!(c instanceof p)},mr}function Ku(){if(Mi)return vr;Mi=!0;var c="Function.prototype.bind called on incompatible ",p=Object.prototype.toString,s=Math.max,o="[object Function]",l=function(n,e){for(var i=[],a=0;a<n.length;a+=1)i[a]=n[a];for(var h=0;h<e.length;h+=1)i[h+n.length]=e[h];return i},t=function(n,e){for(var i=[],a=e,h=0;a<n.length;a+=1,h+=1)i[h]=n[a];return i},r=function(n,e){for(var i="",a=0;a<n.length;a+=1)i+=n[a],a+1<n.length&&(i+=e);return i};return vr=function(n){var e=this;if(typeof e!="function"||p.apply(e)!==o)throw new TypeError(c+e);for(var i=t(arguments,1),a,h=function(){if(this instanceof a){var m=e.apply(this,l(i,arguments));return Object(m)===m?m:this}return e.apply(n,l(i,arguments))},d=s(0,e.length-i.length),b=[],f=0;f<d;f++)b[f]="$"+f;if(a=Function("binder","return function ("+r(b,",")+"){ return binder.apply(this,arguments); }")(h),e.prototype){var y=function(){};y.prototype=e.prototype,a.prototype=new y,y.prototype=null}return a},vr}function co(){if(ji)return wr;ji=!0;var c=Ku();return wr=Function.prototype.bind||c,wr}function Vu(){if(Ni)return _r;Ni=!0;var c=Function.prototype.call,p=Object.prototype.hasOwnProperty,s=co();return _r=s.call(c,p),_r}function $t(){if(Bi)return Sr;Bi=!0;var c,p=Du(),s=Fu(),o=Wu(),l=qu(),t=Na(),r=sr(),n=$u(),e=Function,i=function(F){try{return e('"use strict"; return ('+F+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var h=function(){throw new r},d=a?(function(){try{return arguments.callee,h}catch{try{return a(arguments,"callee").get}catch{return h}}})():h,b=zu()(),f=Hu()(),y=Object.getPrototypeOf||(f?function(F){return F.__proto__}:null),m={},S=typeof Uint8Array>"u"||!y?c:y(Uint8Array),g={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?c:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?c:ArrayBuffer,"%ArrayIteratorPrototype%":b&&y?y([][Symbol.iterator]()):c,"%AsyncFromSyncIteratorPrototype%":c,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":typeof Atomics>"u"?c:Atomics,"%BigInt%":typeof BigInt>"u"?c:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?c:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?c:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?c:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":p,"%eval%":eval,"%EvalError%":s,"%Float32Array%":typeof Float32Array>"u"?c:Float32Array,"%Float64Array%":typeof Float64Array>"u"?c:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?c:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":m,"%Int8Array%":typeof Int8Array>"u"?c:Int8Array,"%Int16Array%":typeof Int16Array>"u"?c:Int16Array,"%Int32Array%":typeof Int32Array>"u"?c:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&y?y(y([][Symbol.iterator]())):c,"%JSON%":typeof JSON=="object"?JSON:c,"%Map%":typeof Map>"u"?c:Map,"%MapIteratorPrototype%":typeof Map>"u"||!b||!y?c:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?c:Promise,"%Proxy%":typeof Proxy>"u"?c:Proxy,"%RangeError%":o,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?c:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?c:Set,"%SetIteratorPrototype%":typeof Set>"u"||!b||!y?c:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?c:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&y?y(""[Symbol.iterator]()):c,"%Symbol%":b?Symbol:c,"%SyntaxError%":t,"%ThrowTypeError%":d,"%TypedArray%":S,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?c:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?c:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?c:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?c:Uint32Array,"%URIError%":n,"%WeakMap%":typeof WeakMap>"u"?c:WeakMap,"%WeakRef%":typeof WeakRef>"u"?c:WeakRef,"%WeakSet%":typeof WeakSet>"u"?c:WeakSet};if(y)try{null.error}catch(F){var _=y(y(F));g["%Error.prototype%"]=_}var I=function F(D){var ee;if(D==="%AsyncFunction%")ee=i("async function () {}");else if(D==="%GeneratorFunction%")ee=i("function* () {}");else if(D==="%AsyncGeneratorFunction%")ee=i("async function* () {}");else if(D==="%AsyncGenerator%"){var W=F("%AsyncGeneratorFunction%");W&&(ee=W.prototype)}else if(D==="%AsyncIteratorPrototype%"){var X=F("%AsyncGenerator%");X&&y&&(ee=y(X.prototype))}return g[D]=ee,ee},v={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=co(),E=Vu(),T=A.call(Function.call,Array.prototype.concat),M=A.call(Function.apply,Array.prototype.splice),C=A.call(Function.call,String.prototype.replace),q=A.call(Function.call,String.prototype.slice),k=A.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,B=function(F){var D=q(F,0,1),ee=q(F,-1);if(D==="%"&&ee!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(ee==="%"&&D!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var W=[];return C(F,P,function(X,R,K,le){W[W.length]=K?C(le,j,"$1"):R||X}),W},ie=function(F,D){var ee=F,W;if(E(v,ee)&&(W=v[ee],ee="%"+W[0]+"%"),E(g,ee)){var X=g[ee];if(X===m&&(X=I(ee)),typeof X>"u"&&!D)throw new r("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:W,name:ee,value:X}}throw new t("intrinsic "+F+" does not exist!")};return Sr=function(F,D){if(typeof F!="string"||F.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new r('"allowMissing" argument must be a boolean');if(k(/^%?[^%]*%?$/,F)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ee=B(F),W=ee.length>0?ee[0]:"",X=ie("%"+W+"%",D),R=X.name,K=X.value,le=!1,te=X.alias;te&&(W=te[0],M(ee,T([0,1],te)));for(var ve=1,V=!0;ve<ee.length;ve+=1){var N=ee[ve],ne=q(N,0,1),G=q(N,-1);if((ne==='"'||ne==="'"||ne==="`"||G==='"'||G==="'"||G==="`")&&ne!==G)throw new t("property names with quotes must have matching quotes");if((N==="constructor"||!V)&&(le=!0),W+="."+N,R="%"+W+"%",E(g,R))K=g[R];else if(K!=null){if(!(N in K)){if(!D)throw new r("base intrinsic for "+F+" exists, but the property is not available.");return}if(a&&ve+1>=ee.length){var Q=a(K,N);V=!!Q,V&&"get"in Q&&!("originalValue"in Q.get)?K=Q.get:K=K[N]}else V=E(K,N),K=K[N];V&&!le&&(g[R]=K)}}return K},Sr}function fo(){if(Ui)return Er;Ui=!0;var c=$t(),p=c("%Object.defineProperty%",!0)||!1;if(p)try{p({},"a",{value:1})}catch{p=!1}return Er=p,Er}function Ba(){if(Li)return Ar;Li=!0;var c=$t(),p=c("%Object.getOwnPropertyDescriptor%",!0);if(p)try{p([],"length")}catch{p=null}return Ar=p,Ar}function Gu(){if(Di)return Ir;Di=!0;var c=fo(),p=Na(),s=sr(),o=Ba();return Ir=function(l,t,r){if(!l||typeof l!="object"&&typeof l!="function")throw new s("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,e=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,h=!!o&&o(l,t);if(c)c(l,t,{configurable:i===null&&h?h.configurable:!i,enumerable:n===null&&h?h.enumerable:!n,value:r,writable:e===null&&h?h.writable:!e});else if(a||!n&&!e&&!i)l[t]=r;else throw new p("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ir}function Qu(){if(Fi)return xr;Fi=!0;var c=fo(),p=function(){return!!c};return p.hasArrayLengthDefineBug=function(){if(!c)return null;try{return c([],"length",{value:1}).length!==1}catch{return!0}},xr=p,xr}function Yu(){if(Wi)return kr;Wi=!0;var c=$t(),p=Gu(),s=Qu()(),o=Ba(),l=sr(),t=c("%Math.floor%");return kr=function(r,n){if(typeof r!="function")throw new l("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||t(n)!==n)throw new l("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in r&&o){var h=o(r,"length");h&&!h.configurable&&(i=!1),h&&!h.writable&&(a=!1)}return(i||a||!e)&&(s?p(r,"length",n,!0,!0):p(r,"length",n)),r},kr}function Ju(){if(qi)return Ut;qi=!0;var c=co(),p=$t(),s=Yu(),o=sr(),l=p("%Function.prototype.apply%"),t=p("%Function.prototype.call%"),r=p("%Reflect.apply%",!0)||c.call(t,l),n=fo(),e=p("%Math.max%");Ut=function(a){if(typeof a!="function")throw new o("a function is required");var h=r(c,t,arguments);return s(h,1+e(0,a.length-(arguments.length-1)),!0)};var i=function(){return r(c,l,arguments)};return n?n(Ut,"apply",{value:i}):Ut.apply=i,Ut}function Xu(){if($i)return Tr;$i=!0;var c=$t(),p=Ju(),s=p(c("String.prototype.indexOf"));return Tr=function(o,l){var t=c(o,!!l);return typeof t=="function"&&s(o,".prototype.")>-1?p(t):t},Tr}var gi,yi,bi,mi,vi,wi,_i,Si,Ei,Ai,Ii,xi,ki,Ti,Oi,Pi,br,Ri,mr,Ci,vr,Mi,wr,ji,_r,Ni,Sr,Bi,Er,Ui,Ar,Li,Ir,Di,xr,Fi,kr,Wi,Ut,qi,Tr,$i,Zu=ze(()=>{ue(),fe(),ce(),gi={},yi=!1,bi={},mi=!1,vi={},wi=!1,_i={},Si=!1,Ei={},Ai=!1,Ii={},xi=!1,ki={},Ti=!1,Oi={},Pi=!1,br={},Ri=!1,mr={},Ci=!1,vr={},Mi=!1,wr={},ji=!1,_r={},Ni=!1,Sr={},Bi=!1,Er={},Ui=!1,Ar={},Li=!1,Ir={},Di=!1,xr={},Fi=!1,kr={},Wi=!1,Ut={},qi=!1,Tr={},$i=!1});function ho(c){throw new Error("Node.js process "+c+" is not supported by JSPM core outside of Node.js")}function ec(){!kt||!It||(kt=!1,It.length?et=It.concat(et):tr=-1,et.length&&Ua())}function Ua(){if(!kt){var c=setTimeout(ec,0);kt=!0;for(var p=et.length;p;){for(It=et,et=[];++tr<p;)It&&It[tr].run();tr=-1,p=et.length}It=null,kt=!1,clearTimeout(c)}}function tc(c){var p=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)p[s-1]=arguments[s];et.push(new La(c,p)),et.length===1&&!kt&&setTimeout(Ua,0)}function La(c,p){this.fun=c,this.array=p}function De(){}function rc(c){ho("_linkedBinding")}function nc(c){ho("dlopen")}function ic(){return[]}function oc(){return[]}function sc(c,p){if(!c)throw new Error(p||"assertion error")}function ac(){return!1}function lc(){return ot.now()/1e3}function Zr(c){var p=Math.floor((Date.now()-ot.now())*.001),s=ot.now()*.001,o=Math.floor(s)+p,l=Math.floor(s%1*1e9);return c&&(o=o-c[0],l=l-c[1],l<0&&(o--,l+=Or)),[o,l]}function dt(){return po}function uc(c){return[]}var et,kt,It,tr,vo,wo,_o,So,Eo,Ao,Io,xo,ko,To,Oo,Po,Ro,Co,Mo,jo,No,Bo,Uo,Lo,Do,ur,Fo,Wo,qo,$o,zo,Ho,Ko,Vo,Go,Qo,Yo,Jo,Xo,Zo,es,ts,rs,ns,is,os,ss,as,ls,us,cs,ot,en,Or,fs,hs,ps,ds,gs,ys,bs,ms,vs,ws,_s,po,Da=ze(()=>{ue(),fe(),ce(),et=[],kt=!1,tr=-1,La.prototype.run=function(){this.fun.apply(null,this.array)},vo="browser",wo="x64",_o="browser",So={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Eo=["/usr/bin/node"],Ao=[],Io="v16.8.0",xo={},ko=function(c,p){console.warn((p?p+": ":"")+c)},To=function(c){ho("binding")},Oo=function(c){return 0},Po=function(){return"/"},Ro=function(c){},Co={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Mo=De,jo=[],No={},Bo=!1,Uo={},Lo=De,Do=De,ur=function(){return{}},Fo=ur,Wo=ur,qo=De,$o=De,zo=De,Ho={},Ko={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Vo=De,Go=De,Qo=De,Yo=De,Jo=De,Xo=De,Zo=De,es=void 0,ts=void 0,rs=void 0,ns=De,is=2,os=1,ss="/bin/usr/node",as=9229,ls="node",us=[],cs=De,ot={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ot.now===void 0&&(en=Date.now(),ot.timing&&ot.timing.navigationStart&&(en=ot.timing.navigationStart),ot.now=()=>Date.now()-en),Or=1e9,Zr.bigint=function(c){var p=Zr(c);return typeof BigInt>"u"?p[0]*Or+p[1]:BigInt(p[0]*Or)+BigInt(p[1])},fs=10,hs={},ps=0,ds=dt,gs=dt,ys=dt,bs=dt,ms=dt,vs=De,ws=dt,_s=dt,po={version:Io,versions:xo,arch:wo,platform:_o,release:Co,_rawDebug:Mo,moduleLoadList:jo,binding:To,_linkedBinding:rc,_events:hs,_eventsCount:ps,_maxListeners:fs,on:dt,addListener:ds,once:gs,off:ys,removeListener:bs,removeAllListeners:ms,emit:vs,prependListener:ws,prependOnceListener:_s,listeners:uc,domain:No,_exiting:Bo,config:Uo,dlopen:nc,uptime:lc,_getActiveRequests:ic,_getActiveHandles:oc,reallyExit:Lo,_kill:Do,cpuUsage:ur,resourceUsage:Fo,memoryUsage:Wo,kill:qo,exit:$o,openStdin:zo,allowedNodeEnvironmentFlags:Ho,assert:sc,features:Ko,_fatalExceptions:Vo,setUncaughtExceptionCaptureCallback:Go,hasUncaughtExceptionCaptureCallback:ac,emitWarning:ko,nextTick:tc,_tickCallback:Qo,_debugProcess:Yo,_debugEnd:Jo,_startProfilerIdleNotifier:Xo,_stopProfilerIdleNotifier:Zo,stdout:es,stdin:rs,stderr:ts,abort:ns,umask:Oo,chdir:Ro,cwd:Po,env:So,title:vo,argv:Eo,execArgv:Ao,pid:is,ppid:os,execPath:ss,debugPort:as,hrtime:Zr,argv0:ls,_preload_modules:us,setSourceMapsEnabled:cs}});function cc(){if(zi)return Pr;zi=!0;var c=po;function p(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function s(t,r){for(var n="",e=0,i=-1,a=0,h,d=0;d<=t.length;++d){if(d<t.length)h=t.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(i===d-1||a===1))if(i!==d-1&&a===2){if(n.length<2||e!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var b=n.lastIndexOf("/");if(b!==n.length-1){b===-1?(n="",e=0):(n=n.slice(0,b),e=n.length-1-n.lastIndexOf("/")),i=d,a=0;continue}}else if(n.length===2||n.length===1){n="",e=0,i=d,a=0;continue}}r&&(n.length>0?n+="/..":n="..",e=2)}else n.length>0?n+="/"+t.slice(i+1,d):n=t.slice(i+1,d),e=d-i-1;i=d,a=0}else h===46&&a!==-1?++a:a=-1}return n}function o(t,r){var n=r.dir||r.root,e=r.base||(r.name||"")+(r.ext||"");return n?n===r.root?n+e:n+t+e:e}var l={resolve:function(){for(var t="",r=!1,n,e=arguments.length-1;e>=-1&&!r;e--){var i;e>=0?i=arguments[e]:(n===void 0&&(n=c.cwd()),i=n),p(i),i.length!==0&&(t=i+"/"+t,r=i.charCodeAt(0)===47)}return t=s(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(p(t),t.length===0)return".";var r=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=s(t,!r),t.length===0&&!r&&(t="."),t.length>0&&n&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return p(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];p(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":l.normalize(t)},relative:function(t,r){if(p(t),p(r),t===r||(t=l.resolve(t),r=l.resolve(r),t===r))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var e=t.length,i=e-n,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var h=r.length,d=h-a,b=i<d?i:d,f=-1,y=0;y<=b;++y){if(y===b){if(d>b){if(r.charCodeAt(a+y)===47)return r.slice(a+y+1);if(y===0)return r.slice(a+y)}else i>b&&(t.charCodeAt(n+y)===47?f=y:y===0&&(f=0));break}var m=t.charCodeAt(n+y),S=r.charCodeAt(a+y);if(m!==S)break;m===47&&(f=y)}var g="";for(y=n+f+1;y<=e;++y)(y===e||t.charCodeAt(y)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+r.slice(a+f):(a+=f,r.charCodeAt(a)===47&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(p(t),t.length===0)return".";for(var r=t.charCodeAt(0),n=r===47,e=-1,i=!0,a=t.length-1;a>=1;--a)if(r=t.charCodeAt(a),r===47){if(!i){e=a;break}}else i=!1;return e===-1?n?"/":".":n&&e===1?"//":t.slice(0,e)},basename:function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');p(t);var n=0,e=-1,i=!0,a;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var h=r.length-1,d=-1;for(a=t.length-1;a>=0;--a){var b=t.charCodeAt(a);if(b===47){if(!i){n=a+1;break}}else d===-1&&(i=!1,d=a+1),h>=0&&(b===r.charCodeAt(h)?--h===-1&&(e=a):(h=-1,e=d))}return n===e?e=d:e===-1&&(e=t.length),t.slice(n,e)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!i){n=a+1;break}}else e===-1&&(i=!1,e=a+1);return e===-1?"":t.slice(n,e)}},extname:function(t){p(t);for(var r=-1,n=0,e=-1,i=!0,a=0,h=t.length-1;h>=0;--h){var d=t.charCodeAt(h);if(d===47){if(!i){n=h+1;break}continue}e===-1&&(i=!1,e=h+1),d===46?r===-1?r=h:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||e===-1||a===0||a===1&&r===e-1&&r===n+1?"":t.slice(r,e)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return o("/",t)},parse:function(t){p(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var n=t.charCodeAt(0),e=n===47,i;e?(r.root="/",i=1):i=0;for(var a=-1,h=0,d=-1,b=!0,f=t.length-1,y=0;f>=i;--f){if(n=t.charCodeAt(f),n===47){if(!b){h=f+1;break}continue}d===-1&&(b=!1,d=f+1),n===46?a===-1?a=f:y!==1&&(y=1):a!==-1&&(y=-1)}return a===-1||d===-1||y===0||y===1&&a===d-1&&a===h+1?d!==-1&&(h===0&&e?r.base=r.name=t.slice(1,d):r.base=r.name=t.slice(h,d)):(h===0&&e?(r.name=t.slice(1,a),r.base=t.slice(1,d)):(r.name=t.slice(h,a),r.base=t.slice(h,d)),r.ext=t.slice(a,d)),h>0?r.dir=t.slice(0,h-1):e&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return l.posix=l,Pr=l,Pr}var Pr,zi,Hi,fc=ze(()=>{ue(),fe(),ce(),Da(),Pr={},zi=!1,Hi=cc()}),Fa={};Ft(Fa,{URL:()=>Ya,Url:()=>Ha,default:()=>Fe,fileURLToPath:()=>qa,format:()=>Ka,parse:()=>Qa,pathToFileURL:()=>$a,resolve:()=>Va,resolveObject:()=>Ga});function hc(){if(Ki)return Rr;Ki=!0;var c=typeof Map=="function"&&Map.prototype,p=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=c&&p&&typeof p.get=="function"?p.get:null,o=c&&Map.prototype.forEach,l=typeof Set=="function"&&Set.prototype,t=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,r=l&&t&&typeof t.get=="function"?t.get:null,n=l&&Set.prototype.forEach,e=typeof WeakMap=="function"&&WeakMap.prototype,i=e?WeakMap.prototype.has:null,a=typeof WeakSet=="function"&&WeakSet.prototype,h=a?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,b=d?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,y=Object.prototype.toString,m=Function.prototype.toString,S=String.prototype.match,g=String.prototype.slice,_=String.prototype.replace,I=String.prototype.toUpperCase,v=String.prototype.toLowerCase,A=RegExp.prototype.test,E=Array.prototype.concat,T=Array.prototype.join,M=Array.prototype.slice,C=Math.floor,q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,j=typeof Symbol=="function"&&typeof Symbol.iterator=="object",B=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===j||!0)?Symbol.toStringTag:null,ie=Object.prototype.propertyIsEnumerable,F=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Y){return Y.__proto__}:null);function D(Y,oe){if(Y===1/0||Y===-1/0||Y!==Y||Y&&Y>-1e3&&Y<1e3||A.call(/e/,oe))return oe;var Ie=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Y=="number"){var xe=Y<0?-C(-Y):C(Y);if(xe!==Y){var ke=String(xe),Oe=g.call(oe,ke.length+1);return _.call(ke,Ie,"$&_")+"."+_.call(_.call(Oe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(oe,Ie,"$&_")}var ee=za,W=ee.custom,X=Q(W)?W:null;Rr=function Y(oe,Ie,xe,ke){var Oe=Ie||{};if(se(Oe,"quoteStyle")&&Oe.quoteStyle!=="single"&&Oe.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(se(Oe,"maxStringLength")&&(typeof Oe.maxStringLength=="number"?Oe.maxStringLength<0&&Oe.maxStringLength!==1/0:Oe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ve=se(Oe,"customInspect")?Oe.customInspect:!0;if(typeof Ve!="boolean"&&Ve!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(se(Oe,"indent")&&Oe.indent!==null&&Oe.indent!=="	"&&!(parseInt(Oe.indent,10)===Oe.indent&&Oe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(se(Oe,"numericSeparator")&&typeof Oe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ge=Oe.numericSeparator;if(typeof oe>"u")return"undefined";if(oe===null)return"null";if(typeof oe=="boolean")return oe?"true":"false";if(typeof oe=="string")return ae(oe,Oe);if(typeof oe=="number"){if(oe===0)return 1/0/oe>0?"0":"-0";var Ue=String(oe);return Ge?D(oe,Ue):Ue}if(typeof oe=="bigint"){var Qe=String(oe)+"n";return Ge?D(oe,Qe):Qe}var Rt=typeof Oe.depth>"u"?5:Oe.depth;if(typeof xe>"u"&&(xe=0),xe>=Rt&&Rt>0&&typeof oe=="object")return le(oe)?"[Array]":"[Object]";var Ye=Z(Oe,xe);if(typeof ke>"u")ke=[];else if(re(ke,oe)>=0)return"[Circular]";function He(Je,pt,_t){if(pt&&(ke=M.call(ke),ke.push(pt)),_t){var Xe={depth:Oe.depth};return se(Oe,"quoteStyle")&&(Xe.quoteStyle=Oe.quoteStyle),Y(Je,Xe,xe+1,ke)}return Y(Je,Oe,xe+1,ke)}if(typeof oe=="function"&&!ve(oe)){var ar=z(oe),Ct=Se(oe,He);return"[Function"+(ar?": "+ar:" (anonymous)")+"]"+(Ct.length>0?" { "+T.call(Ct,", ")+" }":"")}if(Q(oe)){var zt=j?_.call(String(oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(oe);return typeof oe=="object"&&!j?u(zt):zt}if(we(oe)){for(var O="<"+v.call(String(oe.nodeName)),L=oe.attributes||[],_e=0;_e<L.length;_e++)O+=" "+L[_e].name+"="+R(K(L[_e].value),"double",Oe);return O+=">",oe.childNodes&&oe.childNodes.length&&(O+="..."),O+="</"+v.call(String(oe.nodeName))+">",O}if(le(oe)){if(oe.length===0)return"[]";var Ee=Se(oe,He);return Ye&&!$(Ee)?"["+he(Ee,Ye)+"]":"[ "+T.call(Ee,", ")+" ]"}if(V(oe)){var Ae=Se(oe,He);return!("cause"in Error.prototype)&&"cause"in oe&&!ie.call(oe,"cause")?"{ ["+String(oe)+"] "+T.call(E.call("[cause]: "+He(oe.cause),Ae),", ")+" }":Ae.length===0?"["+String(oe)+"]":"{ ["+String(oe)+"] "+T.call(Ae,", ")+" }"}if(typeof oe=="object"&&Ve){if(X&&typeof oe[X]=="function"&&ee)return ee(oe,{depth:Rt-xe});if(Ve!=="symbol"&&typeof oe.inspect=="function")return oe.inspect()}if(pe(oe)){var je=[];return o&&o.call(oe,function(Je,pt){je.push(He(pt,oe,!0)+" => "+He(Je,oe))}),x("Map",s.call(oe),je,Ye)}if(H(oe)){var We=[];return n&&n.call(oe,function(Je){We.push(He(Je,oe))}),x("Set",r.call(oe),We,Ye)}if(de(oe))return w("WeakMap");if(ye(oe))return w("WeakSet");if(me(oe))return w("WeakRef");if(ne(oe))return u(He(Number(oe)));if(J(oe))return u(He(q.call(oe)));if(G(oe))return u(f.call(oe));if(N(oe))return u(He(String(oe)));if(typeof window<"u"&&oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&oe===globalThis||typeof Cr<"u"&&oe===Cr)return"{ [object globalThis] }";if(!te(oe)&&!ve(oe)){var Ke=Se(oe,He),Ht=F?F(oe)===Object.prototype:oe instanceof Object||oe.constructor===Object,Kt=oe instanceof Object?"":"null prototype",Vt=!Ht&&B&&Object(oe)===oe&&B in oe?g.call(U(oe),8,-1):Kt?"Object":"",lr=Ht||typeof oe.constructor!="function"?"":oe.constructor.name?oe.constructor.name+" ":"",wt=lr+(Vt||Kt?"["+T.call(E.call([],Vt||[],Kt||[]),": ")+"] ":"");return Ke.length===0?wt+"{}":Ye?wt+"{"+he(Ke,Ye)+"}":wt+"{ "+T.call(Ke,", ")+" }"}return String(oe)};function R(Y,oe,Ie){var xe=(Ie.quoteStyle||oe)==="double"?'"':"'";return xe+Y+xe}function K(Y){return _.call(String(Y),/"/g,"&quot;")}function le(Y){return U(Y)==="[object Array]"&&(!B||!(typeof Y=="object"&&B in Y))}function te(Y){return U(Y)==="[object Date]"&&(!B||!(typeof Y=="object"&&B in Y))}function ve(Y){return U(Y)==="[object RegExp]"&&(!B||!(typeof Y=="object"&&B in Y))}function V(Y){return U(Y)==="[object Error]"&&(!B||!(typeof Y=="object"&&B in Y))}function N(Y){return U(Y)==="[object String]"&&(!B||!(typeof Y=="object"&&B in Y))}function ne(Y){return U(Y)==="[object Number]"&&(!B||!(typeof Y=="object"&&B in Y))}function G(Y){return U(Y)==="[object Boolean]"&&(!B||!(typeof Y=="object"&&B in Y))}function Q(Y){if(j)return Y&&typeof Y=="object"&&Y instanceof Symbol;if(typeof Y=="symbol")return!0;if(!Y||typeof Y!="object"||!P)return!1;try{return P.call(Y),!0}catch{}return!1}function J(Y){if(!Y||typeof Y!="object"||!q)return!1;try{return q.call(Y),!0}catch{}return!1}var be=Object.prototype.hasOwnProperty||function(Y){return Y in(this||Cr)};function se(Y,oe){return be.call(Y,oe)}function U(Y){return y.call(Y)}function z(Y){if(Y.name)return Y.name;var oe=S.call(m.call(Y),/^function\s*([\w$]+)/);return oe?oe[1]:null}function re(Y,oe){if(Y.indexOf)return Y.indexOf(oe);for(var Ie=0,xe=Y.length;Ie<xe;Ie++)if(Y[Ie]===oe)return Ie;return-1}function pe(Y){if(!s||!Y||typeof Y!="object")return!1;try{s.call(Y);try{r.call(Y)}catch{return!0}return Y instanceof Map}catch{}return!1}function de(Y){if(!i||!Y||typeof Y!="object")return!1;try{i.call(Y,i);try{h.call(Y,h)}catch{return!0}return Y instanceof WeakMap}catch{}return!1}function me(Y){if(!b||!Y||typeof Y!="object")return!1;try{return b.call(Y),!0}catch{}return!1}function H(Y){if(!r||!Y||typeof Y!="object")return!1;try{r.call(Y);try{s.call(Y)}catch{return!0}return Y instanceof Set}catch{}return!1}function ye(Y){if(!h||!Y||typeof Y!="object")return!1;try{h.call(Y,h);try{i.call(Y,i)}catch{return!0}return Y instanceof WeakSet}catch{}return!1}function we(Y){return!Y||typeof Y!="object"?!1:typeof HTMLElement<"u"&&Y instanceof HTMLElement?!0:typeof Y.nodeName=="string"&&typeof Y.getAttribute=="function"}function ae(Y,oe){if(Y.length>oe.maxStringLength){var Ie=Y.length-oe.maxStringLength,xe="... "+Ie+" more character"+(Ie>1?"s":"");return ae(g.call(Y,0,oe.maxStringLength),oe)+xe}var ke=_.call(_.call(Y,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Te);return R(ke,"single",oe)}function Te(Y){var oe=Y.charCodeAt(0),Ie={8:"b",9:"t",10:"n",12:"f",13:"r"}[oe];return Ie?"\\"+Ie:"\\x"+(oe<16?"0":"")+I.call(oe.toString(16))}function u(Y){return"Object("+Y+")"}function w(Y){return Y+" { ? }"}function x(Y,oe,Ie,xe){var ke=xe?he(Ie,xe):T.call(Ie,", ");return Y+" ("+oe+") {"+ke+"}"}function $(Y){for(var oe=0;oe<Y.length;oe++)if(re(Y[oe],`
`)>=0)return!1;return!0}function Z(Y,oe){var Ie;if(Y.indent==="	")Ie="	";else if(typeof Y.indent=="number"&&Y.indent>0)Ie=T.call(Array(Y.indent+1)," ");else return null;return{base:Ie,prev:T.call(Array(oe+1),Ie)}}function he(Y,oe){if(Y.length===0)return"";var Ie=`
`+oe.prev+oe.base;return Ie+T.call(Y,","+Ie)+`
`+oe.prev}function Se(Y,oe){var Ie=le(Y),xe=[];if(Ie){xe.length=Y.length;for(var ke=0;ke<Y.length;ke++)xe[ke]=se(Y,ke)?oe(Y[ke],Y):""}var Oe=typeof k=="function"?k(Y):[],Ve;if(j){Ve={};for(var Ge=0;Ge<Oe.length;Ge++)Ve["$"+Oe[Ge]]=Oe[Ge]}for(var Ue in Y)se(Y,Ue)&&(Ie&&String(Number(Ue))===Ue&&Ue<Y.length||j&&Ve["$"+Ue]instanceof Symbol||(A.call(/[^\w$]/,Ue)?xe.push(oe(Ue,Y)+": "+oe(Y[Ue],Y)):xe.push(Ue+": "+oe(Y[Ue],Y))));if(typeof k=="function")for(var Qe=0;Qe<Oe.length;Qe++)ie.call(Y,Oe[Qe])&&xe.push("["+oe(Oe[Qe])+"]: "+oe(Y[Oe[Qe]],Y));return xe}return Rr}function pc(){if(Vi)return Mr;Vi=!0;var c=$t(),p=Xu(),s=hc(),o=sr(),l=c("%WeakMap%",!0),t=c("%Map%",!0),r=p("WeakMap.prototype.get",!0),n=p("WeakMap.prototype.set",!0),e=p("WeakMap.prototype.has",!0),i=p("Map.prototype.get",!0),a=p("Map.prototype.set",!0),h=p("Map.prototype.has",!0),d=function(m,S){for(var g=m,_;(_=g.next)!==null;g=_)if(_.key===S)return g.next=_.next,_.next=m.next,m.next=_,_},b=function(m,S){var g=d(m,S);return g&&g.value},f=function(m,S,g){var _=d(m,S);_?_.value=g:m.next={key:S,next:m.next,value:g}},y=function(m,S){return!!d(m,S)};return Mr=function(){var m,S,g,_={assert:function(I){if(!_.has(I))throw new o("Side channel does not contain "+s(I))},get:function(I){if(l&&I&&(typeof I=="object"||typeof I=="function")){if(m)return r(m,I)}else if(t){if(S)return i(S,I)}else if(g)return b(g,I)},has:function(I){if(l&&I&&(typeof I=="object"||typeof I=="function")){if(m)return e(m,I)}else if(t){if(S)return h(S,I)}else if(g)return y(g,I);return!1},set:function(I,v){l&&I&&(typeof I=="object"||typeof I=="function")?(m||(m=new l),n(m,I,v)):t?(S||(S=new t),a(S,I,v)):(g||(g={key:{},next:null}),f(g,I,v))}};return _},Mr}function go(){if(Gi)return jr;Gi=!0;var c=String.prototype.replace,p=/%20/g,s={RFC1738:"RFC1738",RFC3986:"RFC3986"};return jr={default:s.RFC3986,formatters:{RFC1738:function(o){return c.call(o,p,"+")},RFC3986:function(o){return String(o)}},RFC1738:s.RFC1738,RFC3986:s.RFC3986},jr}function Wa(){if(Qi)return Nr;Qi=!0;var c=go(),p=Object.prototype.hasOwnProperty,s=Array.isArray,o=(function(){for(var m=[],S=0;S<256;++S)m.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return m})(),l=function(m){for(;m.length>1;){var S=m.pop(),g=S.obj[S.prop];if(s(g)){for(var _=[],I=0;I<g.length;++I)typeof g[I]<"u"&&_.push(g[I]);S.obj[S.prop]=_}}},t=function(m,S){for(var g=S&&S.plainObjects?Object.create(null):{},_=0;_<m.length;++_)typeof m[_]<"u"&&(g[_]=m[_]);return g},r=function m(S,g,_){if(!g)return S;if(typeof g!="object"){if(s(S))S.push(g);else if(S&&typeof S=="object")(_&&(_.plainObjects||_.allowPrototypes)||!p.call(Object.prototype,g))&&(S[g]=!0);else return[S,g];return S}if(!S||typeof S!="object")return[S].concat(g);var I=S;return s(S)&&!s(g)&&(I=t(S,_)),s(S)&&s(g)?(g.forEach(function(v,A){if(p.call(S,A)){var E=S[A];E&&typeof E=="object"&&v&&typeof v=="object"?S[A]=m(E,v,_):S.push(v)}else S[A]=v}),S):Object.keys(g).reduce(function(v,A){var E=g[A];return p.call(v,A)?v[A]=m(v[A],E,_):v[A]=E,v},I)},n=function(m,S){return Object.keys(S).reduce(function(g,_){return g[_]=S[_],g},m)},e=function(m,S,g){var _=m.replace(/\+/g," ");if(g==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},i=1024,a=function(m,S,g,_,I){if(m.length===0)return m;var v=m;if(typeof m=="symbol"?v=Symbol.prototype.toString.call(m):typeof m!="string"&&(v=String(m)),g==="iso-8859-1")return escape(v).replace(/%u[0-9a-f]{4}/gi,function(k){return"%26%23"+parseInt(k.slice(2),16)+"%3B"});for(var A="",E=0;E<v.length;E+=i){for(var T=v.length>=i?v.slice(E,E+i):v,M=[],C=0;C<T.length;++C){var q=T.charCodeAt(C);if(q===45||q===46||q===95||q===126||q>=48&&q<=57||q>=65&&q<=90||q>=97&&q<=122||I===c.RFC1738&&(q===40||q===41)){M[M.length]=T.charAt(C);continue}if(q<128){M[M.length]=o[q];continue}if(q<2048){M[M.length]=o[192|q>>6]+o[128|q&63];continue}if(q<55296||q>=57344){M[M.length]=o[224|q>>12]+o[128|q>>6&63]+o[128|q&63];continue}C+=1,q=65536+((q&1023)<<10|T.charCodeAt(C)&1023),M[M.length]=o[240|q>>18]+o[128|q>>12&63]+o[128|q>>6&63]+o[128|q&63]}A+=M.join("")}return A},h=function(m){for(var S=[{obj:{o:m},prop:"o"}],g=[],_=0;_<S.length;++_)for(var I=S[_],v=I.obj[I.prop],A=Object.keys(v),E=0;E<A.length;++E){var T=A[E],M=v[T];typeof M=="object"&&M!==null&&g.indexOf(M)===-1&&(S.push({obj:v,prop:T}),g.push(M))}return l(S),m},d=function(m){return Object.prototype.toString.call(m)==="[object RegExp]"},b=function(m){return!m||typeof m!="object"?!1:!!(m.constructor&&m.constructor.isBuffer&&m.constructor.isBuffer(m))},f=function(m,S){return[].concat(m,S)},y=function(m,S){if(s(m)){for(var g=[],_=0;_<m.length;_+=1)g.push(S(m[_]));return g}return S(m)};return Nr={arrayToObject:t,assign:n,combine:f,compact:h,decode:e,encode:a,isBuffer:b,isRegExp:d,maybeMap:y,merge:r},Nr}function dc(){if(Yi)return Br;Yi=!0;var c=pc(),p=Wa(),s=go(),o=Object.prototype.hasOwnProperty,l={brackets:function(y){return y+"[]"},comma:"comma",indices:function(y,m){return y+"["+m+"]"},repeat:function(y){return y}},t=Array.isArray,r=Array.prototype.push,n=function(y,m){r.apply(y,t(m)?m:[m])},e=Date.prototype.toISOString,i=s.default,a={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:p.encode,encodeValuesOnly:!1,format:i,formatter:s.formatters[i],indices:!1,serializeDate:function(y){return e.call(y)},skipNulls:!1,strictNullHandling:!1},h=function(y){return typeof y=="string"||typeof y=="number"||typeof y=="boolean"||typeof y=="symbol"||typeof y=="bigint"},d={},b=function y(m,S,g,_,I,v,A,E,T,M,C,q,k,P,j,B,ie,F){for(var D=m,ee=F,W=0,X=!1;(ee=ee.get(d))!==void 0&&!X;){var R=ee.get(m);if(W+=1,typeof R<"u"){if(R===W)throw new RangeError("Cyclic object value");X=!0}typeof ee.get(d)>"u"&&(W=0)}if(typeof M=="function"?D=M(S,D):D instanceof Date?D=k(D):g==="comma"&&t(D)&&(D=p.maybeMap(D,function(U){return U instanceof Date?k(U):U})),D===null){if(v)return T&&!B?T(S,a.encoder,ie,"key",P):S;D=""}if(h(D)||p.isBuffer(D)){if(T){var K=B?S:T(S,a.encoder,ie,"key",P);return[j(K)+"="+j(T(D,a.encoder,ie,"value",P))]}return[j(S)+"="+j(String(D))]}var le=[];if(typeof D>"u")return le;var te;if(g==="comma"&&t(D))B&&T&&(D=p.maybeMap(D,T)),te=[{value:D.length>0?D.join(",")||null:void 0}];else if(t(M))te=M;else{var ve=Object.keys(D);te=C?ve.sort(C):ve}var V=E?S.replace(/\./g,"%2E"):S,N=_&&t(D)&&D.length===1?V+"[]":V;if(I&&t(D)&&D.length===0)return N+"[]";for(var ne=0;ne<te.length;++ne){var G=te[ne],Q=typeof G=="object"&&typeof G.value<"u"?G.value:D[G];if(!(A&&Q===null)){var J=q&&E?G.replace(/\./g,"%2E"):G,be=t(D)?typeof g=="function"?g(N,J):N:N+(q?"."+J:"["+J+"]");F.set(m,W);var se=c();se.set(d,F),n(le,y(Q,be,g,_,I,v,A,E,g==="comma"&&B&&t(D)?null:T,M,C,q,k,P,j,B,ie,se))}}return le},f=function(y){if(!y)return a;if(typeof y.allowEmptyArrays<"u"&&typeof y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof y.encodeDotInKeys<"u"&&typeof y.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(y.encoder!==null&&typeof y.encoder<"u"&&typeof y.encoder!="function")throw new TypeError("Encoder has to be a function.");var m=y.charset||a.charset;if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var S=s.default;if(typeof y.format<"u"){if(!o.call(s.formatters,y.format))throw new TypeError("Unknown format option provided.");S=y.format}var g=s.formatters[S],_=a.filter;(typeof y.filter=="function"||t(y.filter))&&(_=y.filter);var I;if(y.arrayFormat in l?I=y.arrayFormat:"indices"in y?I=y.indices?"indices":"repeat":I=a.arrayFormat,"commaRoundTrip"in y&&typeof y.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v=typeof y.allowDots>"u"?y.encodeDotInKeys===!0?!0:a.allowDots:!!y.allowDots;return{addQueryPrefix:typeof y.addQueryPrefix=="boolean"?y.addQueryPrefix:a.addQueryPrefix,allowDots:v,allowEmptyArrays:typeof y.allowEmptyArrays=="boolean"?!!y.allowEmptyArrays:a.allowEmptyArrays,arrayFormat:I,charset:m,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:a.charsetSentinel,commaRoundTrip:y.commaRoundTrip,delimiter:typeof y.delimiter>"u"?a.delimiter:y.delimiter,encode:typeof y.encode=="boolean"?y.encode:a.encode,encodeDotInKeys:typeof y.encodeDotInKeys=="boolean"?y.encodeDotInKeys:a.encodeDotInKeys,encoder:typeof y.encoder=="function"?y.encoder:a.encoder,encodeValuesOnly:typeof y.encodeValuesOnly=="boolean"?y.encodeValuesOnly:a.encodeValuesOnly,filter:_,format:S,formatter:g,serializeDate:typeof y.serializeDate=="function"?y.serializeDate:a.serializeDate,skipNulls:typeof y.skipNulls=="boolean"?y.skipNulls:a.skipNulls,sort:typeof y.sort=="function"?y.sort:null,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:a.strictNullHandling}};return Br=function(y,m){var S=y,g=f(m),_,I;typeof g.filter=="function"?(I=g.filter,S=I("",S)):t(g.filter)&&(I=g.filter,_=I);var v=[];if(typeof S!="object"||S===null)return"";var A=l[g.arrayFormat],E=A==="comma"&&g.commaRoundTrip;_||(_=Object.keys(S)),g.sort&&_.sort(g.sort);for(var T=c(),M=0;M<_.length;++M){var C=_[M];g.skipNulls&&S[C]===null||n(v,b(S[C],C,A,E,g.allowEmptyArrays,g.strictNullHandling,g.skipNulls,g.encodeDotInKeys,g.encode?g.encoder:null,g.filter,g.sort,g.allowDots,g.serializeDate,g.format,g.formatter,g.encodeValuesOnly,g.charset,T))}var q=v.join(g.delimiter),k=g.addQueryPrefix===!0?"?":"";return g.charsetSentinel&&(g.charset==="iso-8859-1"?k+="utf8=%26%2310003%3B&":k+="utf8=%E2%9C%93&"),q.length>0?k+q:""},Br}function gc(){if(Ji)return Ur;Ji=!0;var c=Wa(),p=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:c.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},l=function(d){return d.replace(/&#(\d+);/g,function(b,f){return String.fromCharCode(parseInt(f,10))})},t=function(d,b){return d&&typeof d=="string"&&b.comma&&d.indexOf(",")>-1?d.split(","):d},r="utf8=%26%2310003%3B",n="utf8=%E2%9C%93",e=function(d,b){var f={__proto__:null},y=b.ignoreQueryPrefix?d.replace(/^\?/,""):d;y=y.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var m=b.parameterLimit===1/0?void 0:b.parameterLimit,S=y.split(b.delimiter,m),g=-1,_,I=b.charset;if(b.charsetSentinel)for(_=0;_<S.length;++_)S[_].indexOf("utf8=")===0&&(S[_]===n?I="utf-8":S[_]===r&&(I="iso-8859-1"),g=_,_=S.length);for(_=0;_<S.length;++_)if(_!==g){var v=S[_],A=v.indexOf("]="),E=A===-1?v.indexOf("="):A+1,T,M;E===-1?(T=b.decoder(v,o.decoder,I,"key"),M=b.strictNullHandling?null:""):(T=b.decoder(v.slice(0,E),o.decoder,I,"key"),M=c.maybeMap(t(v.slice(E+1),b),function(q){return b.decoder(q,o.decoder,I,"value")})),M&&b.interpretNumericEntities&&I==="iso-8859-1"&&(M=l(M)),v.indexOf("[]=")>-1&&(M=s(M)?[M]:M);var C=p.call(f,T);C&&b.duplicates==="combine"?f[T]=c.combine(f[T],M):(!C||b.duplicates==="last")&&(f[T]=M)}return f},i=function(d,b,f,y){for(var m=y?b:t(b,f),S=d.length-1;S>=0;--S){var g,_=d[S];if(_==="[]"&&f.parseArrays)g=f.allowEmptyArrays&&(m===""||f.strictNullHandling&&m===null)?[]:[].concat(m);else{g=f.plainObjects?Object.create(null):{};var I=_.charAt(0)==="["&&_.charAt(_.length-1)==="]"?_.slice(1,-1):_,v=f.decodeDotInKeys?I.replace(/%2E/g,"."):I,A=parseInt(v,10);!f.parseArrays&&v===""?g={0:m}:!isNaN(A)&&_!==v&&String(A)===v&&A>=0&&f.parseArrays&&A<=f.arrayLimit?(g=[],g[A]=m):v!=="__proto__"&&(g[v]=m)}m=g}return m},a=function(d,b,f,y){if(d){var m=f.allowDots?d.replace(/\.([^.[]+)/g,"[$1]"):d,S=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g,_=f.depth>0&&S.exec(m),I=_?m.slice(0,_.index):m,v=[];if(I){if(!f.plainObjects&&p.call(Object.prototype,I)&&!f.allowPrototypes)return;v.push(I)}for(var A=0;f.depth>0&&(_=g.exec(m))!==null&&A<f.depth;){if(A+=1,!f.plainObjects&&p.call(Object.prototype,_[1].slice(1,-1))&&!f.allowPrototypes)return;v.push(_[1])}if(_){if(f.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+f.depth+" and strictDepth is true");v.push("["+m.slice(_.index)+"]")}return i(v,b,f,y)}},h=function(d){if(!d)return o;if(typeof d.allowEmptyArrays<"u"&&typeof d.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof d.decodeDotInKeys<"u"&&typeof d.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(d.decoder!==null&&typeof d.decoder<"u"&&typeof d.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof d.charset<"u"&&d.charset!=="utf-8"&&d.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=typeof d.charset>"u"?o.charset:d.charset,f=typeof d.duplicates>"u"?o.duplicates:d.duplicates;if(f!=="combine"&&f!=="first"&&f!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var y=typeof d.allowDots>"u"?d.decodeDotInKeys===!0?!0:o.allowDots:!!d.allowDots;return{allowDots:y,allowEmptyArrays:typeof d.allowEmptyArrays=="boolean"?!!d.allowEmptyArrays:o.allowEmptyArrays,allowPrototypes:typeof d.allowPrototypes=="boolean"?d.allowPrototypes:o.allowPrototypes,allowSparse:typeof d.allowSparse=="boolean"?d.allowSparse:o.allowSparse,arrayLimit:typeof d.arrayLimit=="number"?d.arrayLimit:o.arrayLimit,charset:b,charsetSentinel:typeof d.charsetSentinel=="boolean"?d.charsetSentinel:o.charsetSentinel,comma:typeof d.comma=="boolean"?d.comma:o.comma,decodeDotInKeys:typeof d.decodeDotInKeys=="boolean"?d.decodeDotInKeys:o.decodeDotInKeys,decoder:typeof d.decoder=="function"?d.decoder:o.decoder,delimiter:typeof d.delimiter=="string"||c.isRegExp(d.delimiter)?d.delimiter:o.delimiter,depth:typeof d.depth=="number"||d.depth===!1?+d.depth:o.depth,duplicates:f,ignoreQueryPrefix:d.ignoreQueryPrefix===!0,interpretNumericEntities:typeof d.interpretNumericEntities=="boolean"?d.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:typeof d.parameterLimit=="number"?d.parameterLimit:o.parameterLimit,parseArrays:d.parseArrays!==!1,plainObjects:typeof d.plainObjects=="boolean"?d.plainObjects:o.plainObjects,strictDepth:typeof d.strictDepth=="boolean"?!!d.strictDepth:o.strictDepth,strictNullHandling:typeof d.strictNullHandling=="boolean"?d.strictNullHandling:o.strictNullHandling}};return Ur=function(d,b){var f=h(b);if(d===""||d===null||typeof d>"u")return f.plainObjects?Object.create(null):{};for(var y=typeof d=="string"?e(d,f):d,m=f.plainObjects?Object.create(null):{},S=Object.keys(y),g=0;g<S.length;++g){var _=S[g],I=a(_,y[_],f,typeof d=="string");m=c.merge(m,I,f)}return f.allowSparse===!0?m:c.compact(m)},Ur}function yc(){if(Xi)return Lr;Xi=!0;var c=dc(),p=gc(),s=go();return Lr={formats:s,parse:p,stringify:c},Lr}function bc(){if(Zi)return bt;Zi=!0;var c=yt;function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,t=["<",">",'"',"`"," ","\r",`
`,"	"],r=["{","}","|","\\","^","`"].concat(t),n=["'"].concat(r),e=["%","/","?",";","#"].concat(n),i=["/","?","#"],a=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=yc();function S(v,A,E){if(v&&typeof v=="object"&&v instanceof p)return v;var T=new p;return T.parse(v,A,E),T}p.prototype.parse=function(v,A,E){if(typeof v!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof v);var T=v.indexOf("?"),M=T!==-1&&T<v.indexOf("#")?"?":"#",C=v.split(M),q=/\\/g;C[0]=C[0].replace(q,"/"),v=C.join(M);var k=v;if(k=k.trim(),!E&&v.split("#").length===1){var P=l.exec(k);if(P)return this.path=k,this.href=k,this.pathname=P[1],P[2]?(this.search=P[2],A?this.query=m.parse(this.search.substr(1)):this.query=this.search.substr(1)):A&&(this.search="",this.query={}),this}var j=s.exec(k);if(j){j=j[0];var B=j.toLowerCase();this.protocol=B,k=k.substr(j.length)}if(E||j||k.match(/^\/\/[^@/]+@[^@/]+/)){var ie=k.substr(0,2)==="//";ie&&!(j&&f[j])&&(k=k.substr(2),this.slashes=!0)}if(!f[j]&&(ie||j&&!y[j])){for(var F=-1,D=0;D<i.length;D++){var ee=k.indexOf(i[D]);ee!==-1&&(F===-1||ee<F)&&(F=ee)}var W,X;F===-1?X=k.lastIndexOf("@"):X=k.lastIndexOf("@",F),X!==-1&&(W=k.slice(0,X),k=k.slice(X+1),this.auth=decodeURIComponent(W)),F=-1;for(var D=0;D<e.length;D++){var ee=k.indexOf(e[D]);ee!==-1&&(F===-1||ee<F)&&(F=ee)}F===-1&&(F=k.length),this.host=k.slice(0,F),k=k.slice(F),this.parseHost(),this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R)for(var K=this.hostname.split(/\./),D=0,le=K.length;D<le;D++){var te=K[D];if(te&&!te.match(h)){for(var ve="",V=0,N=te.length;V<N;V++)te.charCodeAt(V)>127?ve+="x":ve+=te[V];if(!ve.match(h)){var ne=K.slice(0,D),G=K.slice(D+1),Q=te.match(d);Q&&(ne.push(Q[1]),G.unshift(Q[2])),G.length&&(k="/"+G.join(".")+k),this.hostname=ne.join(".");break}}}this.hostname.length>a?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=c.toASCII(this.hostname));var J=this.port?":"+this.port:"",be=this.hostname||"";this.host=be+J,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),k[0]!=="/"&&(k="/"+k))}if(!b[B])for(var D=0,le=n.length;D<le;D++){var se=n[D];if(k.indexOf(se)!==-1){var U=encodeURIComponent(se);U===se&&(U=escape(se)),k=k.split(se).join(U)}}var z=k.indexOf("#");z!==-1&&(this.hash=k.substr(z),k=k.slice(0,z));var re=k.indexOf("?");if(re!==-1?(this.search=k.substr(re),this.query=k.substr(re+1),A&&(this.query=m.parse(this.query)),k=k.slice(0,re)):A&&(this.search="",this.query={}),k&&(this.pathname=k),y[B]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",pe=this.search||"";this.path=J+pe}return this.href=this.format(),this};function g(v){return typeof v=="string"&&(v=S(v)),v instanceof p?v.format():p.prototype.format.call(v)}p.prototype.format=function(){var v=this.auth||"";v&&(v=encodeURIComponent(v),v=v.replace(/%3A/i,":"),v+="@");var A=this.protocol||"",E=this.pathname||"",T=this.hash||"",M=!1,C="";this.host?M=v+this.host:this.hostname&&(M=v+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(M+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(C=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var q=this.search||C&&"?"+C||"";return A&&A.substr(-1)!==":"&&(A+=":"),this.slashes||(!A||y[A])&&M!==!1?(M="//"+(M||""),E&&E.charAt(0)!=="/"&&(E="/"+E)):M||(M=""),T&&T.charAt(0)!=="#"&&(T="#"+T),q&&q.charAt(0)!=="?"&&(q="?"+q),E=E.replace(/[?#]/g,function(k){return encodeURIComponent(k)}),q=q.replace("#","%23"),A+M+E+q+T};function _(v,A){return S(v,!1,!0).resolve(A)}p.prototype.resolve=function(v){return this.resolveObject(S(v,!1,!0)).format()};function I(v,A){return v?S(v,!1,!0).resolveObject(A):A}return p.prototype.resolveObject=function(v){if(typeof v=="string"){var A=new p;A.parse(v,!1,!0),v=A}for(var E=new p,T=Object.keys(this),M=0;M<T.length;M++){var C=T[M];E[C]=this[C]}if(E.hash=v.hash,v.href==="")return E.href=E.format(),E;if(v.slashes&&!v.protocol){for(var q=Object.keys(v),k=0;k<q.length;k++){var P=q[k];P!=="protocol"&&(E[P]=v[P])}return y[E.protocol]&&E.hostname&&!E.pathname&&(E.pathname="/",E.path=E.pathname),E.href=E.format(),E}if(v.protocol&&v.protocol!==E.protocol){if(!y[v.protocol]){for(var j=Object.keys(v),B=0;B<j.length;B++){var ie=j[B];E[ie]=v[ie]}return E.href=E.format(),E}if(E.protocol=v.protocol,!v.host&&!f[v.protocol]){for(var le=(v.pathname||"").split("/");le.length&&!(v.host=le.shift()););v.host||(v.host=""),v.hostname||(v.hostname=""),le[0]!==""&&le.unshift(""),le.length<2&&le.unshift(""),E.pathname=le.join("/")}else E.pathname=v.pathname;if(E.search=v.search,E.query=v.query,E.host=v.host||"",E.auth=v.auth,E.hostname=v.hostname||v.host,E.port=v.port,E.pathname||E.search){var F=E.pathname||"",D=E.search||"";E.path=F+D}return E.slashes=E.slashes||v.slashes,E.href=E.format(),E}var ee=E.pathname&&E.pathname.charAt(0)==="/",W=v.host||v.pathname&&v.pathname.charAt(0)==="/",X=W||ee||E.host&&v.pathname,R=X,K=E.pathname&&E.pathname.split("/")||[],le=v.pathname&&v.pathname.split("/")||[],te=E.protocol&&!y[E.protocol];if(te&&(E.hostname="",E.port=null,E.host&&(K[0]===""?K[0]=E.host:K.unshift(E.host)),E.host="",v.protocol&&(v.hostname=null,v.port=null,v.host&&(le[0]===""?le[0]=v.host:le.unshift(v.host)),v.host=null),X=X&&(le[0]===""||K[0]==="")),W)E.host=v.host||v.host===""?v.host:E.host,E.hostname=v.hostname||v.hostname===""?v.hostname:E.hostname,E.search=v.search,E.query=v.query,K=le;else if(le.length)K||(K=[]),K.pop(),K=K.concat(le),E.search=v.search,E.query=v.query;else if(v.search!=null){if(te){E.host=K.shift(),E.hostname=E.host;var ve=E.host&&E.host.indexOf("@")>0?E.host.split("@"):!1;ve&&(E.auth=ve.shift(),E.hostname=ve.shift(),E.host=E.hostname)}return E.search=v.search,E.query=v.query,(E.pathname!==null||E.search!==null)&&(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.href=E.format(),E}if(!K.length)return E.pathname=null,E.search?E.path="/"+E.search:E.path=null,E.href=E.format(),E;for(var V=K.slice(-1)[0],N=(E.host||v.host||K.length>1)&&(V==="."||V==="..")||V==="",ne=0,G=K.length;G>=0;G--)V=K[G],V==="."?K.splice(G,1):V===".."?(K.splice(G,1),ne++):ne&&(K.splice(G,1),ne--);if(!X&&!R)for(;ne--;ne)K.unshift("..");X&&K[0]!==""&&(!K[0]||K[0].charAt(0)!=="/")&&K.unshift(""),N&&K.join("/").substr(-1)!=="/"&&K.push("");var Q=K[0]===""||K[0]&&K[0].charAt(0)==="/";if(te){E.hostname=Q?"":K.length?K.shift():"",E.host=E.hostname;var ve=E.host&&E.host.indexOf("@")>0?E.host.split("@"):!1;ve&&(E.auth=ve.shift(),E.hostname=ve.shift(),E.host=E.hostname)}return X=X||E.host&&K.length,X&&!Q&&K.unshift(""),K.length>0?E.pathname=K.join("/"):(E.pathname=null,E.path=null),(E.pathname!==null||E.search!==null)&&(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.auth=v.auth||E.auth,E.slashes=E.slashes||v.slashes,E.href=E.format(),E},p.prototype.parseHost=function(){var v=this.host,A=o.exec(v);A&&(A=A[0],A!==":"&&(this.port=A.substr(1)),v=v.substr(0,v.length-A.length)),v&&(this.hostname=v)},bt.parse=S,bt.resolve=_,bt.resolveObject=I,bt.format=g,bt.Url=p,bt}function qa(c){if(typeof c=="string")c=new URL(c);else if(!(c instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(c.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return zr?mc(c):vc(c)}function mc(c){let p=c.hostname,s=c.pathname;for(let o=0;o<s.length;o++)if(s[o]==="%"){let l=s.codePointAt(o+2)||32;if(s[o+1]==="2"&&l===102||s[o+1]==="5"&&l===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(s=s.replace(tl,"\\"),s=decodeURIComponent(s),p!=="")return`\\\\${p}${s}`;{let o=s.codePointAt(1)|32,l=s[2];if(o<Za||o>el||l!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return s.slice(1)}}function vc(c){if(c.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let p=c.pathname;for(let s=0;s<p.length;s++)if(p[s]==="%"){let o=p.codePointAt(s+2)||32;if(p[s+1]==="2"&&o===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(p)}function $a(c){let p=Hi.resolve(c),s=c.charCodeAt(c.length-1);(s===Xa||zr&&s===Ja)&&p[p.length-1]!==Hi.sep&&(p+="/");let o=new URL("file://");return p.includes("%")&&(p=p.replace(rl,"%25")),!zr&&p.includes("\\")&&(p=p.replace(nl,"%5C")),p.includes(`
`)&&(p=p.replace(il,"%0A")),p.includes("\r")&&(p=p.replace(ol,"%0D")),p.includes("	")&&(p=p.replace(sl,"%09")),o.pathname=p,o}var za,Rr,Ki,Cr,Mr,Vi,jr,Gi,Nr,Qi,Br,Yi,Ur,Ji,Lr,Xi,bt,Zi,Fe,Ss,Ha,Ka,Va,Ga,Qa,Ya,Ja,Xa,Za,el,zr,tl,rl,nl,il,ol,sl,wc=ze(()=>{ue(),fe(),ce(),Uu(),Zu(),fc(),Da(),za=Object.freeze(Object.create(null)),Rr={},Ki=!1,Cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Mr={},Vi=!1,jr={},Gi=!1,Nr={},Qi=!1,Br={},Yi=!1,Ur={},Ji=!1,Lr={},Xi=!1,bt={},Zi=!1,Fe=bc(),Fe.parse,Fe.resolve,Fe.resolveObject,Fe.format,Fe.Url,Ss=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Fe.URL=typeof URL<"u"?URL:null,Fe.pathToFileURL=$a,Fe.fileURLToPath=qa,Ha=Fe.Url,Ka=Fe.format,Va=Fe.resolve,Ga=Fe.resolveObject,Qa=Fe.parse,Ya=Fe.URL,Ja=92,Xa=47,Za=97,el=122,zr=Ss==="win32",tl=/\//g,rl=/%/g,nl=/\\/g,il=/\n/g,ol=/\r/g,sl=/\t/g}),_c=ge((c,p)=>{ue(),fe(),ce(),p.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),yo=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0}),c.BufferedDuplex=void 0,c.writev=o;var p=Pt(),s=(Be(),Pe(Ne));function o(t,r){let n=new Array(t.length);for(let e=0;e<t.length;e++)typeof t[e].chunk=="string"?n[e]=s.Buffer.from(t[e].chunk,"utf8"):n[e]=t[e].chunk;this._write(s.Buffer.concat(n),"binary",r)}var l=class extends p.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(t,r,n){super({objectMode:!0}),this.proxy=r,this.socket=n,this.writeQueue=[],t.objectMode||(this._writev=o.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",e=>{!this.destroyed&&this.readable&&this.push(e)})}_read(t){this.proxy.read(t)}_write(t,r,n){this.isSocketOpen?this.writeToProxy(t,r,n):this.writeQueue.push({chunk:t,encoding:r,cb:n})}_final(t){this.writeQueue=[],this.proxy.end(t)}_destroy(t,r){this.writeQueue=[],this.proxy.destroy(),r(t)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(t,r,n){this.proxy.write(t,r)===!1?this.proxy.once("drain",n):n()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:t,encoding:r,cb:n}=this.writeQueue.shift();this.writeToProxy(t,r,n)}}};c.BufferedDuplex=l}),cr=ge(c=>{ue(),fe(),ce();var p=c&&c.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(c,"__esModule",{value:!0}),c.streamBuilder=c.browserStreamBuilder=void 0;var s=(Be(),Pe(Ne)),o=p(_c()),l=p(ut()),t=Pt(),r=p(Jr()),n=yo(),e=(0,l.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function a(S,g){let _=`${S.protocol}://${S.hostname}:${S.port}${S.path}`;return typeof S.transformWsUrl=="function"&&(_=S.transformWsUrl(_,S,g)),_}function h(S){let g=S;return S.port||(S.protocol==="wss"?g.port=443:g.port=80),S.path||(g.path="/"),S.wsOptions||(g.wsOptions={}),!r.default&&!S.forceNativeWebSocket&&S.protocol==="wss"&&i.forEach(_=>{Object.prototype.hasOwnProperty.call(S,_)&&!Object.prototype.hasOwnProperty.call(S.wsOptions,_)&&(g.wsOptions[_]=S[_])}),g}function d(S){let g=h(S);if(g.hostname||(g.hostname=g.host),!g.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let _=new URL(document.URL);g.hostname=_.hostname,g.port||(g.port=Number(_.port))}return g.objectMode===void 0&&(g.objectMode=!(g.binary===!0||g.binary===void 0)),g}function b(S,g,_){e("createWebSocket"),e(`protocol: ${_.protocolId} ${_.protocolVersion}`);let I=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt";e(`creating new Websocket for url: ${g} and protocol: ${I}`);let v;return _.createWebsocket?v=_.createWebsocket(g,[I],_):v=new o.default(g,[I],_.wsOptions),v}function f(S,g){let _=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt",I=a(g,S),v;return g.createWebsocket?v=g.createWebsocket(I,[_],g):v=new WebSocket(I,[_]),v.binaryType="arraybuffer",v}var y=(S,g)=>{e("streamBuilder");let _=h(g);_.hostname=_.hostname||_.host||"localhost";let I=a(_,S),v=b(S,I,_),A=o.default.createWebSocketStream(v,_.wsOptions);return A.url=I,v.on("close",()=>{A.destroy()}),A};c.streamBuilder=y;var m=(S,g)=>{e("browserStreamBuilder");let _,I=d(g).browserBufferSize||1024*512,v=g.browserBufferTimeout||1e3,A=!g.objectMode,E=f(S,g),T=C(g,B,ie);g.objectMode||(T._writev=n.writev.bind(T)),T.on("close",()=>{E.close()});let M=typeof E.addEventListener<"u";E.readyState===E.OPEN?(_=T,_.socket=E):(_=new n.BufferedDuplex(g,T,E),M?E.addEventListener("open",q):E.onopen=q),M?(E.addEventListener("close",k),E.addEventListener("error",P),E.addEventListener("message",j)):(E.onclose=k,E.onerror=P,E.onmessage=j);function C(F,D,ee){let W=new t.Transform({objectMode:F.objectMode});return W._write=D,W._flush=ee,W}function q(){e("WebSocket onOpen"),_ instanceof n.BufferedDuplex&&_.socketReady()}function k(F){e("WebSocket onClose",F),_.end(),_.destroy()}function P(F){e("WebSocket onError",F);let D=new Error("WebSocket error");D.event=F,_.destroy(D)}async function j(F){if(!T||!T.readable||!T.writable)return;let{data:D}=F;D instanceof ArrayBuffer?D=s.Buffer.from(D):D instanceof Blob?D=s.Buffer.from(await new Response(D).arrayBuffer()):D=s.Buffer.from(D,"utf8"),T.push(D)}function B(F,D,ee){if(E.bufferedAmount>I){setTimeout(B,v,F,D,ee);return}A&&typeof F=="string"&&(F=s.Buffer.from(F,"utf8"));try{E.send(F)}catch(W){return ee(W)}ee()}function ie(F){E.close(),F()}return _};c.browserStreamBuilder=m}),bo={};Ft(bo,{Server:()=>Ce,Socket:()=>Ce,Stream:()=>Ce,_createServerHandle:()=>Ce,_normalizeArgs:()=>Ce,_setSimultaneousAccepts:()=>Ce,connect:()=>Ce,createConnection:()=>Ce,createServer:()=>Ce,default:()=>al,isIP:()=>Ce,isIPv4:()=>Ce,isIPv6:()=>Ce});function Ce(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var al,ll=ze(()=>{ue(),fe(),ce(),al={_createServerHandle:Ce,_normalizeArgs:Ce,_setSimultaneousAccepts:Ce,connect:Ce,createConnection:Ce,createServer:Ce,isIP:Ce,isIPv4:Ce,isIPv6:Ce,Server:Ce,Socket:Ce,Stream:Ce}}),ul=ge((c,p)=>{ue(),fe(),ce(),p.exports={}}),Es=ge(c=>{ue(),fe(),ce();var p=c&&c.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0});var s=p((ll(),Pe(bo))),o=p(ut()),l=p(ul()),t=(0,o.default)("mqttjs:tcp"),r=(n,e)=>{if(e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost",e.socksProxy)return(0,l.default)(e.hostname,e.port,e.socksProxy,{timeout:e.socksTimeout});let{port:i,path:a}=e,h=e.hostname;return t("port %d and host %s",i,h),s.default.createConnection({port:i,host:h,path:a})};c.default=r}),cl={};Ft(cl,{default:()=>fl});var fl,Sc=ze(()=>{ue(),fe(),ce(),fl={}}),As=ge(c=>{ue(),fe(),ce();var p=c&&c.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});var s=(Sc(),Pe(cl)),o=p((ll(),Pe(bo))),l=p(ut()),t=p(ul()),r=(0,l.default)("mqttjs:tls");function n(i){let{host:a,port:h,socksProxy:d,...b}=i;if(d!==void 0){let f=(0,t.default)(a,h,d,{timeout:i.socksTimeout});return(0,s.connect)({...b,socket:f})}return(0,s.connect)(i)}var e=(i,a)=>{a.port=a.port||8883,a.host=a.hostname||a.host||"localhost",o.default.isIP(a.host)===0&&(a.servername=a.host),a.rejectUnauthorized=a.rejectUnauthorized!==!1,delete a.path,r("port %d host %s rejectUnauthorized %b",a.port,a.host,a.rejectUnauthorized);let h=n(a);h.on("secureConnect",()=>{a.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",d)});function d(b){a.rejectUnauthorized&&i.emit("error",b),h.end()}return h.on("error",d),h};c.default=e}),Is=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=(Be(),Pe(Ne)),s=Pt(),o=yo(),l,t,r;function n(){let d=new s.Transform;return d._write=(b,f,y)=>{l.send({data:b.buffer,success(){y()},fail(m){y(new Error(m))}})},d._flush=b=>{l.close({success(){b()}})},d}function e(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function i(d,b){let f=d.protocol==="wxs"?"wss":"ws",y=`${f}://${d.hostname}${d.path}`;return d.port&&d.port!==80&&d.port!==443&&(y=`${f}://${d.hostname}:${d.port}${d.path}`),typeof d.transformWsUrl=="function"&&(y=d.transformWsUrl(y,d,b)),y}function a(){l.onOpen(()=>{r.socketReady()}),l.onMessage(d=>{let{data:b}=d;b instanceof ArrayBuffer?b=p.Buffer.from(b):b=p.Buffer.from(b,"utf8"),t.push(b)}),l.onClose(()=>{r.emit("close"),r.end(),r.destroy()}),l.onError(d=>{let b=new Error(d.errMsg);r.destroy(b)})}var h=(d,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let f=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";e(b);let y=i(b,d);l=wx.connectSocket({url:y,protocols:[f]}),t=n(),r=new o.BufferedDuplex(b,t,l),r._destroy=(S,g)=>{l.close({success(){g&&g(S)}})};let m=r.destroy;return r.destroy=(S,g)=>(r.destroy=m,setTimeout(()=>{l.close({fail(){r._destroy(S,g)}})},0),r),a(),r};c.default=h}),xs=ge(c=>{ue(),fe(),ce(),Object.defineProperty(c,"__esModule",{value:!0});var p=(Be(),Pe(Ne)),s=Pt(),o=yo(),l,t,r,n=!1;function e(){let b=new s.Transform;return b._write=(f,y,m)=>{l.sendSocketMessage({data:f.buffer,success(){m()},fail(){m(new Error)}})},b._flush=f=>{l.closeSocket({success(){f()}})},b}function i(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function a(b,f){let y=b.protocol==="alis"?"wss":"ws",m=`${y}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(m=`${y}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(m=b.transformWsUrl(m,b,f)),m}function h(){n||(n=!0,l.onSocketOpen(()=>{r.socketReady()}),l.onSocketMessage(b=>{if(typeof b.data=="string"){let f=p.Buffer.from(b.data,"base64");t.push(f)}else{let f=new FileReader;f.addEventListener("load",()=>{if(f.result instanceof ArrayBuffer){t.push(p.Buffer.from(f.result));return}t.push(p.Buffer.from(f.result,"utf-8"))}),f.readAsArrayBuffer(b.data)}}),l.onSocketClose(()=>{r.end(),r.destroy()}),l.onSocketError(b=>{r.destroy(b)}))}var d=(b,f)=>{if(f.hostname=f.hostname||f.host,!f.hostname)throw new Error("Could not determine host. Specify host manually.");let y=f.protocolId==="MQIsdp"&&f.protocolVersion===3?"mqttv3.1":"mqtt";i(f);let m=a(f,b);return l=f.my,l.connectSocket({url:m,protocols:y}),t=e(),r=new o.BufferedDuplex(f,t,l),h(),r};c.default=d}),Ec=ge(c=>{ue(),fe(),ce();var p=c&&c.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(c,"__esModule",{value:!0}),c.connectAsync=a;var s=p(ut()),o=p((wc(),Pe(Fa))),l=p(hi()),t=p(Jr());typeof Re?.nextTick!="function"&&(Re.nextTick=setImmediate);var r=(0,s.default)("mqttjs"),n=null;function e(h){let d;if(h.auth)if(d=h.auth.match(/^(.+):(.+)$/),d){let[,b,f]=d;h.username=b,h.password=f}else h.username=h.auth}function i(h,d){if(r("connecting to an MQTT broker..."),typeof h=="object"&&!d&&(d=h,h=""),d=d||{},h&&typeof h=="string"){let y=o.default.parse(h,!0),m={};if(y.port!=null&&(m.port=Number(y.port)),m.host=y.hostname,m.query=y.query,m.auth=y.auth,m.protocol=y.protocol,m.path=y.path,d={...m,...d},!d.protocol)throw new Error("Missing protocol");d.protocol=d.protocol.replace(/:$/,"")}if(d.unixSocket=d.unixSocket||d.protocol?.includes("+unix"),d.unixSocket?d.protocol=d.protocol.replace("+unix",""):!d.protocol?.startsWith("ws")&&!d.protocol?.startsWith("wx")&&delete d.path,e(d),d.query&&typeof d.query.clientId=="string"&&(d.clientId=d.query.clientId),t.default||d.unixSocket?d.socksProxy=void 0:d.socksProxy===void 0&&typeof Re<"u"&&(d.socksProxy=Re.env.MQTTJS_SOCKS_PROXY),d.cert&&d.key)if(d.protocol){if(["mqtts","wss","wxs","alis"].indexOf(d.protocol)===-1)switch(d.protocol){case"mqtt":d.protocol="mqtts";break;case"ws":d.protocol="wss";break;case"wx":d.protocol="wxs";break;case"ali":d.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${d.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(n||(n={},!t.default&&!d.forceNativeWebSocket?(n.ws=cr().streamBuilder,n.wss=cr().streamBuilder,n.mqtt=Es().default,n.tcp=Es().default,n.ssl=As().default,n.tls=n.ssl,n.mqtts=As().default):(n.ws=cr().browserStreamBuilder,n.wss=cr().browserStreamBuilder,n.wx=Is().default,n.wxs=Is().default,n.ali=xs().default,n.alis=xs().default)),!n[d.protocol]){let y=["mqtts","wss"].indexOf(d.protocol)!==-1;d.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((m,S)=>y&&S%2===0?!1:typeof n[m]=="function")[0]}if(d.clean===!1&&!d.clientId)throw new Error("Missing clientId for unclean clients");d.protocol&&(d.defaultProtocol=d.protocol);function b(y){return d.servers&&((!y._reconnectCount||y._reconnectCount===d.servers.length)&&(y._reconnectCount=0),d.host=d.servers[y._reconnectCount].host,d.port=d.servers[y._reconnectCount].port,d.protocol=d.servers[y._reconnectCount].protocol?d.servers[y._reconnectCount].protocol:d.defaultProtocol,d.hostname=d.host,y._reconnectCount++),r("calling streambuilder for",d.protocol),n[d.protocol](y,d)}let f=new l.default(b,d);return f.on("error",()=>{}),f}function a(h,d,b=!0){return new Promise((f,y)=>{let m=i(h,d),S={connect:_=>{g(),f(m)},end:()=>{g(),f(m)},error:_=>{g(),m.end(),y(_)}};b===!1&&(S.close=()=>{S.error(new Error("Couldn't connect to server"))});function g(){Object.keys(S).forEach(_=>{m.off(_,S[_])})}Object.keys(S).forEach(_=>{m.on(_,S[_])})})}c.default=i}),ks=ge(c=>{ue(),fe(),ce();var p=c&&c.__createBinding||(Object.create?function(b,f,y,m){m===void 0&&(m=y);var S=Object.getOwnPropertyDescriptor(f,y);(!S||("get"in S?!f.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return f[y]}}),Object.defineProperty(b,m,S)}:function(b,f,y,m){m===void 0&&(m=y),b[m]=f[y]}),s=c&&c.__setModuleDefault||(Object.create?function(b,f){Object.defineProperty(b,"default",{enumerable:!0,value:f})}:function(b,f){b.default=f}),o=c&&c.__importStar||(function(){var b=function(f){return b=Object.getOwnPropertyNames||function(y){var m=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(m[m.length]=S);return m},b(f)};return function(f){if(f&&f.__esModule)return f;var y={};if(f!=null)for(var m=b(f),S=0;S<m.length;S++)m[S]!=="default"&&p(y,f,m[S]);return s(y,f),y}})(),l=c&&c.__exportStar||function(b,f){for(var y in b)y!=="default"&&!Object.prototype.hasOwnProperty.call(f,y)&&p(f,b,y)},t=c&&c.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(c,"__esModule",{value:!0}),c.ReasonCodes=c.KeepaliveManager=c.UniqueMessageIdProvider=c.DefaultMessageIdProvider=c.Store=c.MqttClient=c.connectAsync=c.connect=c.Client=void 0;var r=t(hi());c.MqttClient=r.default;var n=t(ka());c.DefaultMessageIdProvider=n.default;var e=t(Nu());c.UniqueMessageIdProvider=e.default;var i=t(ca());c.Store=i.default;var a=o(Ec());c.connect=a.default,Object.defineProperty(c,"connectAsync",{enumerable:!0,get:function(){return a.connectAsync}});var h=t(ja());c.KeepaliveManager=h.default,c.Client=r.default,l(hi(),c),l(qt(),c);var d=Qr();Object.defineProperty(c,"ReasonCodes",{enumerable:!0,get:function(){return d.ReasonCodes}})}),Ac=ge(c=>{ue(),fe(),ce();var p=c&&c.__createBinding||(Object.create?function(r,n,e,i){i===void 0&&(i=e);var a=Object.getOwnPropertyDescriptor(n,e);(!a||("get"in a?!n.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(r,i,a)}:function(r,n,e,i){i===void 0&&(i=e),r[i]=n[e]}),s=c&&c.__setModuleDefault||(Object.create?function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}:function(r,n){r.default=n}),o=c&&c.__importStar||(function(){var r=function(n){return r=Object.getOwnPropertyNames||function(e){var i=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[i.length]=a);return i},r(n)};return function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i=r(n),a=0;a<i.length;a++)i[a]!=="default"&&p(e,n,i[a]);return s(e,n),e}})(),l=c&&c.__exportStar||function(r,n){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&p(n,r,e)};Object.defineProperty(c,"__esModule",{value:!0});var t=o(ks());c.default=t,l(ks(),c)});const Ic=Ac();const{floor:eo,random:xc,sin:kc}=Math,Hr="Trystero",nr=(c,p)=>Array(c).fill().map(p),Ts="0123456789AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz",Tc=c=>nr(c,()=>Ts[eo(xc()*Ts.length)]).join(""),Lt=Tc(20),Et=Promise.all.bind(Promise),hl=typeof window<"u",{entries:Os,fromEntries:Oc,keys:Pc}=Object,st=()=>{},at=c=>new Error(`${Hr}: ${c}`),Rc=new TextEncoder,Cc=new TextDecoder,Dt=c=>Rc.encode(c),Dr=c=>Cc.decode(c),fr=(...c)=>c.join("@"),Mc=(c,p)=>{const s=[...c],o=()=>{const t=kc(p++)*1e4;return t-eo(t)};let l=s.length;for(;l;){const t=eo(o()*l--);[s[l],s[t]]=[s[t],s[l]]}return s},jc=(c,p,s,o)=>(c.relayUrls||(o?Mc(p,Nc(c.appId)):p)).slice(0,c.relayUrls?c.relayUrls.length:c.relayRedundancy||s),ir=JSON.stringify,to=JSON.parse,Nc=(c,p=Number.MAX_SAFE_INTEGER)=>c.split("").reduce((s,o)=>s+o.charCodeAt(0),0)%p;let tn=null,ro=null;const Bc=()=>{tn||(tn=new Promise(c=>{ro=c}).finally(()=>{ro=null,tn=null}))},Uc=()=>ro?.(),Lc=()=>{if(hl){const c=new AbortController;return addEventListener("online",Uc,{signal:c.signal}),addEventListener("offline",Bc,{signal:c.signal}),()=>c.abort()}return st},mo="AES-GCM",Dc={},Fc=c=>btoa(String.fromCharCode.apply(null,new Uint8Array(c))),Wc=c=>{const p=atob(c);return new Uint8Array(p.length).map((s,o)=>p.charCodeAt(o)).buffer},qc=async(c,p)=>new Uint8Array(await crypto.subtle.digest(c,Dt(p))),hr=async c=>Dc[c]||=Array.from(await qc("SHA-1",c)).map(p=>p.toString(36)).join(""),$c=async(c,p,s)=>crypto.subtle.importKey("raw",await crypto.subtle.digest({name:"SHA-256"},Dt(`${c}:${p}:${s}`)),{name:mo},!1,["encrypt","decrypt"]),pl="$",dl=",",zc=async(c,p)=>{const s=crypto.getRandomValues(new Uint8Array(16));return s.join(dl)+pl+Fc(await crypto.subtle.encrypt({name:mo,iv:s},await c,Dt(p)))},Hc=async(c,p)=>{const[s,o]=p.split(pl);return Dr(await crypto.subtle.decrypt({name:mo,iv:new Uint8Array(s.split(dl))},await c,Wc(o)))},Kc=5e3,Ps="icegatheringstatechange",Rs="offer",Vc="answer",Cs=(c,{rtcConfig:p,rtcPolyfill:s,turnConfig:o})=>{const l=new(s||RTCPeerConnection)({iceServers:Gc.concat(o||[]),...p}),t={};let r=!1,n=!1,e=null;const i=h=>{h.binaryType="arraybuffer",h.bufferedAmountLowThreshold=65535,h.onmessage=d=>t.data?.(d.data),h.onopen=()=>t.connect?.(),h.onclose=()=>t.close?.(),h.onerror=d=>t.error?.(d)},a=h=>Promise.race([new Promise(d=>{const b=()=>{h.iceGatheringState==="complete"&&(h.removeEventListener(Ps,b),d())};h.addEventListener(Ps,b),b()}),new Promise(d=>setTimeout(d,Kc))]).then(()=>({type:h.localDescription.type,sdp:h.localDescription.sdp.replace(/a=ice-options:trickle\s\n/g,"")}));return c?(e=l.createDataChannel("data"),i(e)):l.ondatachannel=({channel:h})=>{e=h,i(h)},l.onnegotiationneeded=async()=>{try{r=!0,await l.setLocalDescription();const h=await a(l);t.signal?.(h)}catch(h){t.error?.(h)}finally{r=!1}},l.onconnectionstatechange=()=>{["disconnected","failed","closed"].includes(l.connectionState)&&t.close?.()},l.ontrack=h=>{t.track?.(h.track,h.streams[0]),t.stream?.(h.streams[0])},l.onremovestream=h=>t.stream?.(h.stream),c&&(l.canTrickleIceCandidates||l.onnegotiationneeded()),{created:Date.now(),connection:l,get channel(){return e},get isDead(){return l.connectionState==="closed"},async signal(h){if(!(e?.readyState==="open"&&!h.sdp?.includes("a=rtpmap")))try{if(h.type===Rs){if(r||l.signalingState!=="stable"&&!n){if(c)return;await Et([l.setLocalDescription({type:"rollback"}),l.setRemoteDescription(h)])}else await l.setRemoteDescription(h);await l.setLocalDescription();const d=await a(l);return t.signal?.(d),d}else if(h.type===Vc){n=!0;try{await l.setRemoteDescription(h)}finally{n=!1}}}catch(d){t.error?.(d)}},sendData:h=>e.send(h),destroy:()=>{e?.close(),l.close(),r=!1,n=!1},setHandlers:h=>Object.assign(t,h),offerPromise:c?new Promise(h=>t.signal=d=>{d.type===Rs&&h(d)}):Promise.resolve(),addStream:h=>h.getTracks().forEach(d=>l.addTrack(d,h)),removeStream:h=>l.getSenders().filter(d=>h.getTracks().includes(d.track)).forEach(d=>l.removeTrack(d)),addTrack:(h,d)=>l.addTrack(h,d),removeTrack:h=>{const d=l.getSenders().find(b=>b.track===h);d&&l.removeTrack(d)},replaceTrack:(h,d)=>{const b=l.getSenders().find(f=>f.track===h);if(b)return b.replaceTrack(d)}}},Gc=[...nr(3,(c,p)=>`stun:stun${p||""}.l.google.com:19302`),"stun:stun.cloudflare.com:3478"].map(c=>({urls:c})),Qc=Object.getPrototypeOf(Uint8Array),Fr=12,gl=0,Wr=gl+Fr,qr=Wr+1,Xt=qr+1,Zt=Xt+1,St=16*2**10-Zt,pr=255,Ms="bufferedamountlow",Mt=c=>"@_"+c,Yc=(c,p,s)=>{const o={},l={},t={},r={},n={},e={},i={},a={onPeerJoin:st,onPeerLeave:st,onPeerStream:st,onPeerTrack:st},h=(k,P)=>(k?Array.isArray(k)?k:[k]:Pc(o)).flatMap(j=>{const B=o[j];return B?P(j,B):(console.warn(`${Hr}: no peer with id ${j} found`),[])}),d=k=>{o[k]&&(o[k].destroy(),delete o[k],delete r[k],delete n[k],a.onPeerLeave(k),p(k))},b=k=>{if(l[k])return t[k];if(!k)throw at("action type argument is required");const P=Dt(k);if(P.byteLength>Fr)throw at(`action type string "${k}" (${P.byteLength}b) exceeds byte limit (${Fr}). Hint: choose a shorter name.`);const j=new Uint8Array(Fr);j.set(P);let B=0;return l[k]={onComplete:st,onProgress:st,setOnComplete:ie=>l[k]={...l[k],onComplete:ie},setOnProgress:ie=>l[k]={...l[k],onProgress:ie},send:async(ie,F,D,ee)=>{if(D&&typeof D!="object")throw at("action meta argument must be an object");const W=typeof ie;if(W==="undefined")throw at("action data cannot be undefined");const X=W!=="string",R=ie instanceof Blob,K=R||ie instanceof ArrayBuffer||ie instanceof Qc;if(D&&!K)throw at("action meta argument can only be used with binary data");const le=K?new Uint8Array(R?await ie.arrayBuffer():ie):Dt(X?ir(ie):ie),te=D?Dt(ir(D)):null,ve=Math.ceil(le.byteLength/St)+(D?1:0)||1,V=nr(ve,(N,ne)=>{const G=ne===ve-1,Q=D&&ne===0,J=new Uint8Array(Zt+(Q?te.byteLength:G?le.byteLength-St*(ve-(D?2:1)):St));return J.set(j),J.set([B],Wr),J.set([G|Q<<1|K<<2|X<<3],qr),J.set([Math.round((ne+1)/ve*pr)],Xt),J.set(D?Q?te:le.subarray((ne-1)*St,ne*St):le.subarray(ne*St,(ne+1)*St),Zt),J});return B=B+1&pr,Et(h(F,async(N,ne)=>{const{channel:G}=ne;let Q=0;for(;Q<ve;){const J=V[Q];if(G.bufferedAmount>G.bufferedAmountLowThreshold&&await new Promise(be=>{const se=()=>{G.removeEventListener(Ms,se),be()};G.addEventListener(Ms,se)}),!o[N])break;ne.sendData(J),Q++,ee?.(J[Xt]/pr,N,D)}}))}},t[k]||=[l[k].send,l[k].setOnComplete,l[k].setOnProgress]},f=(k,P)=>{const j=new Uint8Array(P),B=Dr(j.subarray(gl,Wr)).replaceAll("\0",""),[ie]=j.subarray(Wr,qr),[F]=j.subarray(qr,Xt),[D]=j.subarray(Xt,Zt),ee=j.subarray(Zt),W=!!(F&1),X=!!(F&2),R=!!(F&4),K=!!(F&8);if(!l[B]){console.warn(`${Hr}: received message with unregistered type (${B})`);return}r[k]||={},r[k][B]||={};const le=r[k][B][ie]||={chunks:[]};if(X?le.meta=to(Dr(ee)):le.chunks.push(ee),l[B].onProgress(D/pr,k,le.meta),!W)return;const te=new Uint8Array(le.chunks.reduce((ve,V)=>ve+V.byteLength,0));if(le.chunks.reduce((ve,V)=>(te.set(V,ve),ve+V.byteLength),0),delete r[k][B][ie],R)l[B].onComplete(te,k,le.meta);else{const ve=Dr(te);l[B].onComplete(K?to(ve):ve,k)}},y=async()=>{await C(""),await new Promise(k=>setTimeout(k,99)),Os(o).forEach(([k,P])=>{P.destroy(),delete o[k]}),s()},[m,S]=b(Mt("ping")),[g,_]=b(Mt("pong")),[I,v]=b(Mt("signal")),[A,E]=b(Mt("stream")),[T,M]=b(Mt("track")),[C,q]=b(Mt("leave"));return c((k,P)=>{o[P]||(o[P]=k,k.setHandlers({data:j=>f(P,j),stream:j=>{a.onPeerStream(j,P,e[P]),delete e[P]},track:(j,B)=>{a.onPeerTrack(j,B,P,i[P]),delete i[P]},signal:j=>I(j,P),close:()=>d(P),error:j=>{console.error(j),d(P)}}),a.onPeerJoin(P))}),S((k,P)=>g("",P)),_((k,P)=>{n[P]?.(),delete n[P]}),v((k,P)=>o[P]?.signal(k)),E((k,P)=>e[P]=k),M((k,P)=>i[P]=k),q((k,P)=>d(P)),hl&&addEventListener("beforeunload",y),{makeAction:b,leave:y,ping:async k=>{if(!k)throw at("ping() must be called with target peer ID");const P=Date.now();return m("",k),await new Promise(j=>n[k]=j),Date.now()-P},getPeers:()=>Oc(Os(o).map(([k,P])=>[k,P.connection])),addStream:(k,P,j)=>h(P,async(B,ie)=>{j&&await A(j,B),ie.addStream(k)}),removeStream:(k,P)=>h(P,(j,B)=>B.removeStream(k)),addTrack:(k,P,j,B)=>h(j,async(ie,F)=>{B&&await T(B,ie),F.addTrack(k,P)}),removeTrack:(k,P)=>h(P,(j,B)=>B.removeTrack(k)),replaceTrack:(k,P,j,B)=>h(j,async(ie,F)=>{B&&await T(B,ie),F.replaceTrack(k,P)}),onPeerJoin:k=>a.onPeerJoin=k,onPeerLeave:k=>a.onPeerLeave=k,onPeerStream:k=>a.onPeerStream=k,onPeerTrack:k=>a.onPeerTrack=k}},Jc=20,Xc=5333,js=57333,Zc=({init:c,subscribe:p,announce:s})=>{const o={};let l=!1,t,r,n,e;return(i,a,h)=>{const{appId:d}=i;if(o[d]?.[a])return o[d][a];const b={},f={},y=fr(Hr,d,a),m=hr(y),S=hr(fr(y,Lt)),g=$c(i.password||"",d,a),_=F=>async D=>({type:D.type,sdp:await F(g,D.sdp)}),I=_(Hc),v=_(zc),A=()=>Cs(!0,i),E=(F,D,ee)=>{if(f[D]){f[D]!==F&&F.destroy();return}f[D]=F,ie(F,D),b[D]?.forEach((W,X)=>{X!==ee&&W.destroy()}),delete b[D]},T=(F,D)=>{f[D]===F&&delete f[D]},M=(F,D)=>{if(f[F])return;const ee=b[F]?.[D];ee&&(delete b[F][D],ee.destroy())},C=F=>(r.push(...nr(F,A)),Et(r.splice(0,F).map(D=>D.offerPromise.then(v).then(ee=>({peer:D,offer:ee}))))),q=(F,D)=>h?.({error:`incorrect password (${i.password}) when decrypting ${D}`,appId:d,peerId:F,roomId:a}),k=F=>async(D,ee,W)=>{const[X,R]=await Et([m,S]);if(D!==X&&D!==R)return;const{peerId:K,offer:le,answer:te,peer:ve}=typeof ee=="string"?to(ee):ee;if(!(K===Lt||f[K])){if(K&&!le&&!te){if(b[K]?.[F])return;const[[{peer:V,offer:N}],ne]=await Et([C(1),hr(fr(y,K))]);b[K]||=[],b[K][F]=V,setTimeout(()=>M(K,F),P[F]*.9),V.setHandlers({connect:()=>E(V,K,F),close:()=>T(V,K)}),W(ne,ir({peerId:Lt,offer:N}))}else if(le){if(b[K]?.[F]&&Lt>K)return;const N=Cs(!1,i);N.setHandlers({connect:()=>E(N,K,F),close:()=>T(N,K)});let ne;try{ne=await I(le)}catch{q(K,"offer");return}if(N.isDead)return;const[G,Q]=await Et([hr(fr(y,K)),N.signal(ne)]);W(G,ir({peerId:Lt,answer:await v(Q)}))}else if(te){let V;try{V=await I(te)}catch{q(K,"answer");return}if(ve)ve.setHandlers({connect:()=>E(ve,K,F),close:()=>T(ve,K)}),ve.signal(V);else{const N=b[K]?.[F];N&&!N.isDead&&N.signal(V)}}}};if(!i)throw at("requires a config map as the first argument");if(!d&&!i.firebaseApp)throw at("config map is missing appId field");if(!a)throw at("roomId argument required");if(!l){const F=c(i);r=nr(Jc,A),t=Array.isArray(F)?F:[F],l=!0,n=setInterval(()=>r=r.filter(D=>{const ee=Date.now()-D.created<js;return ee||D.destroy(),ee}),js*1.03),e=i.manualRelayReconnection?st:Lc()}const P=t.map(()=>Xc),j=[],B=t.map(async(F,D)=>p(await F,await m,await S,k(D),C));Et([m,S]).then(([F,D])=>{const ee=async(W,X)=>{const R=await s(W,F,D);typeof R=="number"&&(P[X]=R),j[X]=setTimeout(()=>ee(W,X),P[X])};B.forEach(async(W,X)=>{await W,ee(await t[X],X)})});let ie=st;return o[d]||={},o[d][a]=Yc(F=>ie=F,F=>delete f[F],()=>{delete o[d][a],j.forEach(clearTimeout),B.forEach(async F=>(await F)()),clearInterval(n),e(),l=!1})}},yl={},ef=4,jt={},Ns=({options:c})=>c.host+c.path,rf=Zc({init:c=>jc(c,tf,ef).map(p=>{const s=Ic.connect(p),o=Ns(s);return yl[o]=s.stream.socket,jt[o]={},s.on("message",(l,t)=>jt[o][l]?.(l,t.toString())).on("error",l=>console.error(l)),new Promise(l=>s.on("connect",()=>l(s)))}),subscribe:(c,p,s,o)=>{const l=Ns(c);return jt[l][p]=jt[l][s]=(t,r)=>o(t,r,c.publish.bind(c)),c.subscribe(p),c.subscribe(s),()=>{c.unsubscribe(p),c.unsubscribe(s),delete jt[l][p],delete jt[l][s]}},announce:(c,p)=>c.publish(p,ir({peerId:Lt}))}),nf=()=>({...yl}),tf=["test.mosquitto.org:8081/mqtt","broker.emqx.io:8084/mqtt","broker.hivemq.com:8884/mqtt"].map(c=>"wss://"+c);export{tf as defaultRelayUrls,nf as getRelaySockets,rf as joinRoom,Lt as selfId};
